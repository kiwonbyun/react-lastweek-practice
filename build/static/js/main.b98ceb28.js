/*! For license information please see main.b98ceb28.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,y=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",h]],g="[object Arguments]",k="[object Array]",b="[object Boolean]",w="[object Date]",_="[object Error]",x="[object Function]",S="[object GeneratorFunction]",E="[object Map]",T="[object Number]",I="[object Object]",C="[object Promise]",A="[object RegExp]",O="[object Set]",N="[object String]",R="[object Symbol]",P="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",L="[object Float32Array]",F="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",V="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",H=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Q=RegExp(K.source),J=RegExp($.source),X=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ke=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Ne="[\\ud800-\\udfff]",Re="["+Ae+"]",Pe="["+Se+"]",De="\\d+",Me="[\\u2700-\\u27bf]",Le="["+Te+"]",Fe="[^\\ud800-\\udfff"+Ae+De+Ee+Te+Ie+"]",je="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+Ie+"]",qe="(?:"+Le+"|"+Fe+")",We="(?:"+Be+"|"+Fe+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Pe+"|"+je+")"+"?",Ke="[\\ufe0e\\ufe0f]?",$e=Ke+Ye+("(?:\\u200d(?:"+[Ue,Ve,ze].join("|")+")"+Ke+Ye+")*"),Qe="(?:"+[Me,Ve,ze].join("|")+")"+$e,Je="(?:"+[Ue+Pe+"?",Pe,Ve,ze,Ne].join("|")+")",Xe=RegExp(Oe,"g"),Ze=RegExp(Pe,"g"),et=RegExp(je+"(?="+je+")|"+Je+$e,"g"),tt=RegExp([Be+"?"+Le+"+"+He+"(?="+[Re,Be,"$"].join("|")+")",We+"+"+Ge+"(?="+[Re,Be+qe,"$"].join("|")+")",Be+"?"+qe+"+"+He,Be+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Qe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[L]=ot[F]=ot[j]=ot[U]=ot[V]=ot[z]=ot[B]=ot[q]=ot[W]=!0,ot[g]=ot[k]=ot[D]=ot[b]=ot[M]=ot[w]=ot[_]=ot[x]=ot[E]=ot[T]=ot[I]=ot[A]=ot[O]=ot[N]=ot[P]=!1;var ut={};ut[g]=ut[k]=ut[D]=ut[M]=ut[b]=ut[w]=ut[L]=ut[F]=ut[j]=ut[U]=ut[V]=ut[E]=ut[T]=ut[I]=ut[A]=ut[O]=ut[N]=ut[R]=ut[z]=ut[B]=ut[q]=ut[W]=!0,ut[_]=ut[x]=ut[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===pt,mt=yt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),kt=gt&&gt.isArrayBuffer,bt=gt&&gt.isDate,wt=gt&&gt.isMap,_t=gt&&gt.isRegExp,xt=gt&&gt.isSet,St=gt&&gt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Nt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Ht("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Vt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,qt,n)}function Bt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function qt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:v}function Ht(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Kt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Xt(e,t){return Pt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):jt(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?dt:mn.defaults(dt.Object(),t,mn.pick(dt,it))).Array,r=t.Date,ue=t.Error,Se=t.Function,Ee=t.Math,Te=t.Object,Ie=t.RegExp,Ce=t.String,Ae=t.TypeError,Oe=n.prototype,Ne=Se.prototype,Re=Te.prototype,Pe=t["__core-js_shared__"],De=Ne.toString,Me=Re.hasOwnProperty,Le=0,Fe=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Re.toString,Ue=De.call(Te),Ve=dt._,ze=Ie("^"+De.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,He=Be?Be.allocUnsafe:i,Ge=cn(Te.getPrototypeOf,Te),Ye=Te.create,Ke=Re.propertyIsEnumerable,$e=Oe.splice,Qe=qe?qe.isConcatSpreadable:i,Je=qe?qe.iterator:i,et=qe?qe.toStringTag:i,nt=function(){try{var e=ha(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Ee.ceil,vt=Ee.floor,mt=Te.getOwnPropertySymbols,gt=Be?Be.isBuffer:i,jt=t.isFinite,Gt=Oe.join,gn=cn(Te.keys,Te),kn=Ee.max,bn=Ee.min,wn=r.now,_n=t.parseInt,xn=Ee.random,Sn=Oe.reverse,En=ha(t,"DataView"),Tn=ha(t,"Map"),In=ha(t,"Promise"),Cn=ha(t,"Set"),An=ha(t,"WeakMap"),On=ha(Te,"create"),Nn=An&&new An,Rn={},Pn=Ua(En),Dn=Ua(Tn),Mn=Ua(In),Ln=Ua(Cn),Fn=Ua(An),jn=qe?qe.prototype:i,Un=jn?jn.valueOf:i,Vn=jn?jn.toString:i;function zn(e){if(ru(e)&&!Go(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Va(e)}return new Wn(e)}var Bn=function(){function e(){}return function(t){if(!nu(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function qn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Jn(e,t){var n=Go(e),r=!n&&Ho(e),i=!n&&!r&&Qo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?$t(e.length,Ce):[],s=u.length;for(var c in e)!t&&!Me.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ka(c,s))||u.push(c);return u}function Xn(e){var t=e.length;return t?e[$r(0,t-1)]:i}function Zn(e,t){return La(Oi(e),sr(t,0,e.length))}function er(e){return La(Oi(e))}function tr(e,t,n){(n!==i&&!Bo(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&Bo(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Bo(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Ni(t,Pu(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Cu(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,a,o){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Go(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Oi(e,u)}else{var h=va(e),d=h==x||h==S;if(Qo(e))return Si(e,s);if(h==I||h==g||d&&!a){if(u=c||d?{}:ma(e),!s)return c?function(e,t){return Ni(e,pa(e),t)}(e,function(e,t){return e&&Ni(t,Du(t),e)}(u,e)):function(e,t){return Ni(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case D:return Ei(e);case b:case w:return new r(+e);case M:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case F:case j:case U:case V:case z:case B:case q:case W:return Ti(e,n);case E:return new r;case T:case N:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case R:return i=e,Un?Te(Un.call(i)):{}}var i}(e,h,s)}}o||(o=new Qn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,o))}));var v=f?i:(l?c?aa:ia:c?Du:Pu)(e);return It(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,o))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ae(a);return Ra((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Nt,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Pt(t,Jt(n))),r?(a=Rt,o=!1):t.length>=200&&(a=Zt,o=!1,t=new $n(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s}zn.templateSettings={escape:X,evaluate:Z,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=qn.prototype,zn.prototype.constructor=zn,Wn.prototype=Bn(qn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=Bn(qn.prototype),Hn.prototype.constructor=Hn,Gn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===o?i:n}return Me.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==i:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===i?o:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return rr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Tn||Yn),string:new Gn}},Kn.prototype.delete=function(e){var t=la(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return la(this,e).get(e)},Kn.prototype.has=function(e){return la(this,e).has(e)},Kn.prototype.set=function(e,t){var n=la(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,o),this},$n.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(wr),pr=Di(_r,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function yr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!lu(u):n(u,s)))var s=u,c=o}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ga),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?gr(u,t-1,n,r,i):Dt(i,u):r||(i[i.length]=u)}return i}var kr=Mi(),br=Mi(!0);function wr(e,t){return e&&kr(e,t,Pu)}function _r(e,t){return e&&br(e,t,Pu)}function xr(e,t){return Ot(t,(function(t){return Zo(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[ja(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Go(e)?r:Dt(r,n(e))}function Tr(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Te(e)?function(e){var t=Me.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=je.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return je.call(e)}(e)}function Ir(e,t){return e>t}function Cr(e,t){return null!=e&&Me.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Or(e,t,r){for(var a=r?Rt:Nt,o=e[0].length,u=e.length,s=u,c=n(u),l=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Pt(h,Jt(t))),l=bn(h.length,l),c[s]=!r&&(t||o>=120&&h.length>=120)?new $n(s&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<o&&f.length<l;){var v=h[d],y=t?t(v):v;if(v=r||0!==v?v:0,!(p?Zt(p,y):a(f,y,r))){for(s=u;--s;){var m=c[s];if(!(m?Zt(m,y):a(e[s],y,r)))continue e}p&&p.push(y),f.push(v)}}return f}function Nr(e,t,n){var r=null==(e=Ca(e,t=bi(t,e)))?e:e[ja(Ja(t))];return null==r?i:Et(r,e,n)}function Rr(e){return ru(e)&&Tr(e)==g}function Pr(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Go(e),s=Go(t),c=u?k:va(e),l=s?k:va(t),f=(c=c==g?I:c)==I,h=(l=l==g?I:l)==I,d=c==l;if(d&&Qo(e)){if(!Qo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Qn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!a(new We(e),new We(t)));case b:case w:case T:return Bo(+e,+t);case _:return e.name==t.name&&e.message==t.message;case A:case N:return e==t+"";case E:var u=sn;case O:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=na(u(e),u(t),r,i,a,o);return o.delete(e),l;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=h&&Me.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,m=v?t.value():t;return o||(o=new Qn),a(y,m,n,r,o)}}if(!d)return!1;return o||(o=new Qn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),c=s.length,l=ia(t).length;if(c!=l&&!u)return!1;var f=c;for(;f--;){var h=s[f];if(!(u?h in t:Me.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var y=u;for(;++f<c;){var m=e[h=s[f]],g=t[h];if(r)var k=u?r(g,m,h,t,e,o):r(m,g,h,e,t,o);if(!(k===i?m===g||a(m,g,n,r,o):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Pr,a))}function Dr(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Te(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=n[a])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===i&&!(c in e))return!1}else{var h=new Qn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Pr(f,l,3,r,h):d))return!1}}return!0}function Mr(e){return!(!nu(e)||(t=e,Fe&&Fe in t))&&(Zo(e)?ze:ge).test(Ua(e));var t}function Lr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Go(e)?Br(e[0],e[1]):zr(e):ps(e)}function Fr(e){if(!Sa(e))return gn(e);var t=[];for(var n in Te(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Sa(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Vr(e,t){var r=-1,i=Ko(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function zr(e){var t=fa(e);return 1==t.length&&t[0][2]?Ta(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Br(e,t){return wa(e)&&Ea(t)?Ta(ja(e),t):function(n){var r=Cu(n,e);return r===i&&r===t?Au(n,e):Pr(t,r,3)}}function qr(e,t,n,r,a){e!==t&&kr(t,(function(o,u){if(a||(a=new Qn),nu(o))!function(e,t,n,r,a,o,u){var s=Oa(e,n),c=Oa(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=o?o(s,c,n+"",e,t,u):i,h=f===i;if(h){var d=Go(c),p=!d&&Qo(c),v=!d&&!p&&fu(c);f=c,d||p||v?Go(s)?f=s:$o(s)?f=Oi(s):p?(h=!1,f=Si(c,!0)):v?(h=!1,f=Ti(c,!0)):f=[]:ou(c)||Ho(c)?(f=s,Ho(s)?f=ku(s):nu(s)&&!Zo(s)||(f=ma(c))):h=!1}h&&(u.set(c,f),a(f,c,r,o,u),u.delete(c));tr(e,n,f)}(e,t,u,n,qr,r,a);else{var s=r?r(Oa(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Du)}function Wr(e,t){var n=e.length;if(n)return ka(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Pt(t,(function(e){return Go(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Pt(t,Jt(ca()));var i=Vr(e,(function(e,n,i){var a=Pt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ii(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Sr(e,o);n(u,o)&&ei(a,bi(o,e),u)}return a}function Yr(e,t,n,r){var i=r?Bt:zt,a=-1,o=t.length,u=e;for(e===t&&(t=Oi(t)),n&&(u=Pt(e,Jt(n)));++a<o;)for(var s=0,c=t[a],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==e&&$e.call(u,s,1),$e.call(e,s,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ka(i)?$e.call(e,i,1):hi(e,i)}}return e}function $r(e,t){return e+vt(xn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return Pa(Ia(e,t,as),e+"")}function Xr(e){return Xn(Bu(e))}function Zr(e,t){var n=Bu(e);return La(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=bi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var c=ja(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=u){var f=s[c];(l=r?r(f,c,s):i)===i&&(l=nu(f)?f:ka(t[a+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var ti=Nn?function(e,t){return Nn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return La(Bu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!lu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,c=lu(t),l=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,y=lu(h);if(u)var m=r||v;else m=l?v&&(r||d):s?v&&d&&(r||!p):c?v&&d&&!p&&(r||!y):!p&&!y&&(r?h<=t:h<t);m?a=f+1:o=f}return bn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Bo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ci(e){return"number"==typeof e?e:lu(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Go(e))return Pt(e,li)+"";if(lu(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Nt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Rt;else if(a>=200){var c=t?null:Qi(e);if(c)return fn(c);o=!1,i=Zt,s=new $n}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function hi(e,t){return null==(e=Ca(e,t=bi(t,e)))||delete e[ja(Ja(t))]}function di(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function yi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(gr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function gi(e){return $o(e)?e:[]}function ki(e){return"function"==typeof e?e:as}function bi(e,t){return Go(e)?e:wa(e,t)?[e]:Fa(bu(e))}var wi=Jr;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=st||function(e){return dt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=lu(e),u=t!==i,s=null===t,c=t===t,l=lu(t);if(!s&&!l&&!o&&e>t||o&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!a)return 1;if(!r&&!o&&!l&&e<t||l&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!c)return-1}return 0}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,c=t.length,l=kn(o-u,0),f=n(c+l),h=!i;++s<c;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[s++]=e[a++];return f}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,c=-1,l=t.length,f=kn(o-s,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ni(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),a?or(n,s,c):nr(n,s,c)}return n}function Ri(e,t){return function(n,r){var i=Go(n)?Tt:ir,a=t?t():{};return i(n,e,ca(r,2),a)}}function Pi(e){return Jr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&ba(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Te(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Ko(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Te(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Mi(e){return function(t,n,r){for(var i=-1,a=Te(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Li(e){return function(t){var n=un(t=bu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?_i(n,1).join(""):t.slice(1);return r[e]()+a}}function Fi(e){return function(t){return Mt(Zu(Hu(t).replace(Xe,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Ui(e){return function(t,n,r){var a=Te(t);if(!Ko(t)){var o=ca(n,3);t=Pu(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Vi(e){return ra((function(t){var n=t.length,r=n,o=Wn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ae(a);if(o&&!s&&"wrapper"==ua(u))var s=new Wn([],!0)}for(r=s?r:n;++r<n;){var c=ua(u=t[r]),l="wrapper"==c?oa(u):i;s=l&&_a(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[ua(l[0])].apply(s,l[3]):1==u.length&&_a(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Go(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function zi(e,t,r,a,o,u,s,c,l,h){var d=t&f,p=1&t,v=2&t,y=24&t,m=512&t,g=v?i:ji(e);return function i(){for(var f=arguments.length,k=n(f),b=f;b--;)k[b]=arguments[b];if(y)var w=sa(i),_=nn(k,w);if(a&&(k=Ci(k,a,o,y)),u&&(k=Ai(k,u,s,y)),f-=_,y&&f<h){var x=ln(k,w);return Ki(e,t,zi,i.placeholder,r,k,x,c,l,h-f)}var S=p?r:this,E=v?S[e]:e;return f=k.length,c?k=Aa(k,c):m&&f>1&&k.reverse(),d&&l<f&&(k.length=l),this&&this!==dt&&this instanceof i&&(E=g||ji(E)),E.apply(S,k)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function qi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),a=e(n,r)}return a}}function Wi(e){return ra((function(t){return t=Pt(t,Jt(ca())),Jr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,pt(e/dn(t)));return un(t)?_i(pn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,a){return a&&"number"!=typeof a&&ba(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=kn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function Yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gu(t),n=gu(n)),e(t,n)}}function Ki(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return _a(e)&&Na(v,p),v.placeholder=r,Da(v,e,t)}function $i(e){var t=Ee[e];return function(e,n){if(e=gu(e),(n=null==n?0:bn(yu(n),292))&&jt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=Cn&&1/fn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:ls;function Ji(e){return function(t){var n=va(t);return n==E?sn(t):n==O?hn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,o,d,p,v,y){var m=2&t;if(!m&&"function"!=typeof e)throw new Ae(a);var g=o?o.length:0;if(g||(t&=-97,o=d=i),v=v===i?v:kn(yu(v),0),y=y===i?y:yu(y),g-=d?d.length:0,t&l){var k=o,b=d;o=d=i}var w=m?i:oa(e),_=[e,t,r,o,d,k,b,p,v,y];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ci(c,s,t[4]):s,e[4]=c?ln(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ai(c,s,t[6]):s,e[6]=c?ln(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,w),e=_[0],t=_[1],r=_[2],o=_[3],d=_[4],!(y=_[9]=_[9]===i?m?0:e.length:kn(_[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,r){var a=ji(e);return function o(){for(var u=arguments.length,s=n(u),c=u,l=sa(o);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:ln(s,l);return(u-=f.length)<r?Ki(e,t,zi,o.placeholder,i,s,f,i,i,r-u):Et(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,y):t!=c&&33!=t||d.length?zi.apply(i,_):function(e,t,r,i){var a=1&t,o=ji(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=i.length,f=n(l+s),h=this&&this!==dt&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;s--;)f[c++]=arguments[++u];return Et(h,a?r:this,f)}}(e,t,r,o);else var x=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Da((w?ti:Na)(x,_),e,t)}function Zi(e,t,n,r){return e===i||Bo(e,Re[n])&&!Me.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),qr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new $n:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],y=t[h];if(r)var m=u?r(y,v,h,t,e,o):r(v,y,h,e,t,o);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==y&&!a(v,y,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Pa(Ia(e,i,Ga),e+"")}function ia(e){return Er(e,Pu,da)}function aa(e){return Er(e,Du,pa)}var oa=Nn?function(e){return Nn.get(e)}:ls;function ua(e){for(var t=e.name+"",n=Rn[t],r=Me.call(Rn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Me.call(zn,"placeholder")?zn:e).placeholder}function ca(){var e=zn.iteratee||os;return e=e===os?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function la(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Pu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var da=mt?function(e){return null==e?[]:(e=Te(e),Ot(mt(e),(function(t){return Ke.call(e,t)})))}:ms,pa=mt?function(e){for(var t=[];e;)Dt(t,da(e)),e=Ge(e);return t}:ms,va=Tr;function ya(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,a=!1;++r<i;){var o=ja(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ka(o,i)&&(Go(e)||Ho(e))}function ma(e){return"function"!=typeof e.constructor||Sa(e)?{}:Bn(Ge(e))}function ga(e){return Go(e)||Ho(e)||!!(Qe&&e&&e[Qe])}function ka(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function ba(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Ko(n)&&ka(t,n.length):"string"==r&&t in n)&&Bo(n[t],e)}function wa(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!lu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function _a(e){var t=ua(e),n=zn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(En&&va(new En(new ArrayBuffer(1)))!=M||Tn&&va(new Tn)!=E||In&&va(In.resolve())!=C||Cn&&va(new Cn)!=O||An&&va(new An)!=P)&&(va=function(e){var t=Tr(e),n=t==I?e.constructor:i,r=n?Ua(n):"";if(r)switch(r){case Pn:return M;case Dn:return E;case Mn:return C;case Ln:return O;case Fn:return P}return t});var xa=Pe?Zo:gs;function Sa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Ea(e){return e===e&&!nu(e)}function Ta(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Ia(e,t,r){return t=kn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=kn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),Et(e,this,s)}}function Ca(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function Aa(e,t){for(var n=e.length,r=bn(t.length,n),a=Oi(e);r--;){var o=t[r];e[r]=ka(o,n)?a[o]:i}return e}function Oa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Na=Ma(ti),Ra=ht||function(e,t){return dt.setTimeout(e,t)},Pa=Ma(ni);function Da(e,t,n){var r=t+"";return Pa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(m,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Ma(e){var t=0,n=0;return function(){var r=wn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function La(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=$r(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var Fa=function(e){var t=Lo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function ja(e){if("string"==typeof e||lu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var za=Jr((function(e,t){return $o(e)?hr(e,gr(t,1,$o,!0)):[]})),Ba=Jr((function(e,t){var n=Ja(t);return $o(n)&&(n=i),$o(e)?hr(e,gr(t,1,$o,!0),ca(n,2)):[]})),qa=Jr((function(e,t){var n=Ja(t);return $o(n)&&(n=i),$o(e)?hr(e,gr(t,1,$o,!0),i,n):[]}));function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=kn(r+i,0)),Vt(e,ca(t,3),i)}function Ha(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=yu(n),a=n<0?kn(r+a,0):bn(a,r-1)),Vt(e,ca(t,3),a,!0)}function Ga(e){return(null==e?0:e.length)?gr(e,1):[]}function Ya(e){return e&&e.length?e[0]:i}var Ka=Jr((function(e){var t=Pt(e,gi);return t.length&&t[0]===e[0]?Or(t):[]})),$a=Jr((function(e){var t=Ja(e),n=Pt(e,gi);return t===Ja(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Or(n,ca(t,2)):[]})),Qa=Jr((function(e){var t=Ja(e),n=Pt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Or(n,i,t):[]}));function Ja(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Jr(Za);function Za(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Kr(e,Pt(t,(function(e){return ka(e,n)?+e:e})).sort(Ii)),r}));function to(e){return null==e?e:Sn.call(e)}var no=Jr((function(e){return fi(gr(e,1,$o,!0))})),ro=Jr((function(e){var t=Ja(e);return $o(t)&&(t=i),fi(gr(e,1,$o,!0),ca(t,2))})),io=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,fi(gr(e,1,$o,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if($o(e))return t=kn(e.length,t),!0})),$t(t,(function(t){return Pt(e,Ht(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Pt(n,(function(e){return Et(t,i,e)}))}var uo=Jr((function(e,t){return $o(e)?hr(e,t):[]})),so=Jr((function(e){return yi(Ot(e,$o))})),co=Jr((function(e){var t=Ja(e);return $o(t)&&(t=i),yi(Ot(e,$o),ca(t,2))})),lo=Jr((function(e){var t=Ja(e);return t="function"==typeof t?t:i,yi(Ot(e,$o),i,t)})),fo=Jr(ao);var ho=Jr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=zn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var yo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&ka(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var mo=Ri((function(e,t,n){Me.call(e,n)?++e[n]:or(e,n,1)}));var go=Ui(Wa),ko=Ui(Ha);function bo(e,t){return(Go(e)?It:dr)(e,ca(t,3))}function wo(e,t){return(Go(e)?Ct:pr)(e,ca(t,3))}var _o=Ri((function(e,t,n){Me.call(e,n)?e[n].push(t):or(e,n,[t])}));var xo=Jr((function(e,t,r){var i=-1,a="function"==typeof t,o=Ko(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Et(t,e,r):Nr(e,t,r)})),o})),So=Ri((function(e,t,n){or(e,n,t)}));function Eo(e,t){return(Go(e)?Pt:Vr)(e,ca(t,3))}var To=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Io=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ba(e,t[0],t[1])?t=[]:n>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,gr(t,1),[])})),Co=ft||function(){return dt.Date.now()};function Ao(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,f,i,i,i,i,t)}function Oo(e,t){var n;if("function"!=typeof t)throw new Ae(a);return e=yu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var No=Jr((function(e,t,n){var r=1;if(n.length){var i=ln(n,sa(No));r|=c}return Xi(e,r,t,n,i)})),Ro=Jr((function(e,t,n){var r=3;if(n.length){var i=ln(n,sa(Ro));r|=c}return Xi(t,r,e,n,i)}));function Po(e,t,n){var r,o,u,s,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function y(e){return f=e,c=Ra(g,t),h?v(e):s}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=u}function g(){var e=Co();if(m(e))return k(e);c=Ra(g,function(e){var n=t-(e-l);return d?bn(n,u-(e-f)):n}(e))}function k(e){return c=i,p&&r?v(e):(r=o=i,s)}function b(){var e=Co(),n=m(e);if(r=arguments,o=this,l=e,n){if(c===i)return y(l);if(d)return xi(c),c=Ra(g,t),v(l)}return c===i&&(c=Ra(g,t)),s}return t=gu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?kn(gu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),f=0,r=l=o=c=i},b.flush=function(){return c===i?s:k(Co())},b}var Do=Jr((function(e,t){return fr(e,1,t)})),Mo=Jr((function(e,t,n){return fr(e,gu(t)||0,n)}));function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Lo.Cache||Kn),n}function Fo(e){if("function"!=typeof e)throw new Ae(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Lo.Cache=Kn;var jo=wi((function(e,t){var n=(t=1==t.length&&Go(t[0])?Pt(t[0],Jt(ca())):Pt(gr(t,1),Jt(ca()))).length;return Jr((function(r){for(var i=-1,a=bn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Et(e,this,r)}))})),Uo=Jr((function(e,t){var n=ln(t,sa(Uo));return Xi(e,c,i,t,n)})),Vo=Jr((function(e,t){var n=ln(t,sa(Vo));return Xi(e,l,i,t,n)})),zo=ra((function(e,t){return Xi(e,h,i,i,i,t)}));function Bo(e,t){return e===t||e!==e&&t!==t}var qo=Yi(Ir),Wo=Yi((function(e,t){return e>=t})),Ho=Rr(function(){return arguments}())?Rr:function(e){return ru(e)&&Me.call(e,"callee")&&!Ke.call(e,"callee")},Go=n.isArray,Yo=kt?Jt(kt):function(e){return ru(e)&&Tr(e)==D};function Ko(e){return null!=e&&tu(e.length)&&!Zo(e)}function $o(e){return ru(e)&&Ko(e)}var Qo=gt||gs,Jo=bt?Jt(bt):function(e){return ru(e)&&Tr(e)==w};function Xo(e){if(!ru(e))return!1;var t=Tr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Zo(e){if(!nu(e))return!1;var t=Tr(e);return t==x||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==yu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=wt?Jt(wt):function(e){return ru(e)&&va(e)==E};function au(e){return"number"==typeof e||ru(e)&&Tr(e)==T}function ou(e){if(!ru(e)||Tr(e)!=I)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var uu=_t?Jt(_t):function(e){return ru(e)&&Tr(e)==A};var su=xt?Jt(xt):function(e){return ru(e)&&va(e)==O};function cu(e){return"string"==typeof e||!Go(e)&&ru(e)&&Tr(e)==N}function lu(e){return"symbol"==typeof e||ru(e)&&Tr(e)==R}var fu=St?Jt(St):function(e){return ru(e)&&tu(e.length)&&!!ot[Tr(e)]};var hu=Yi(Ur),du=Yi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Ko(e))return cu(e)?pn(e):Oi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=va(e);return(t==E?sn:t==O?fn:Bu)(e)}function vu(e){return e?(e=gu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function yu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function mu(e){return e?sr(yu(e),0,y):0}function gu(e){if("number"==typeof e)return e;if(lu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=me.test(e);return n||ke.test(e)?lt(e.slice(2),n?2:8):ye.test(e)?v:+e}function ku(e){return Ni(e,Du(e))}function bu(e){return null==e?"":li(e)}var wu=Pi((function(e,t){if(Sa(t)||Ko(t))Ni(t,Pu(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),_u=Pi((function(e,t){Ni(t,Du(t),e)})),xu=Pi((function(e,t,n,r){Ni(t,Du(t),e,r)})),Su=Pi((function(e,t,n,r){Ni(t,Pu(t),e,r)})),Eu=ra(ur);var Tu=Jr((function(e,t){e=Te(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ba(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Du(o),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===i||Bo(f,Re[l])&&!Me.call(e,l))&&(e[l]=o[l])}return e})),Iu=Jr((function(e){return e.push(i,ea),Et(Lu,i,e)}));function Cu(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Au(e,t){return null!=e&&ya(e,t,Ar)}var Ou=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),ns(as)),Nu=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ca),Ru=Jr(Nr);function Pu(e){return Ko(e)?Jn(e):Fr(e)}function Du(e){return Ko(e)?Jn(e,!0):jr(e)}var Mu=Pi((function(e,t,n){qr(e,t,n)})),Lu=Pi((function(e,t,n,r){qr(e,t,n,r)})),Fu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ni(e,aa(e),n),r&&(n=cr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var ju=ra((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return Au(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=Pt(aa(e),(function(e){return[e]}));return t=ca(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var Vu=Ji(Pu),zu=Ji(Du);function Bu(e){return null==e?[]:Xt(e,Pu(e))}var qu=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return Xu(bu(e).toLowerCase())}function Hu(e){return(e=bu(e))&&e.replace(we,rn).replace(Ze,"")}var Gu=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yu=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ku=Li("toLowerCase");var $u=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qu=Fi((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var Ju=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Li("toUpperCase");function Zu(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Jr((function(e,t){try{return Et(e,i,t)}catch(n){return Xo(n)?n:new ue(n)}})),ts=ra((function(e,t){return It(t,(function(t){t=ja(t),or(e,t,No(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Vi(),is=Vi(!0);function as(e){return e}function os(e){return Lr("function"==typeof e?e:cr(e,1))}var us=Jr((function(e,t){return function(n){return Nr(n,e,t)}})),ss=Jr((function(e,t){return function(n){return Nr(e,n,t)}}));function cs(e,t,n){var r=Pu(t),i=xr(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Pu(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=Zo(e);return It(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function ls(){}var fs=Wi(Pt),hs=Wi(At),ds=Wi(Ft);function ps(e){return wa(e)?Ht(ja(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vs=Gi(),ys=Gi(!0);function ms(){return[]}function gs(){return!1}var ks=qi((function(e,t){return e+t}),0),bs=$i("ceil"),ws=qi((function(e,t){return e/t}),1),_s=$i("floor");var xs=qi((function(e,t){return e*t}),1),Ss=$i("round"),Es=qi((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Ae(a);return e=yu(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Ao,zn.assign=wu,zn.assignIn=_u,zn.assignInWith=xu,zn.assignWith=Su,zn.at=Eu,zn.before=Oo,zn.bind=No,zn.bindAll=ts,zn.bindKey=Ro,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},zn.chain=po,zn.chunk=function(e,t,r){t=(r?ba(e,t,r):t===i)?1:kn(yu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Go(r)?Oi(r):[r],gr(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=ca();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Ae(a);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Et(i[0],this,n))return Et(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Pu(e);return function(n){return lr(n,e,t)}}(cr(e,1))},zn.constant=ns,zn.countBy=mo,zn.create=function(e,t){var n=Bn(e);return null==t?n:ar(n,t)},zn.curry=function e(t,n,r){var a=Xi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.curryRight=function e(t,n,r){var a=Xi(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},zn.debounce=Po,zn.defaults=Tu,zn.defaultsDeep=Iu,zn.defer=Do,zn.delay=Mo,zn.difference=za,zn.differenceBy=Ba,zn.differenceWith=qa,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:yu(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:yu(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!0):[]},zn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ba(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=yu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:yu(r))<0&&(r+=a),r=n>r?0:mu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(Go(e)?Ot:mr)(e,ca(t,3))},zn.flatMap=function(e,t){return gr(Eo(e,t),1)},zn.flatMapDeep=function(e,t){return gr(Eo(e,t),d)},zn.flatMapDepth=function(e,t,n){return n=n===i?1:yu(n),gr(Eo(e,t),n)},zn.flatten=Ga,zn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,d):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:yu(t)):[]},zn.flip=function(e){return Xi(e,512)},zn.flow=rs,zn.flowRight=is,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:xr(e,Pu(e))},zn.functionsIn=function(e){return null==e?[]:xr(e,Du(e))},zn.groupBy=_o,zn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},zn.intersection=Ka,zn.intersectionBy=$a,zn.intersectionWith=Qa,zn.invert=Ou,zn.invertBy=Nu,zn.invokeMap=xo,zn.iteratee=os,zn.keyBy=So,zn.keys=Pu,zn.keysIn=Du,zn.map=Eo,zn.mapKeys=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=ca(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(cr(e,1))},zn.matchesProperty=function(e,t){return Br(e,cr(t,1))},zn.memoize=Lo,zn.merge=Mu,zn.mergeWith=Lu,zn.method=us,zn.methodOf=ss,zn.mixin=cs,zn.negate=Fo,zn.nthArg=function(e){return e=yu(e),Jr((function(t){return Wr(t,e)}))},zn.omit=Fu,zn.omitBy=function(e,t){return Uu(e,Fo(ca(t)))},zn.once=function(e){return Oo(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},zn.over=fs,zn.overArgs=jo,zn.overEvery=hs,zn.overSome=ds,zn.partial=Uo,zn.partialRight=Vo,zn.partition=To,zn.pick=ju,zn.pickBy=Uu,zn.property=ps,zn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},zn.pull=Xa,zn.pullAll=Za,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,ca(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,i,n):e},zn.pullAt=eo,zn.range=vs,zn.rangeRight=ys,zn.rearg=zo,zn.reject=function(e,t){return(Go(e)?Ot:mr)(e,Fo(ca(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ca(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Kr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Ae(a);return Jr(e,t=t===i?t:yu(t))},zn.reverse=to,zn.sampleSize=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:yu(t),(Go(e)?Zn:Zr)(e,t)},zn.set=function(e,t,n){return null==e?e:ei(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},zn.shuffle=function(e){return(Go(e)?er:ri)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ba(e,t,n)?(t=0,n=r):(t=null==t?0:yu(t),n=n===i?r:yu(n)),ii(e,t,n)):[]},zn.sortBy=Io,zn.sortedUniq=function(e){return e&&e.length?si(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?si(e,ca(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&ba(e,t,n)&&(t=n=i),(n=n===i?y:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=li(t))&&un(e)?_i(pn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Ae(a);return t=null==t?0:kn(yu(t),0),Jr((function(n){var r=n[t],i=_i(n,0,t);return r&&Dt(i,r),Et(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:yu(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:yu(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?pi(e,ca(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?pi(e,ca(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Po(e,t,{leading:r,maxWait:t,trailing:i})},zn.thru=vo,zn.toArray=pu,zn.toPairs=Vu,zn.toPairsIn=zu,zn.toPath=function(e){return Go(e)?Pt(e,ja):lu(e)?[e]:Oi(Fa(bu(e)))},zn.toPlainObject=ku,zn.transform=function(e,t,n){var r=Go(e),i=r||Qo(e)||fu(e);if(t=ca(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&Zo(a)?Bn(Ge(e)):{}}return(i?It:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Ao(e,1)},zn.union=no,zn.unionBy=ro,zn.unionWith=io,zn.uniq=function(e){return e&&e.length?fi(e):[]},zn.uniqBy=function(e,t){return e&&e.length?fi(e,ca(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},zn.unset=function(e,t){return null==e||hi(e,t)},zn.unzip=ao,zn.unzipWith=oo,zn.update=function(e,t,n){return null==e?e:di(e,t,ki(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,ki(n),r)},zn.values=Bu,zn.valuesIn=function(e){return null==e?[]:Xt(e,Du(e))},zn.without=uo,zn.words=Zu,zn.wrap=function(e,t){return Uo(ki(t),e)},zn.xor=so,zn.xorBy=co,zn.xorWith=lo,zn.zip=fo,zn.zipObject=function(e,t){return mi(e||[],t||[],nr)},zn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},zn.zipWith=ho,zn.entries=Vu,zn.entriesIn=zu,zn.extend=_u,zn.extendWith=xu,cs(zn,zn),zn.add=ks,zn.attempt=es,zn.camelCase=qu,zn.capitalize=Wu,zn.ceil=bs,zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=gu(n))===n?n:0),t!==i&&(t=(t=gu(t))===t?t:0),sr(gu(e),t,n)},zn.clone=function(e){return cr(e,4)},zn.cloneDeep=function(e){return cr(e,5)},zn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},zn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},zn.conformsTo=function(e,t){return null==t||lr(e,t,Pu(t))},zn.deburr=Hu,zn.defaultTo=function(e,t){return null==e||e!==e?t:e},zn.divide=ws,zn.endsWith=function(e,t,n){e=bu(e),t=li(t);var r=e.length,a=n=n===i?r:sr(yu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},zn.eq=Bo,zn.escape=function(e){return(e=bu(e))&&J.test(e)?e.replace($,an):e},zn.escapeRegExp=function(e){return(e=bu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},zn.every=function(e,t,n){var r=Go(e)?At:vr;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},zn.find=go,zn.findIndex=Wa,zn.findKey=function(e,t){return Ut(e,ca(t,3),wr)},zn.findLast=ko,zn.findLastIndex=Ha,zn.findLastKey=function(e,t){return Ut(e,ca(t,3),_r)},zn.floor=_s,zn.forEach=bo,zn.forEachRight=wo,zn.forIn=function(e,t){return null==e?e:kr(e,ca(t,3),Du)},zn.forInRight=function(e,t){return null==e?e:br(e,ca(t,3),Du)},zn.forOwn=function(e,t){return e&&wr(e,ca(t,3))},zn.forOwnRight=function(e,t){return e&&_r(e,ca(t,3))},zn.get=Cu,zn.gt=qo,zn.gte=Wo,zn.has=function(e,t){return null!=e&&ya(e,t,Cr)},zn.hasIn=Au,zn.head=Ya,zn.identity=as,zn.includes=function(e,t,n,r){e=Ko(e)?e:Bu(e),n=n&&!r?yu(n):0;var i=e.length;return n<0&&(n=kn(i+n,0)),cu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:yu(n);return i<0&&(i=kn(r+i,0)),zt(e,t,i)},zn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=bn(t,n)&&e<kn(t,n)}(e=gu(e),t,n)},zn.invoke=Ru,zn.isArguments=Ho,zn.isArray=Go,zn.isArrayBuffer=Yo,zn.isArrayLike=Ko,zn.isArrayLikeObject=$o,zn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Tr(e)==b},zn.isBuffer=Qo,zn.isDate=Jo,zn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ko(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||Qo(e)||fu(e)||Ho(e)))return!e.length;var t=va(e);if(t==E||t==O)return!e.size;if(Sa(e))return!Fr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Pr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},zn.isError=Xo,zn.isFinite=function(e){return"number"==typeof e&&jt(e)},zn.isFunction=Zo,zn.isInteger=eu,zn.isLength=tu,zn.isMap=iu,zn.isMatch=function(e,t){return e===t||Dr(e,t,fa(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fa(t),n)},zn.isNaN=function(e){return au(e)&&e!=+e},zn.isNative=function(e){if(xa(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=au,zn.isObject=nu,zn.isObjectLike=ru,zn.isPlainObject=ou,zn.isRegExp=uu,zn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},zn.isSet=su,zn.isString=cu,zn.isSymbol=lu,zn.isTypedArray=fu,zn.isUndefined=function(e){return e===i},zn.isWeakMap=function(e){return ru(e)&&va(e)==P},zn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Tr(e)},zn.join=function(e,t){return null==e?"":Gt.call(e,t)},zn.kebabCase=Gu,zn.last=Ja,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=yu(n))<0?kn(r+a,0):bn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Vt(e,qt,a,!0)},zn.lowerCase=Yu,zn.lowerFirst=Ku,zn.lt=hu,zn.lte=du,zn.max=function(e){return e&&e.length?yr(e,as,Ir):i},zn.maxBy=function(e,t){return e&&e.length?yr(e,ca(t,2),Ir):i},zn.mean=function(e){return Wt(e,as)},zn.meanBy=function(e,t){return Wt(e,ca(t,2))},zn.min=function(e){return e&&e.length?yr(e,as,Ur):i},zn.minBy=function(e,t){return e&&e.length?yr(e,ca(t,2),Ur):i},zn.stubArray=ms,zn.stubFalse=gs,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=xs,zn.nth=function(e,t){return e&&e.length?Wr(e,yu(t)):i},zn.noConflict=function(){return dt._===this&&(dt._=Ve),this},zn.noop=ls,zn.now=Co,zn.pad=function(e,t,n){e=bu(e);var r=(t=yu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(vt(i),n)+e+Hi(pt(i),n)},zn.padEnd=function(e,t,n){e=bu(e);var r=(t=yu(t))?dn(e):0;return t&&r<t?e+Hi(t-r,n):e},zn.padStart=function(e,t,n){e=bu(e);var r=(t=yu(t))?dn(e):0;return t&&r<t?Hi(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(bu(e).replace(oe,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ba(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=xn();return bn(e+a*(t-e+ct("1e-"+((a+"").length-1))),t)}return $r(e,t)},zn.reduce=function(e,t,n){var r=Go(e)?Mt:Yt,i=arguments.length<3;return r(e,ca(t,4),n,i,dr)},zn.reduceRight=function(e,t,n){var r=Go(e)?Lt:Yt,i=arguments.length<3;return r(e,ca(t,4),n,i,pr)},zn.repeat=function(e,t,n){return t=(n?ba(e,t,n):t===i)?1:yu(t),Qr(bu(e),t)},zn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,a=(t=bi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[ja(t[r])];o===i&&(r=a,o=n),e=Zo(o)?o.call(e):o}return e},zn.round=Ss,zn.runInContext=e,zn.sample=function(e){return(Go(e)?Xn:Xr)(e)},zn.size=function(e){if(null==e)return 0;if(Ko(e))return cu(e)?dn(e):e.length;var t=va(e);return t==E||t==O?e.size:Fr(e).length},zn.snakeCase=$u,zn.some=function(e,t,n){var r=Go(e)?Ft:ai;return n&&ba(e,t,n)&&(t=i),r(e,ca(t,3))},zn.sortedIndex=function(e,t){return oi(e,t)},zn.sortedIndexBy=function(e,t,n){return ui(e,t,ca(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Bo(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return ui(e,t,ca(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Bo(e[n],t))return n}return-1},zn.startCase=Qu,zn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(yu(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},zn.subtract=Es,zn.sum=function(e){return e&&e.length?Kt(e,as):0},zn.sumBy=function(e,t){return e&&e.length?Kt(e,ca(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&ba(e,t,n)&&(t=i),e=bu(e),t=xu({},t,r,Zi);var a,o,u=xu({},t.imports,r.imports,Zi),s=Pu(u),c=Xt(u,s),l=0,f=t.interpolate||_e,h="__p += '",d=Ie((t.escape||_e).source+"|"+f.source+"|"+(f===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(l,s).replace(xe,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),h+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(H,""):h).replace(G,"$1").replace(Y,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=es((function(){return Se(s,p+"return "+h).apply(i,c)}));if(y.source=h,Xo(y))throw y;return y},zn.times=function(e,t){if((e=yu(e))<1||e>p)return[];var n=y,r=bn(e,y);t=ca(t),e-=y;for(var i=$t(r,t);++n<e;)t(n);return i},zn.toFinite=vu,zn.toInteger=yu,zn.toLength=mu,zn.toLower=function(e){return bu(e).toLowerCase()},zn.toNumber=gu,zn.toSafeInteger=function(e){return e?sr(yu(e),-9007199254740991,p):0===e?e:0},zn.toString=bu,zn.toUpper=function(e){return bu(e).toUpperCase()},zn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Qt(e);if(!e||!(t=li(t)))return e;var r=pn(e),a=pn(t);return _i(r,en(r,a),tn(r,a)+1).join("")},zn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,0,tn(r,pn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=li(t)))return e;var r=pn(e);return _i(r,en(r,pn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?yu(t.length):n,r="omission"in t?li(t.omission):r}var o=(e=bu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var c=u?_i(u,0,s).join(""):e.slice(0,s);if(a===i)return c+r;if(u&&(s+=c.length-s),uu(a)){if(e.slice(s).search(a)){var l,f=c;for(a.global||(a=Ie(a.source,bu(ve.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===i?s:h)}}else if(e.indexOf(li(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+r},zn.unescape=function(e){return(e=bu(e))&&Q.test(e)?e.replace(K,yn):e},zn.uniqueId=function(e){var t=++Le;return bu(e)+t},zn.upperCase=Ju,zn.upperFirst=Xu,zn.each=bo,zn.eachRight=wo,zn.first=Ya,cs(zn,function(){var e={};return wr(zn,(function(t,n){Me.call(zn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),zn.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),It(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:kn(yu(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),It(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ca(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),It(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),It(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(as)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Nr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Fo(ca(e)))},Hn.prototype.slice=function(e,t){e=yu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=yu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(y)},wr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=zn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(zn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Hn,c=u[0],l=s||Go(t),f=function(e){var t=a.apply(zn,Dt([e],u));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&l){t=v?t:new Hn(this);var y=e.apply(t,u);return y.__actions__.push({func:vo,args:[f],thisArg:i}),new Wn(y,h)}return p&&v?e.apply(this,u):(y=this.thru(f),p?r?y.value()[0]:y.value():y)})})),It(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Me.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[zi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bn(t,e+o);break;case"takeRight":e=kn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,c=r?u:o-1,l=this.__iteratees__,f=l.length,h=0,d=bn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,y=e[c+=t];++v<f;){var m=l[v],g=m.iteratee,k=m.type,b=g(y);if(2==k)y=b;else if(!b){if(1==k)continue e;break e}}p[h++]=y}return p},zn.prototype.at=yo,zn.prototype.chain=function(){return po(this)},zn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Va(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(to)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Je&&(zn.prototype[Je]=function(){return this}),zn}();dt._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=y(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(y(t),e):y(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function w(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)u(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=A(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=W(t,e.localeData()),j[t]=j[t]||B(t),j[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function K(){return this._invalidDate}var $="%d",Q=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var ye,me=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Te=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ae=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Ne=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){ye[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return u(ye,e)?ye[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ye={};var je={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)je[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&u(je,e)&&je[e](t,n._a,n,e)}var Be,qe=0,We=1,He=2,Ge=3,Ye=4,Ke=5,$e=6,Qe=7,Je=8;function Xe(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),De("M",_e),De("MM",_e,ge),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:y(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),De("Y",Ae),De("YY",_e,ge),De("YYYY",Te,be),De("YYYYY",Ie,we),De("YYYYYY",Ie,we),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var yt=fe("FullYear",!0);function mt(){return se(this.year())}function gt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),De("w",_e),De("ww",_e,ge),De("W",_e),De("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Tt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Nt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),De("d",_e),De("e",_e),De("E",_e),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,Ft=Pe,jt=Pe;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Nt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $t(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),u.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Jt),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),De("a",en),De("A",en),De("H",_e),De("h",_e),De("k",_e),De("HH",_e,ge),De("hh",_e,ge),De("kk",_e,ge),De("hmm",xe),De("hmmss",Se),De("Hmm",xe),De("Hmmss",Se),Ue(["H","HH"],Ge),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ge]=le(e),y(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r)),y(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ke]=le(e.substr(i)),y(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ke]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:P,longDateFormat:H,invalidDate:Y,ordinal:$,dayOfMonthOrdinalParse:Q,relativeTime:X,months:et,monthsShort:tt,week:Et,weekdays:Pt,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},sn={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===sn[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){sn[t]=null}return sn[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):yn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function yn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new R(N(r,t)),cn[e]&&cn[e].forEach((function(e){yn(e.name,e.config)})),vn(e),sn[e]}return delete sn[e],null}function mn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(N(sn[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=N(i,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=sn[e],sn[e]=n),vn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===vn()&&vn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return T(sn)}function bn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[qe],n[We])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ye]||0!==n[Ke]||0!==n[$e])?Ge:n[Ye]<0||n[Ye]>59?Ye:n[Ke]<0||n[Ke]>59?Ke:n[$e]<0||n[$e]>999?$e:-1,y(e)._overflowDayOfYear&&(t<qe||t>He)&&(t=He),y(e)._overflowWeeks&&-1===t&&(t=Qe),y(e)._overflowWeekday&&-1===t&&(t=Je),y(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,a,o,u=e._i,s=wn.exec(u)||_n.exec(u),c=Sn.length,l=En.length;if(s){for(y(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(s[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(s[3])){a=(s[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!xn.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),zn(e)}else e._isValid=!1}function On(e,t,n,r,i,a){var o=[Nn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Nn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=In.exec(Rn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Tn.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[He]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Fn(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ye]&&0===e._a[Ke]&&0===e._a[$e]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,u,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[qe],_t($n(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t($n(),a,o),n=Fn(t.gg,e._a[qe],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>xt(n,a,o)?y(e)._overflowWeeks=!0:null!=s?y(e)._overflowWeekday=!0:(u=wt(n,r,i,a,o),e._a[qe]=u.year,e._dayOfYear=u.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,a,o,u,s,c=""+e._i,l=c.length,f=0;for(s=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<s;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&y(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?y(e).empty=!1:y(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&y(e).unusedTokens.push(a);y(e).charsLeftOver=l-f,c.length>0&&y(e).unusedInput.push(c),e._a[Ge]<=12&&!0===y(e).bigHour&&e._a[Ge]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[Ge]=Bn(e._locale,e._a[Ge],e._meridiem),null!==(u=y(e).era)&&(e._a[qe]=e._locale.erasConvertYear(u,e._a[qe])),Un(e),bn(e)}else Mn(e);else An(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,u=!1,s=e._f.length;if(0===s)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<s;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),m(t)&&(o=!0),a+=y(t).charsLeftOver,a+=10*y(t).unusedTokens.length,y(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));d(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Hn(e){var t=new _(bn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(bn(t)):(f(t)?e._d=t:a(n)?qn(e):n?zn(e):Yn(e),m(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Hn(u)}function $n(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Jn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=$n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return $n();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(u(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ur(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),De("Z",Ne),De("ZZ",Ne),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Ne,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():$n(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):$n(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Ne,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Pr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function yr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?$n(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):$n(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return ur(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ge])*n,m:le(o[Ye])*n,s:le(o[Ke])*n,ms:le(sr(1e3*o[$e]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:Ar(o[2],n),M:Ar(o[3],n),w:Ar(o[4],n),d:Ar(o[5],n),h:Ar(o[6],n),m:Ar(o[7],n),s:Ar(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Nr($n(a.from),$n(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),ur(e)&&u(e,"_locale")&&(r._locale=e._locale),ur(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Nr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Cr(n,r),e),this}}function Pr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),u=sr(t._months);e.isValid()&&(i=null==i||i,u&&ct(e,he(e,"Month")+u*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Cr.fn=or.prototype,Cr.invalid=ar;var Dr=Rr(1,"add"),Mr=Rr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return x(e)||f(e)||Lr(e)||l(e)||Ur(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||$n(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,$n(n)))}function qr(){return new _(this)}function Wr(e,t){var n=x(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=x(e)?e:$n(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=x(e)?e:$n(e),a=x(t)?t:$n(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=x(e)?e:$n(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function $r(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Jr(this,r)/12;break;case"month":a=Jr(this,r);break;case"quarter":a=Jr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||$n(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from($n(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||$n(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to($n(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ui=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function Ei(){return d({},y(this))}function Ti(){return y(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ai(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return u(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return u(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return u(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return xt(this.year(),1,4)}function Yi(){return xt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function $i(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var a=wt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),De("N",ji),De("NN",ji),De("NNN",ji),De("NNNN",Ui),De("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e})),De("y",Ce),De("yy",Ce),De("yyy",Ce),De("yyyy",Ce),De("yo",zi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),De("G",Ae),De("g",Ae),De("GG",_e,ge),De("gg",_e,ge),De("GGGG",Te,be),De("gggg",Te,be),De("GGGGG",Ie,we),De("ggggg",Ie,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),De("Q",me),Ue("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),De("D",_e),De("DD",_e,ge),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],He),Ue("Do",(function(e,t){t[He]=le(e.match(_e)[0])}));var Zi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),De("DDD",Ee),De("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),De("m",_e),De("mm",_e,ge),Ue(["m","mm"],Ye);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),De("s",_e),De("ss",_e,ge),Ue(["s","ss"],Ke);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),De("S",Ee,me),De("SS",Ee,ge),De("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")De(na,Ce);function aa(e,t){t[$e]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function ua(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=_.prototype;function ca(e){return $n(1e3*e)}function la(){return $n.apply(null,arguments).parseZone()}function fa(e){return e}sa.add=Dr,sa.calendar=Br,sa.clone=qr,sa.diff=Qr,sa.endOf=mi,sa.format=ti,sa.from=ni,sa.fromNow=ri,sa.to=ii,sa.toNow=ai,sa.get=pe,sa.invalidAt=Ti,sa.isAfter=Wr,sa.isBefore=Hr,sa.isBetween=Gr,sa.isSame=Yr,sa.isSameOrAfter=Kr,sa.isSameOrBefore=$r,sa.isValid=Si,sa.lang=ui,sa.locale=oi,sa.localeData=si,sa.max=Jn,sa.min=Qn,sa.parsingFlags=Ei,sa.set=ve,sa.startOf=yi,sa.subtract=Mr,sa.toArray=wi,sa.toObject=_i,sa.toDate=bi,sa.toISOString=Zr,sa.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=xi,sa.toString=Xr,sa.unix=ki,sa.valueOf=gi,sa.creationData=Ii,sa.eraName=Ni,sa.eraNarrow=Ri,sa.eraAbbr=Pi,sa.eraYear=Di,sa.year=yt,sa.isLeapYear=mt,sa.weekYear=Wi,sa.isoWeekYear=Hi,sa.quarter=sa.quarters=Xi,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=At,sa.weeksInYear=Ki,sa.weeksInWeekYear=$i,sa.isoWeeksInYear=Gi,sa.isoWeeksInISOWeekYear=Yi,sa.date=Zi,sa.day=sa.days=Wt,sa.weekday=Ht,sa.isoWeekday=Gt,sa.dayOfYear=ea,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ta,sa.second=sa.seconds=ia,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=vr,sa.utc=mr,sa.local=gr,sa.parseZone=kr,sa.hasAlignedHourOffset=br,sa.isDST=wr,sa.isLocal=xr,sa.isUtcOffset=Sr,sa.isUtc=Er,sa.isUTC=Er,sa.zoneAbbr=oa,sa.zoneName=ua,sa.dates=E("dates accessor is deprecated. Use date instead.",Zi),sa.months=E("months accessor is deprecated. Use month instead",lt),sa.years=E("years accessor is deprecated. Use year instead",yt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yr),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ha=R.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,u=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=da(t,(i+o)%7,r,"day");return u}function ya(e,t){return pa(e,t,"months")}function ma(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=D,ha.longDateFormat=G,ha.invalidDate=K,ha.ordinal=J,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=Z,ha.pastFuture=ee,ha.set=O,ha.eras=Ci,ha.erasParse=Ai,ha.erasConvertYear=Oi,ha.erasAbbrRegex=Li,ha.erasNameRegex=Mi,ha.erasNarrowRegex=Fi,ha.months=at,ha.monthsShort=ot,ha.monthsParse=st,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=It,ha.firstDayOfWeek=Tt,ha.weekdays=Ut,ha.weekdaysMin=zt,ha.weekdaysShort=Vt,ha.weekdaysParse=qt,ha.weekdaysRegex=Yt,ha.weekdaysShortRegex=Kt,ha.weekdaysMinRegex=$t,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var wa=Math.abs;function _a(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ea(e,t){return xa(this,e,t,-1)}function Ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Ia(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Ta(Aa(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=ce(a/1e3),s.seconds=e%60,t=ce(e/60),s.minutes=t%60,n=ce(t/60),s.hours=n%24,o+=ce(n/24),u+=i=ce(Ca(o)),o-=Ta(Aa(i)),r=ce(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Ca(e){return 4800*e/146097}function Aa(e){return 146097*e/4800}function Oa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Aa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Na(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Ra(e){return function(){return this.as(e)}}var Pa=Ra("ms"),Da=Ra("s"),Ma=Ra("m"),La=Ra("h"),Fa=Ra("d"),ja=Ra("w"),Ua=Ra("M"),Va=Ra("Q"),za=Ra("y");function Ba(){return Cr(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ha=Wa("milliseconds"),Ga=Wa("seconds"),Ya=Wa("minutes"),Ka=Wa("hours"),$a=Wa("days"),Qa=Wa("months"),Ja=Wa("years");function Xa(){return ce(this.days()/7)}var Za=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Za(i.as("s")),o=Za(i.as("m")),u=Za(i.as("h")),s=Za(i.as("d")),c=Za(i.as("M")),l=Za(i.as("w")),f=Za(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function uo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(s/60),t=ce(e/60),s%=60,e%=60,n=ce(l/12),l%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=uo(this._months)!==uo(f)?"-":"",o=uo(this._days)!==uo(f)?"-":"",u=uo(this._milliseconds)!==uo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=_a,co.add=Sa,co.subtract=Ea,co.as=Oa,co.asMilliseconds=Pa,co.asSeconds=Da,co.asMinutes=Ma,co.asHours=La,co.asDays=Fa,co.asWeeks=ja,co.asMonths=Ua,co.asQuarters=Va,co.asYears=za,co.valueOf=Na,co._bubble=Ia,co.clone=Ba,co.get=qa,co.milliseconds=Ha,co.seconds=Ga,co.minutes=Ya,co.hours=Ka,co.days=$a,co.weeks=Xa,co.months=Qa,co.years=Ja,co.humanize=ao,co.toISOString=so,co.toString=so,co.toJSON=so,co.locale=oi,co.localeData=si,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),co.lang=ui,V("X",0,0,"unix"),V("x",0,0,"valueOf"),De("x",Ae),De("X",Re),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.2",i($n),r.fn=sa,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ya,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=x,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=ur,r.monthsShort=ma,r.weekdaysMin=ba,r.defineLocale=yn,r.updateLocale=mn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},151:function(e,t,n){var r=n(878);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,S=n[2]||l,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:S,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(S)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==xe||null!==Se)&&(Ae(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,_t,xt,St,Et=!1,Tt=[],It=null,Ct=null,At=null,Ot=new Map,Nt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==It&&Ft(It)&&(It=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(jt),Nt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Ht(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Ht(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Ht(e,t,n,r){var i=Yt(e,t,n,r);if(null===i)Br(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Br(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Qt=null,Jt=null;function Xt(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mn=nn(yn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return _n}var Sn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),Tn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=nn(An),Nn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Dn=l&&"TextEvent"in window&&!Pn,Mn=l&&(!Rn||Pn&&8<Pn&&11>=Pn),Ln=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Gn(e){Lr(e,0)}function Yn(e){if(Y(mi(e)))return e}function Kn(e,t){if("change"===e)return t}var $n=!1;if(l){var Qn;if(l){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"===typeof Xn.oninput}Qn=Jn}else Qn=!1;$n=Qn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Hn=Wn=null)}function er(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];qn(t,Hn,e,we(e)),Ne(Gn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Hn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function rr(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,yr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==pr||pr!==K(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},_r={};function xr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=xr("animationend"),Er=xr("animationiteration"),Tr=xr("animationstart"),Ir=xr("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Cr.set(e,t),s(t,[e])}for(var Nr=0;Nr<Ar.length;Nr++){var Rr=Ar[Nr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Kt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Sr:case Er:case Tr:s=vn;break;case Ir:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:mi(s),d=null==c?u:mi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?mi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Kn;else if(Bn(u))if($n)y=ir;else{y=nr;var m=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=rr);switch(y&&(y=y(e,r))?qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?mi(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(pr=m,vr=r,yr=null);break;case"focusout":yr=vr=pr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=Xt()):(Qt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(m=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&jn(e,t)?(e=Xt(),Jt=Qt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Lr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Re(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var Xr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function _i(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function xi(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ei=wi(Si),Ti=wi(!1),Ii=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){_i(Ti),_i(Ei)}function Ni(e,t,n){if(Ei.current!==Si)throw Error(a(168));xi(Ei,t),xi(Ti,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ei.current,xi(Ei,e),xi(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Ei),xi(Ei,e)):_i(Ti),xi(Ti,n)}var Mi=null,Li=!1,Fi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Ui(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=gt;try{var n=Mi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Li=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ye(Ze,Ui),i}finally{gt=t,Fi=!1}}return null}var Vi=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Hi=null;function Gi(){Hi=Wi=qi=null}function Yi(e){var t=Bi.current;_i(Bi),e._currentValue=t}function Ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Hi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(mu=!0),e.firstContext=null)}function Qi(e){var t=e._currentValue;if(Hi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Xi=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Xi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Xi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Qi(a):(i=Ai(t)?Ii:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Qi(a):(a=Ai(t)?Ii:Ei.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ya=null,ma=0,ga=[],ka=0,ba=null,wa=1,_a="";function xa(e,t){pa[va++]=ma,pa[va++]=ya,ya=e,ma=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=_a,ga[ka++]=ba,ba=e;var r=wa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else wa=1<<a|n<<i|r,_a=e}function Ea(e){null!==e.return&&(xa(e,1),Sa(e,1,0))}function Ta(e){for(;e===ya;)ya=pa[--va],pa[va]=null,ma=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,_a=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ia=null,Ca=null,Aa=!1,Oa=null;function Na(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ca=null,!0);default:return!1}}function Pa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Aa){var t=Ca;if(t){var n=t;if(!Ra(e,t)){if(Pa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Ra(e,t)?Na(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ia=e)}}else{if(Pa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ia=e}}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function La(e){if(e!==Ia)return!1;if(!Aa)return Ma(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Pa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Na(e,t),t=oi(t.nextSibling)}if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ia?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ia=null,Aa=!1}function ja(e){null===Oa?Oa=[e]:Oa.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&za(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case _:return(t=Ic(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Sc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Aa&&xa(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&xa(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),Aa&&xa(i,v),c}function y(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),Aa&&xa(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Aa&&xa(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&xa(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=xc(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return y(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ha={},Ga=wi(Ha),Ya=wi(Ha),Ka=wi(Ha);function $a(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(xi(Ka,t),xi(Ya,e),xi(Ga,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ga),xi(Ga,t)}function Ja(){_i(Ga),_i(Ya),_i(Ka)}function Xa(e){$a(Ka.current);var t=$a(Ga.current),n=se(t,e.type);t!==n&&(xi(Ya,e),xi(Ga,n))}function Za(e){Ya.current===e&&(_i(Ga),_i(Ya))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Xo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Es|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(mu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Es|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(mu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,mu=!0),r=r.queue,Lo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,Io.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Oo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function Po(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Mo(e,t){return Po(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ho(){return bo().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ko(e)?$o(t,n):(Qo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r))}function Yo(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ko(e))$o(t,i);else{Qo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Jo(e,t,r)}}function Ko(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Xo={readContext:Qi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Qi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Qi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Oo,useDebugValue:zo,useDeferredValue:function(e){var t=Oo(e),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Oo(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=_a;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Qi,useCallback:Bo,useContext:Qi,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:_o,useRef:Ro,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1},tu={readContext:Qi,useCallback:Bo,useContext:Qi,useEffect:Lo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:xo,useRef:Ro,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,Ps=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Oi(),pu(t),null;case 3:return r=t.stateNode,Ja(),_i(Ti),_i(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(La(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&($s(Oa),Oa=null))),pu(t),null;case 5:Za(t);var i=$a(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Ga.current),La(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Qr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Ka.current),$a(Ga.current),La(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(s=0!==(1&e.mode),e.tag){case 3:Qr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Qr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(_i(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=La(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Oa&&($s(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?La(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===xs&&(xs=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&Vr(t.stateNode.containerInfo),pu(t),null;case 10:return Yi(t.type._context),pu(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==xs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ns&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Je()-o.renderingStartTime>Ns&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,xi(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ga.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var yu=b.ReactCurrentOwner,mu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=mo(e,t,n,r,a,i),n=go(),null===e||mu?(Aa&&n&&Ea(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(mu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(mu=!0)}return Su(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xi(_s,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xi(_s,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,xi(_s,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(_s,ws),ws|=r;return gu(e,t,i,n),t.child}function xu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ai(n)?Ii:Ei.current;return a=Ci(t,a),$i(t,i),n=mo(e,t,n,r,a,i),r=go(),null===e||mu?(Aa&&r&&Ea(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Eu(e,t,n,r,i){if(Ai(n)){var a=!0;Pi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Qi(c):c=Ci(t,c=Ai(n)?Ii:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Xi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ti.current||Xi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Xi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Qi(s):s=Ci(t,s=Ai(n)?Ii:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Xi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ti.current||Xi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Xi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){xu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Uu(e,t,a);r=t.stateNode,yu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Qa(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null}}function Nu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ec(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Au,e):Ru(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Mu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Mu(e,t,n,null);else if("$!"===r.data)t=Mu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),mu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Mu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=yc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ia=t,Aa=!0,Oa=null,null!==n&&(ga[ka++]=wa,ga[ka++]=_a,ga[ka++]=ba,wa=n.id,_a=n.overflow,ba=t),(t=Ru(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Pu(e,t,i.children,n),t.memoizedState=null,n)}function Ru(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pu(e,t,n,r){var i=e.child;return e=i.sibling,n=_c(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=_c(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_c(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Mu(e,t,n,r){return null!==r&&ja(r),qa(t,e.child,null,n),(e=Ru(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ki(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lu(e,n,t);else if(19===e.tag)Lu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){switch(Ta(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),_i(Ti),_i(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return Ja(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Hu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Yu=!1;function Ku(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Hu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Hu(t,n);break;case 4:is(e,t,n)}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ku(3,t,t.return),$u(3,t),void Ku(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?ye(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":X(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Qu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Qu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Qu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ys=b.ReactCurrentBatchConfig,ms=0,gs=null,ks=null,bs=0,ws=0,_s=wi(0),xs=0,Ss=null,Es=0,Ts=0,Is=0,Cs=null,As=null,Os=0,Ns=1/0,Rs=!1,Ps=null,Ds=null,Ms=!1,Ls=null,Fs=0,js=0,Us=null,Vs=-1,zs=0;function Bs(){return 0!==(6&ms)?Je():-1!==Vs?Vs:Vs=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ms)&&0!==bs?bs&-bs:null!==Vi.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function Ws(e,t,n){if(50<js)throw js=0,Us=null,Error(a(185));var r=Hs(e,t);return null===r?null:(yt(r,t,n),0!==(2&ms)&&r===gs||(r===gs&&(0===(2&ms)&&(Ts|=t),4===xs&&Qs(r,bs)),Gs(r,n),1===t&&0===ms&&0===(1&e.mode)&&(Ns=Je()+500,Li&&Ui())),r)}function Hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(Js.bind(null,e)):ji(Js.bind(null,e)),ri((function(){0===ms&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Ys.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ys(e,t){if(Vs=-1,zs=0,0!==(6&ms))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ms;ms|=2;var o=rc();for(gs===e&&bs===t||(Ns=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ms=i,null!==ks?t=0:(gs=null,bs=0,t=xs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Ks(e,i))),1===t)throw n=Ss,tc(e,0),Qs(e,r),Gs(e,Je()),n;if(6===t)Qs(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Ks(e,o))),1===t))throw n=Ss,tc(e,0),Qs(e,r),Gs(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Qs(e,r),(130023424&r)===r&&10<(t=Os+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Qs(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Gs(e,Je()),e.callbackNode===n?Ys.bind(null,e):null}function Ks(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&$s(t)),e}function $s(e){null===As?As=e:As.push.apply(As,e)}function Qs(e,t){for(t&=~Is,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ms))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Ks(e,r))}if(1===n)throw n=Ss,tc(e,0),Qs(e,t),Gs(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Gs(e,Je()),null}function Xs(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&(Ns=Je()+500,Li&&Ui())}}function Zs(e){null!==Ls&&0===Ls.tag&&0===(6&ms)&&fc();var t=ms;ms|=1;var n=ys.transition,r=gt;try{if(ys.transition=null,gt=1,e)return e()}finally{gt=r,ys.transition=n,0===(6&(ms=t))&&Ui()}}function ec(){ws=_s.current,_i(_s)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Ja(),_i(Ti),_i(Ei),ro();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:_i(eo);break;case 10:Yi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=_c(e.current,null),bs=ws=t,xs=0,Ss=null,Is=Ts=Es=0,As=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Gi(),io.current=Xo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){xs=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var m=fu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),hu(m,u,s,0,t),ja(c);break e}}o=c,4!==xs&&(xs=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ds||!Ds.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Xo,null===e?Xo:e}function ic(){0!==xs&&3!==xs&&2!==xs||(xs=4),null===gs||0===(268435455&Es)&&0===(268435455&Ts)||Qs(gs,bs)}function ac(e,t){var n=ms;ms|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ms=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,xs}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!$e();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=Vu(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return xs=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===xs&&(xs=5)}function lc(e,t){var n=gt,r=ys.transition;try{ys.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ls);if(0!==(6&ms))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ms||(Ms=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ys.transition,ys.transition=null;var u=gt;gt=1;var s=ms;ms|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:zi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){dc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Yu,Yu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Os=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var y=v.style;"function"===typeof y.setProperty?y.setProperty("display","none","important"):y.display="none"}else{var m=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;m.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Ku(4,r,r.return);break;case 1:Hu(r,r.return);var _=r.stateNode;if("function"===typeof _.componentWillUnmount){var x=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(S){dc(r,x,S)}}break;case 5:Hu(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Xr),Xr=null,e.current=r,us(r,e,i),Qe(),ms=s,gt=u,ys.transition=o}else e.current=r;if(Ms&&(Ms=!1,Ls=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Rs)throw Rs=!1,e=Ps,Ps=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?js++:(js=0,Us=e):js=0,Ui()}(e,t,n)}finally{ys.transition=r,gt=n}return null}function fc(){if(null!==Ls){var e=kt(Fs),t=ys.transition,n=gt;try{if(ys.transition=null,gt=16>e?16:e,null===Ls)var r=!1;else{if(e=Ls,Ls=null,Fs=0,0!==(6&ms))throw Error(a(331));var i=ms;for(ms|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Ku(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Xu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Ku(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(_){dc(s,s.return,_)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ms=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{gt=n,ys.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Hs(e,1))&&(yt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Hs(t,1))&&(yt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===xs||3===xs&&(130023424&bs)===bs&&500>Je()-Os?tc(e,0):Is|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Hs(e,t))&&(yt(e,t,n),Gs(e,n))}function yc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ye(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=bc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case O:return(e=bc(19,n,t,i)).elementType=O,e.lanes=o,e;case P:return Ec(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case N:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ec(e,t,n,r){return(e=bc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Oc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function Rc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Nc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,yt(e,i,r),Gs(e,r),e}function Pc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)mu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return mu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),Fa();break;case 5:Xa(t);break;case 1:Ai(t.type)&&Pi(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Nu(e,t,n):(xi(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);xi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Uu(e,t,n)}(e,t,n);mu=0!==(131072&e.flags)}else mu=!1,Aa&&0!==(1048576&t.flags)&&Sa(t,ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ei.current);$i(t,n),i=mo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Pi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ea(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ia=t,Aa=!0,Oa=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),xu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Nu(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,xi(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ti.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ki(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ki(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Qi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bu(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Pi(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Pc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Rc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zs((function(){Pc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}Uc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Pc(e,t,null,null)},Uc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Pc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),Gs(t,Je()),0===(6&ms)&&(Ns=Je()+500,Ui()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Lc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Lc(e,134217728))},_t=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Lc(e,n)}},xt=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));Y(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Xs,Ae=Zs;var Wc={usingClientEntryPoint:!1,Events:[yi,mi,gi,Te,Ie,Xs]},Hc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{it=Yc.inject(Gc),at=Yc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Oc(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Rc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Xs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===s}},900:function(e,t,n){"use strict";e.exports=n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function O(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":O(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":O(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":O(e),m="undefined"==typeof t?"undefined":O(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),_=Object.keys(t);w.forEach((function(i,a){var o=_.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),_=s(_,o)):l(e[i],void 0,n,r,p,i,d)})),_.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+P[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+P[t].text,m(t)].concat(N(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":O(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,N(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function _(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var _=r(p),x="function"==typeof o?o((function(){return g}),p,i):o,S=C(d),E=u.title?"color: "+u.title(_)+";":"",T=["color: gray; font-weight: lighter;"];T.push(E),t.timestamp&&T.push("color: gray; font-weight: lighter;"),t.duration&&T.push("color: gray; font-weight: lighter;");var I=a(_,S,m);try{x?u.title&&l?n.groupCollapsed.apply(n,["%c "+I].concat(T)):n.groupCollapsed(I):u.title&&l?n.group.apply(n,["%c "+I].concat(T)):n.group(I)}catch(e){n.log(I)}var A=b(s,_,[v],"prevState"),O=b(s,_,[_],"action"),N=b(s,_,[y,v],"error"),R=b(s,_,[g],"nextState");if(A)if(u.prevState){var P="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",P,v)}else n[A]("prev state",v);if(O)if(u.action){var D="color: "+u.action(_)+"; font-weight: bold";n[O]("%c action    ",D,_)}else n[O]("action    ",_);if(y&&N)if(u.error){var M="color: "+u.error(y,v)+"; font-weight: bold;";n[N]("%c error     ",M,y)}else n[N]("error     ",y);if(R)if(u.nextState){var L="color: "+u.nextState(g)+"; font-weight: bold";n[R]("%c next state",L,g)}else n[R]("next state",g);c&&k(v,g,n,x);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(_(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var S,E,T=function(e,t){return new Array(t+1).join(e)},I=function(e,t){return T("0",t-e.toString().length)+e},C=function(e){return I(e.getHours(),2)+":"+I(e.getMinutes(),2)+":"+I(e.getSeconds(),2)+"."+I(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},R=[];S="object"===("undefined"==typeof n.g?"undefined":O(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(E=S.DeepDiff)&&R.push((function(){"undefined"!=typeof E&&S.DeepDiff===f&&(S.DeepDiff=E,E=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof E},enumerable:!0},noConflict:{value:function(){return R&&(R.forEach((function(e){e()})),R=null),f},enumerable:!0}});var P={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?x()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=x,e.logger=M,e.default=M,Object.defineProperty(e,"__esModule",{value:!0})}(t)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(O)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=O,x=function(){R.postMessage(null)}}else x=function(){m(O,0)};function P(e){E=e,S||(S=!0,x())}function D(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(T),T=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Tr},SDK_VERSION:function(){return Ti},_DEFAULT_ENTRY_NAME:function(){return di},_addComponent:function(){return mi},_addOrOverwriteComponent:function(){return gi},_apps:function(){return vi},_clearComponents:function(){return _i},_components:function(){return yi},_getProvider:function(){return bi},_registerComponent:function(){return ki},_removeServiceInstance:function(){return wi},deleteApp:function(){return Oi},getApp:function(){return Ci},getApps:function(){return Ai},initializeApp:function(){return Ii},onLog:function(){return Pi},registerVersion:function(){return Ri},setLogLevel:function(){return Di}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},l="Invariant failed";function f(e,t){if(!e)throw new Error(l)}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function y(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function k(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function x(e,t,n){return Math.min(Math.max(e,t),n)}function S(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=m();function f(e){o(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=x(u,0,i.length-1),p=i.map((function(e){return y(e,void 0,"string"===typeof e?h():e.key||h())})),g=v;function k(e){var t=x(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:g,push:function(e,t){var r="PUSH",i=y(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=y(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}var E=n(7),T=n.n(E),I=1073741823,C="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function A(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var O=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return C[e]=(C[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=A(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):I,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);u.childContextTypes=((r={})[o]=T().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?I:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?I:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[o]=T().object,i),{Provider:u,Consumer:s}},N=O,R=n(151),P=n.n(R),D=n(441);function M(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var L=n(110),F=n.n(L),j=function(e){var t=N();return t.displayName=e,t},U=j("Router-History"),V=j("Router"),z=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(V.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(U.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var B={},q=0;function W(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=B[n]||(B[n]={});if(r[e])return r[e];var i=[],a={regexp:P()(e,i,t),keys:i};return q<1e4&&(r[e]=a,q++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var H=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,(function(n){n||f(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?W(r.pathname,e.props):n.match}),a=e.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&function(e){return 0===t.Children.count(e)}(u)&&(u=null),t.createElement(V.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?t.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(t.Component);function G(e){return"/"===e.charAt(0)?e:"/"+e}function Y(e,t){if(!e)return t;var n=G(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function K(e){return"string"===typeof e?e:v(e)}function $(e){return function(){f(!1)}}function Q(){}t.Component;var J=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(V.Consumer,null,(function(n){n||f(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var u=e.props.path||e.props.from;i=u?W(a.pathname,o({},e.props,{path:u})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var X=t.useContext;function Z(){return X(U)}function ee(){var e=X(V).match;return e?e.params:{}}var te=t.createContext(null);var ne=function(e){e()},re=function(){return ne};var ie={notify:function(){},get:function(){return[]}};function ae(e,t){var n,r=ie;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=re(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ie)},getListeners:function(){return r}};return o}var oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var ue=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=ae(n);return{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);oe((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var u=r||te;return t.createElement(u.Provider,{value:a},i)},se=n(900),ce=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],le=["reactReduxForwardedRef"],fe=[],he=[null,null];function de(e,t){var n=e[1];return[t.payload,n+1]}function pe(e,t,n){oe((function(){return e.apply(void 0,t)}),n)}function ve(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function ye(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var me=function(){return[null,0]};function ge(e,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,a=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=r.methodName,s=void 0===u?"connectAdvanced":u,c=r.renderCountProp,l=void 0===c?void 0:c,f=r.shouldHandleStateChanges,h=void 0===f||f,d=r.storeKey,p=void 0===d?"store":d,v=(r.withRef,r.forwardRef),y=void 0!==v&&v,m=r.context,g=void 0===m?te:m,k=M(r,ce),b=g;return function(n){var r=n.displayName||n.name||"Component",i=a(r),u=o({},k,{getDisplayName:a,methodName:s,renderCountProp:l,shouldHandleStateChanges:h,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=k.pure;var f=c?t.useMemo:function(e){return e()};function d(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=M(r,le);return[r.context,e,t]}),[r]),a=i[0],s=i[1],c=i[2],l=(0,t.useMemo)((function(){return a&&a.Consumer&&(0,se.isContextConsumer)(t.createElement(a.Consumer,null))?a:b}),[a,b]),d=(0,t.useContext)(l),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var v=p?r.store:d.store,y=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,u)}(v)}),[v]),m=(0,t.useMemo)((function(){if(!h)return he;var e=ae(v,p?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,p,d]),g=m[0],k=m[1],w=(0,t.useMemo)((function(){return p?d:o({},d,{subscription:g})}),[p,d,g]),_=(0,t.useReducer)(de,fe,me),x=_[0][0],S=_[1];if(x&&x.error)throw x.error;var E=(0,t.useRef)(),T=(0,t.useRef)(c),I=(0,t.useRef)(),C=(0,t.useRef)(!1),A=f((function(){return I.current&&c===T.current?I.current:y(v.getState(),c)}),[v,x,c]);pe(ve,[T,E,C,c,A,I,k]),pe(ye,[h,v,g,y,T,E,C,I,k,S],[v,g,y]);var O=(0,t.useMemo)((function(){return t.createElement(n,o({},A,{ref:s}))}),[s,n,A]);return(0,t.useMemo)((function(){return h?t.createElement(l.Provider,{value:w},O):O}),[l,O,w])}var v=c?t.memo(d):d;if(v.WrappedComponent=n,v.displayName=d.displayName=i,y){var m=t.forwardRef((function(e,n){return t.createElement(v,o({},e,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,F()(m,n)}return F()(v,n)}}function ke(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function be(e,t){if(ke(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ke(e[n[i]],t[n[i]]))return!1;return!0}function we(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function _e(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function xe(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=_e(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=_e(i),i=r(t,n)),i},r}}var Se=[function(e){return"function"===typeof e?xe(e):void 0},function(e){return e?void 0:we((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?we((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var Ee=[function(e){return"function"===typeof e?xe(e):void 0},function(e){return e?void 0:we((function(){return{}}))}];function Te(e,t,n){return o({},n,e,t)}var Ie=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Te}}],Ce=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ae(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function Oe(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function Ne(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=M(t,Ce),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?Oe:Ae)(o,u,s,e,a)}var Re=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Pe(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function De(e,t){return e===t}function Me(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?ge:n,i=t.mapStateToPropsFactories,a=void 0===i?Ee:i,u=t.mapDispatchToPropsFactories,s=void 0===u?Se:u,c=t.mergePropsFactories,l=void 0===c?Ie:c,f=t.selectorFactory,h=void 0===f?Ne:f;return function(e,t,n,i){void 0===i&&(i={});var u=i,c=u.pure,f=void 0===c||c,d=u.areStatesEqual,p=void 0===d?De:d,v=u.areOwnPropsEqual,y=void 0===v?be:v,m=u.areStatePropsEqual,g=void 0===m?be:m,k=u.areMergedPropsEqual,b=void 0===k?be:k,w=M(u,Re),_=Pe(e,a,"mapStateToProps"),x=Pe(t,s,"mapDispatchToProps"),S=Pe(n,l,"mergeProps");return r(h,o({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:x,initMergeProps:S,pure:f,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:g,areMergedPropsEqual:b},w))}}var Le=Me();function Fe(){return(0,t.useContext)(te)}function je(e){void 0===e&&(e=te);var n=e===te?Fe:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Ue=je();function Ve(e){void 0===e&&(e=te);var t=e===te?Ue:je(e);return function(){return t().dispatch}}var ze=Ve(),Be=function(e,t){return e===t};function qe(e){void 0===e&&(e=te);var n=e===te?Fe:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=Be);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],u=(0,t.useMemo)((function(){return ae(r,i)}),[r,i]),s=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=r.getState();try{if(e!==c.current||h!==l.current||s.current){var d=e(h);a=void 0!==f.current&&n(d,f.current)?f.current:d}else a=f.current}catch(p){throw s.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),p}return oe((function(){c.current=e,l.current=h,f.current=a,s.current=void 0})),oe((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(p){s.current=p}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[r,u]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var We,He=qe();We=r.unstable_batchedUpdates,ne=We;var Ge="@@router/LOCATION_CHANGE",Ye="@@router/CALL_HISTORY_METHOD",Ke=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:Ye,payload:{method:e,args:n}}}};Ke("push"),Ke("replace"),Ke("go"),Ke("goBack"),Ke("goForward");function $e(e){return $e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}var Qe=function(e){var t=e.getIn,n=e.toJS,r=function(e){var r,i=n(t(e,["router"]));if(null==(r=i)||"object"!==$e(r)||!t(r,["location"])||!t(r,["action"]))throw'Could not find router reducer in state tree, it must be mounted under "router"';return i},i=function(e){return n(t(r(e),["location"]))};return{getLocation:i,getAction:function(e){return n(t(r(e),["action"]))},getRouter:r,getSearch:function(e){return n(t(r(e),["location","search"]))},getHash:function(e){return n(t(r(e),["location","hash"]))},createMatchSelector:function(e){var t=null,n=null;return function(r){var a=(i(r)||{}).pathname;if(a===t)return n;t=a;var o=W(a,e);return o&&n&&o.url===n.url&&o.isExact===n.isExact||(n=o),n}}}};function Je(e){return Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return!t||"object"!==Je(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function nt(e,t){return nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nt(e,t)}var rt=function(e){var n=Qe(e).getLocation,r=function(e){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=et(this,tt(r).call(this,e));var i=e.store,a=e.history,o=e.onLocationChanged;t.inTimeTravelling=!1,t.unsubscribe=i.subscribe((function(){var r=n(i.getState()),o=r.pathname,u=r.search,s=r.hash,c=r.state,l=a.location,f=l.pathname,h=l.search,d=l.hash,p=l.state;"PUSH"!==e.history.action||f===o&&h===u&&d===s&&c===p||(t.inTimeTravelling=!0,a.push({pathname:o,search:u,hash:s,state:c}))}));var u=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.inTimeTravelling?t.inTimeTravelling=!1:o(e,n,r)};return t.unlisten=a.listen(u),e.noInitialPop||u(a.location,a.action,!0),t}var i,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(r,e),i=r,(a=[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,n=e.history,r=e.children;return t.createElement(z,{history:n},r)}}])&&Ze(i.prototype,a),o&&Ze(i,o),r}(t.PureComponent);r.propTypes={store:T().shape({getState:T().func.isRequired,subscribe:T().func.isRequired}).isRequired,history:T().shape({action:T().string.isRequired,listen:T().func.isRequired,location:T().object.isRequired,push:T().func.isRequired}).isRequired,basename:T().string,children:T().oneOfType([T().func,T().node]),onLocationChanged:T().func.isRequired,noInitialPop:T().bool};var i=function(e){var n=e.context||te;if(null==n)throw"Please upgrade to react-redux v6";return t.createElement(n.Consumer,null,(function(n){var i=n.store;return t.createElement(r,Xe({store:i},e))}))};return i.propTypes={context:T().object},Le(null,(function(e){return{onLocationChanged:function(t,n,r){return e(function(e,t){return{type:Ge,payload:{location:e,action:t,isFirstRendering:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}}(t,n,r))}}}))(i)};function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){if(e&&e.query)return e;var t=e&&e.search;if("string"!==typeof t||0===t.length)return ot({},e,{query:{}});var n=t.substring(1).split("&").reduce((function(e,t){var n=it(t.split("="),2);return ot({},e,ut({},n[0],n[1]))}),{});return ot({},e,{query:n})},ct=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:st(e.location),action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.type,o=i.payload;if(a===Ge){var u=o.location,s=o.action,c=o.isFirstRendering;return c?e:n(e,{location:t(st(u)),action:s})}return e}}};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht={fromJS:function(e){return e},getIn:function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,i=0;i<n&&r;++i)r=r[t[i]];return r}},merge:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},toJS:function(e){return e}},dt=ht,pt=rt(dt),vt=ct(dt),yt=Qe(dt);yt.getLocation,yt.getAction,yt.getHash,yt.getSearch,yt.createMatchSelector;function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wt="function"===typeof Symbol&&Symbol.observable||"@@observable",_t=function(){return Math.random().toString(36).substring(7).split("").join(".")},xt={INIT:"@@redux/INIT"+_t(),REPLACE:"@@redux/REPLACE"+_t(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_t()}};function St(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Et(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(bt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(bt(1));return n(Et)(e,t)}if("function"!==typeof e)throw new Error(bt(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(bt(3));return a}function f(e){if("function"!==typeof e)throw new Error(bt(4));if(s)throw new Error(bt(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(bt(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!St(e))throw new Error(bt(7));if("undefined"===typeof e.type)throw new Error(bt(8));if(s)throw new Error(bt(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(bt(10));i=e,h({type:xt.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(bt(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[wt]=function(){return this},e}return h({type:xt.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[wt]=p,r}function Tt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function It(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ct=It();Ct.withExtraArgument=It;var At=Ct,Ot=n(176),Nt=n.n(Ot),Rt=function(e){return"function"===typeof e},Pt=function(e){return e},Dt=function(e){return null===e};function Mt(e,t,n){void 0===t&&(t=Pt),Nt()(Rt(t)||Dt(t),"Expected payloadCreator to be a function, undefined or null");var r=Dt(t)||t===Pt?Pt:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},i=Rt(n),a=e.toString(),o=function(){var t=r.apply(void 0,arguments),a={type:e};return t instanceof Error&&(a.error=!0),void 0!==t&&(a.payload=t),i&&(a.meta=n.apply(void 0,arguments)),a};return o.toString=function(){return a},o}var Lt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!==typeof t[t.length-1]&&t.pop(),i=t;if("undefined"===typeof r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var u="undefined"===typeof e,s="undefined"===typeof t;return u&&s&&r?r:i.reduce((function(e,n){return n.apply(void 0,[e,t].concat(a))}),u&&!s&&r?r:e)}},Ft=function(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},jt=function(e){return"undefined"!==typeof Map&&e instanceof Map};function Ut(e){if(jt(e))return Array.from(e.keys());if("undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}var Vt="||";function zt(e,t){return jt(t)?t.get(e):t[e]}var Bt,qt=(Bt=function(e){return(Ft(e)||jt(e))&&!function(e){var t=Ut(e),n=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&n}(e)},function e(t,n,r,i){var a=void 0===n?{}:n,o=a.namespace,u=void 0===o?"/":o,s=a.prefix;return void 0===r&&(r={}),void 0===i&&(i=""),Ut(t).forEach((function(n){var a=function(e){return i||!s||s&&new RegExp("^"+s+u).test(e)?e:""+s+u+e}(function(e){var t;if(!i)return e;var n=e.toString().split(Vt),r=i.split(Vt);return(t=[]).concat.apply(t,r.map((function(e){return n.map((function(t){return""+e+u+t}))}))).join(Vt)}(n)),o=zt(n,t);Bt(o)?e(o,{namespace:u,prefix:s},r,a):r[a]=o})),r}),Wt=function(e){return e.toString()};function Ht(e,t,n){void 0===n&&(n={}),Nt()(Ft(e)||jt(e),"Expected handlers to be a plain object.");var r=qt(e,n),i=Ut(r).map((function(e){return function(e,t,n){void 0===t&&(t=Pt);var r=Wt(e).split(Vt);Nt()(!(void 0===n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),Nt()(Rt(t)||Ft(t),"Expected reducer to be a function or object with next and throw reducers");var i=Rt(t)?[t,t]:[t.next,t.throw].map((function(e){return null===(t=e)||void 0===t?Pt:e;var t})),a=i[0],o=i[1];return function(e,t){void 0===e&&(e=n);var i=t.type;return i&&-1!==r.indexOf(Wt(i))?(!0===t.error?o:a)(e,t):e}}(e,zt(e,r),t)})),a=Lt.apply(void 0,i.concat([t]));return function(e,n){return void 0===e&&(e=t),a(e,n)}}function Gt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Yt(e){return!!e&&!!e[Mn]}function Kt(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ln}(e)||Array.isArray(e)||!!e[Dn]||!!e.constructor[Dn]||tn(e)||nn(e))}function $t(e,t,n){void 0===n&&(n=!1),0===Qt(e)?(n?Object.keys:Fn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Qt(e){var t=e[Mn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:tn(e)?2:nn(e)?3:0}function Jt(e,t){return 2===Qt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Xt(e,t){return 2===Qt(e)?e.get(t):e[t]}function Zt(e,t,n){var r=Qt(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function en(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function tn(e){return On&&e instanceof Map}function nn(e){return Nn&&e instanceof Set}function rn(e){return e.o||e.t}function an(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=jn(e);delete t[Mn];for(var n=Fn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function on(e,t){return void 0===t&&(t=!1),sn(e)||Yt(e)||!Kt(e)||(Qt(e)>1&&(e.set=e.add=e.clear=e.delete=un),Object.freeze(e),t&&$t(e,(function(e,t){return on(t,!0)}),!0)),e}function un(){Gt(2)}function sn(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function cn(e){var t=Un[e];return t||Gt(18,e),t}function ln(){return Cn}function fn(e,t){t&&(cn("Patches"),e.u=[],e.s=[],e.v=t)}function hn(e){dn(e),e.p.forEach(vn),e.p=null}function dn(e){e===Cn&&(Cn=e.l)}function pn(e){return Cn={p:[],l:Cn,h:e,m:!0,_:0}}function vn(e){var t=e[Mn];0===t.i||1===t.i?t.j():t.O=!0}function yn(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||cn("ES5").S(t,e,r),r?(n[Mn].P&&(hn(t),Gt(4)),Kt(e)&&(e=mn(t,e),t.l||kn(t,e)),t.u&&cn("Patches").M(n[Mn].t,e,t.u,t.s)):e=mn(t,n,[]),hn(t),t.u&&t.v(t.u,t.s),e!==Pn?e:void 0}function mn(e,t,n){if(sn(t))return t;var r=t[Mn];if(!r)return $t(t,(function(i,a){return gn(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return kn(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=an(r.k):r.o;$t(3===r.i?new Set(i):i,(function(t,a){return gn(e,r,i,t,a,n)})),kn(e,i,!1),n&&e.u&&cn("Patches").R(r,n,e.u,e.s)}return r.o}function gn(e,t,n,r,i,a){if(Yt(i)){var o=mn(e,i,a&&t&&3!==t.i&&!Jt(t.D,r)?a.concat(r):void 0);if(Zt(n,r,o),!Yt(o))return;e.m=!1}if(Kt(i)&&!sn(i)){if(!e.h.F&&e._<1)return;mn(e,i),t&&t.A.l||kn(e,i)}}function kn(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&on(t,n)}function bn(e,t){var n=e[Mn];return(n?rn(n):e)[t]}function wn(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function _n(e){e.P||(e.P=!0,e.l&&_n(e.l))}function xn(e){e.o||(e.o=an(e.t))}function Sn(e,t,n){var r=tn(t)?cn("MapSet").N(t,n):nn(t)?cn("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ln(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Vn;n&&(i=[r],a=zn);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):cn("ES5").J(t,n);return(n?n.A:ln()).p.push(r),r}function En(e){return Yt(e)||Gt(22,e),function e(t){if(!Kt(t))return t;var n,r=t[Mn],i=Qt(t);if(r){if(!r.P&&(r.i<4||!cn("ES5").K(r)))return r.t;r.I=!0,n=Tn(t,i),r.I=!1}else n=Tn(t,i);return $t(n,(function(t,i){r&&Xt(r.t,t)===i||Zt(n,t,e(i))})),3===i?new Set(n):n}(e)}function Tn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return an(e)}var In,Cn,An="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),On="undefined"!=typeof Map,Nn="undefined"!=typeof Set,Rn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Pn=An?Symbol.for("immer-nothing"):((In={})["immer-nothing"]=!0,In),Dn=An?Symbol.for("immer-draftable"):"__$immer_draftable",Mn=An?Symbol.for("immer-state"):"__$immer_state",Ln=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Fn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,jn=Object.getOwnPropertyDescriptors||function(e){var t={};return Fn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Un={},Vn={get:function(e,t){if(t===Mn)return e;var n=rn(e);if(!Jt(n,t))return function(e,t,n){var r,i=wn(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Kt(r)?r:r===bn(e.t,t)?(xn(e),e.o[t]=Sn(e.A.h,r,e)):r},has:function(e,t){return t in rn(e)},ownKeys:function(e){return Reflect.ownKeys(rn(e))},set:function(e,t,n){var r=wn(rn(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=bn(rn(e),t),a=null==i?void 0:i[Mn];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(en(n,i)&&(void 0!==n||Jt(e.t,t)))return!0;xn(e),_n(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==bn(e.t,t)||t in e.t?(e.D[t]=!1,xn(e),_n(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=rn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Gt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Gt(12)}},zn={};$t(Vn,(function(e,t){zn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),zn.deleteProperty=function(e,t){return zn.set.call(this,e,t,void 0)},zn.set=function(e,t,n){return Vn.set.call(this,e[0],t,n,e[0])};var Bn=function(){function e(e){var t=this;this.g=Rn,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Gt(6),void 0!==r&&"function"!=typeof r&&Gt(7),Kt(e)){var u=pn(t),s=Sn(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?hn(u):dn(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return fn(u,r),yn(e,u)}),(function(e){throw hn(u),e})):(fn(u,r),yn(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Pn&&(o=void 0),t.F&&on(o,!0),r){var l=[],f=[];cn("Patches").M(e,o,l,f),r(l,f)}return o}Gt(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Kt(e)||Gt(8),Yt(e)&&(e=En(e));var t=pn(this),n=Sn(this,e,void 0);return n[Mn].C=!0,dn(t),n},t.finishDraft=function(e,t){var n=(e&&e[Mn]).A;return fn(n,t),yn(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Rn&&Gt(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=cn("Patches").$;return Yt(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),qn=new Bn,Wn=qn.produce;qn.produceWithPatches.bind(qn),qn.setAutoFreeze.bind(qn),qn.setUseProxies.bind(qn),qn.applyPatches.bind(qn),qn.createDraft.bind(qn),qn.finishDraft.bind(qn);function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t,n){return t&&Gn(e.prototype,t),n&&Gn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e,t){if(e){if("string"===typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(e,t):void 0}}function Qn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$n(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Jn(e){if(Array.isArray(e))return e}function Xn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zn(e,t){return Jn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||$n(e,t)||Xn()}function er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function nr(e){return nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nr(e)}function rr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t){if(t&&("object"===ir(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function or(e){var t=rr();return function(){var n,r=nr(e);if(t){var i=nr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ar(this,n)}}function ur(e,t,n){return ur=rr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},ur.apply(null,arguments)}function sr(e){var t="function"===typeof Map?new Map:void 0;return sr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ur(e,arguments,nr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},sr(e)}var cr=n(757),lr=n.n(cr),fr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},dr=function(e){return function(e){var t=fr(e);return hr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},pr=function(e){try{return hr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&yr(n)&&(e[n]=vr(e[n],t[n]));return e}function yr(e){return"__proto__"!==e}var mr=function(){function e(){var t=this;Hn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Yn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dr(JSON.stringify({alg:"none",type:"JWT"})),dr(JSON.stringify(a)),""].join(".")}function kr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function br(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function wr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _r(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function xr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Sr(){var e=kr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Er(){return"object"===typeof indexedDB}var Tr=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(er(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(er(a),Ir.prototype.create),a}return Yn(n)}(sr(Error)),Ir=function(){function e(t,n,r){Hn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Yn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Cr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Tr(n,a,t);return o}}]),e}();function Cr(e,t){return e.replace(Ar,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ar=/\{\$([^}]+)}/g;function Or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Rr(u)&&Rr(s)){if(!Nr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Rr(e){return null!==e&&"object"===typeof e}function Pr(e){for(var t=[],n=function(){var e=Zn(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Dr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Zn(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Mr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Lr(e,t){var n=new Fr(e,t);return n.subscribe.bind(n)}var Fr=function(){function e(t,n){var r=this;Hn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Yn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Qn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=jr),void 0===r.error&&(r.error=jr),void 0===r.complete&&(r.complete=jr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function jr(){}function Ur(e){return e&&e._delegate?e._delegate:e}function Vr(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var zr=function(){function e(t){Hn(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Yn(e,[{key:"transaction",value:function(e,t){return new Br(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new qr(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Br=function(){function e(t){var n=this;Hn(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Yn(e,[{key:"objectStore",value:function(e){return new qr(this._transaction.objectStore(e))}}]),e}(),qr=function(){function e(t){Hn(this,e),this._store=t}return Yn(e,[{key:"index",value:function(e){return new Wr(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Wr(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Vr(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Vr(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Vr(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Vr(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Wr=function(){function e(t){Hn(this,e),this._index=t}return Yn(e,[{key:"get",value:function(e){return Vr(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Hr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Gr(e){return function(e){if(Array.isArray(e))return Kn(e)}(e)||Hr(e)||$n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Yr(a,r,i,o,u,"next",e)}function u(e){Yr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var $r=function(){function e(t,n,r){Hn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Yn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qr="[DEFAULT]",Jr=function(){function e(t,n){Hn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Yn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new mr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch(s){}var t,n=Qn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Zn(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Kr(cr.mark((function e(){var t;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Gr(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Gr(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Qn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Zn(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(DE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(DE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr;return this.component?this.component.multipleInstances?e:Qr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Xr,Zr,ei=function(){function e(t){Hn(this,e),this.name=t,this.providers=new Map}return Yn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Jr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ti=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zr||(Zr={}));var ni,ri,ii={debug:Zr.DEBUG,verbose:Zr.VERBOSE,info:Zr.INFO,warn:Zr.WARN,error:Zr.ERROR,silent:Zr.SILENT},ai=Zr.INFO,oi=(mt(Xr={},Zr.DEBUG,"log"),mt(Xr,Zr.VERBOSE,"log"),mt(Xr,Zr.INFO,"info"),mt(Xr,Zr.WARN,"warn"),mt(Xr,Zr.ERROR,"error"),Xr),ui=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=oi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},si=function(){function e(t){Hn(this,e),this.name=t,this._logLevel=ai,this._logHandler=ui,this._userLogHandler=null,ti.push(this)}return Yn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Zr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ii[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Zr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Zr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zr.INFO].concat(t)),this._logHandler.apply(this,[this,Zr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zr.WARN].concat(t)),this._logHandler.apply(this,[this,Zr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zr.ERROR].concat(t)),this._logHandler.apply(this,[this,Zr.ERROR].concat(t))}}]),e}();var ci=function(){function e(t){Hn(this,e),this.container=t}return Yn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var li="@firebase/app",fi="0.7.20",hi=new si("@firebase/app"),di="[DEFAULT]",pi=(mt(ni={},li,"fire-core"),mt(ni,"@firebase/app-compat","fire-core-compat"),mt(ni,"@firebase/analytics","fire-analytics"),mt(ni,"@firebase/analytics-compat","fire-analytics-compat"),mt(ni,"@firebase/app-check","fire-app-check"),mt(ni,"@firebase/app-check-compat","fire-app-check-compat"),mt(ni,"@firebase/auth","fire-auth"),mt(ni,"@firebase/auth-compat","fire-auth-compat"),mt(ni,"@firebase/database","fire-rtdb"),mt(ni,"@firebase/database-compat","fire-rtdb-compat"),mt(ni,"@firebase/functions","fire-fn"),mt(ni,"@firebase/functions-compat","fire-fn-compat"),mt(ni,"@firebase/installations","fire-iid"),mt(ni,"@firebase/installations-compat","fire-iid-compat"),mt(ni,"@firebase/messaging","fire-fcm"),mt(ni,"@firebase/messaging-compat","fire-fcm-compat"),mt(ni,"@firebase/performance","fire-perf"),mt(ni,"@firebase/performance-compat","fire-perf-compat"),mt(ni,"@firebase/remote-config","fire-rc"),mt(ni,"@firebase/remote-config-compat","fire-rc-compat"),mt(ni,"@firebase/storage","fire-gcs"),mt(ni,"@firebase/storage-compat","fire-gcs-compat"),mt(ni,"@firebase/firestore","fire-fst"),mt(ni,"@firebase/firestore-compat","fire-fst-compat"),mt(ni,"fire-js","fire-js"),mt(ni,"firebase","fire-js-all"),ni),vi=new Map,yi=new Map;function mi(e,t){try{e.container.addComponent(t)}catch(n){hi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function gi(e,t){e.container.addOrOverwriteComponent(t)}function ki(e){var t=e.name;if(yi.has(t))return hi.debug("There were multiple attempts to register component ".concat(t,".")),!1;yi.set(t,e);var n,r=Qn(vi.values());try{for(r.s();!(n=r.n()).done;){mi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function bi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:di;bi(e,t).clearInstance(n)}function _i(){yi.clear()}var xi=(mt(ri={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),mt(ri,"bad-app-name","Illegal App name: '{$appName}"),mt(ri,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),mt(ri,"app-deleted","Firebase App named '{$appName}' already deleted"),mt(ri,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mt(ri,"invalid-log-argument","First argument to `onLog` must be null or a function."),mt(ri,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),mt(ri,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),mt(ri,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),mt(ri,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ri),Si=new Ir("app","Firebase",xi),Ei=function(){function e(t,n,r){var i=this;Hn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",(function(){return i}),"PUBLIC"))}return Yn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}]),e}(),Ti="9.6.10";function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:di,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Si.create("bad-app-name",{appName:String(i)});var a=vi.get(i);if(a){if(Nr(e,a.options)&&Nr(r,a.config))return a;throw Si.create("duplicate-app",{appName:i})}var o,u=new ei(i),s=Qn(yi.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ei(e,r,u);return vi.set(i,l),l}function Ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=vi.get(e);if(!t)throw Si.create("no-app",{appName:e});return t}function Ai(){return Array.from(vi.values())}function Oi(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=Kr(cr.mark((function e(t){var n;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vi.has(n)){e.next=6;break}return vi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e,t,n){var r,i=null!==(r=pi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hi.warn(u.join(" "))}ki(new $r("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pi(e,t){if(null!==e&&"function"!==typeof e)throw Si.create("invalid-log-argument");!function(e,t){var n,r=Qn(ti);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ii[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Zr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Di(e){var t;t=e,ti.forEach((function(e){e.setLogLevel(t)}))}var Mi="firebase-heartbeat-store",Li=null;function Fi(){var e,t,n;return Li||(Li=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Mi)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new zr(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new zr(a.result),e.oldVersion,e.newVersion,new Br(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Si.create("storage-open",{originalErrorMessage:e.message})}))),Li}function ji(e){return Ui.apply(this,arguments)}function Ui(){return Ui=Kr(cr.mark((function e(t){var n;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fi();case 3:return n=e.sent,e.abrupt("return",n.transaction(Mi).objectStore(Mi).get(Bi(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Si.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ui.apply(this,arguments)}function Vi(e,t){return zi.apply(this,arguments)}function zi(){return zi=Kr(cr.mark((function e(t,n){var r,i,a;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fi();case 3:return r=e.sent,i=r.transaction(Mi,"readwrite"),a=i.objectStore(Mi),e.next=8,a.put(n,Bi(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Si.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),zi.apply(this,arguments)}function Bi(e){return"".concat(e.name,"!").concat(e.options.appId)}var qi=function(){function e(t){var n=this;Hn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ki(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Yn(e,[{key:"triggerHeartbeat",value:function(){var e=Kr(cr.mark((function e(){var t,n,r;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Wi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Kr(cr.mark((function e(){var t,n,r,i,a;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Wi(),n=Hi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=dr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wi(){return(new Date).toISOString().substring(0,10)}function Hi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Qn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$i(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$i(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gi,Yi,Ki=function(){function e(t){Hn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Yn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Kr(cr.mark((function e(){return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Er()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Kr(cr.mark((function e(){var t;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ji(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Kr(cr.mark((function e(t){var n,r;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Kr(cr.mark((function e(t){var n,r;return cr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Gr(r.heartbeats),Gr(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $i(e){return dr(JSON.stringify({version:2,heartbeats:e})).length}Gi="",ki(new $r("platform-logger",(function(e){return new ci(e)}),"PRIVATE")),ki(new $r("heartbeat",(function(e){return new qi(e)}),"PRIVATE")),Ri(li,fi,Gi),Ri(li,fi,"esm2017"),Ri("fire-js","");var Qi=function(){function e(t,n){var r=this;Hn(this,e),this._delegate=t,this.firebase=n,mi(t,new $r("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Yn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Oi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){gi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ji=(mt(Yi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),mt(Yi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yi),Xi=new Ir("app-compat","Firebase",Ji);var Zi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ii(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Or(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ri,setLogLevel:Di,onLog:Pi,apps:null,SDK_VERSION:Ti,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ki(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Xi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&vr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Or(n,e=e||di))throw Xi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Qi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){vr(n,e)},createSubscribe:Lr,ErrorFactory:Ir,deepExtend:vr}),n}(),ea=new si("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ea.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ta=self.firebase.SDK_VERSION;ta&&ta.indexOf("LITE")>=0&&ea.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var na=Zi;!function(e){Ri("@firebase/app-compat","0.1.21",e)}();function ra(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nr(e)););return e}function ia(){return ia="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ra(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ia.apply(this,arguments)}na.registerVersion("firebase","9.6.10","app-compat");function aa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var oa;Object.create;var ua="facebook.com",sa="github.com",ca="google.com",la="password",fa="twitter.com",ha="EMAIL_SIGNIN",da="PASSWORD_RESET",pa="RECOVER_EMAIL",va="REVERT_SECOND_FACTOR_ADDITION",ya="VERIFY_AND_CHANGE_EMAIL",ma="VERIFY_EMAIL";function ga(){return mt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ka=function(){var e;return mt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),mt(e,"argument-error",""),mt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),mt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),mt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),mt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),mt(e,"cordova-not-ready","Cordova framework is not ready."),mt(e,"cors-unsupported","This browser is not supported."),mt(e,"credential-already-in-use","This credential is already associated with a different user account."),mt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),mt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),mt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),mt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),mt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),mt(e,"email-already-in-use","The email address is already in use by another account."),mt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),mt(e,"expired-action-code","The action code has expired."),mt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),mt(e,"internal-error","An internal AuthError has occurred."),mt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),mt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),mt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),mt(e,"invalid-auth-event","An internal AuthError has occurred."),mt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),mt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),mt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),mt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),mt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),mt(e,"invalid-email","The email address is badly formatted."),mt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),mt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),mt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),mt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),mt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),mt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),mt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),mt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),mt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),mt(e,"wrong-password","The password is invalid or the user does not have a password."),mt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),mt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),mt(e,"invalid-provider-id","The specified provider ID is invalid."),mt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),mt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),mt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),mt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),mt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),mt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),mt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),mt(e,"missing-continue-uri","A continue URL must be provided in the request."),mt(e,"missing-iframe-start","An internal AuthError has occurred."),mt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),mt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),mt(e,"missing-multi-factor-info","No second factor identifier is provided."),mt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),mt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),mt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),mt(e,"app-deleted","This instance of FirebaseApp has been deleted."),mt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),mt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),mt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),mt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),mt(e,"no-auth-event","An internal AuthError has occurred."),mt(e,"no-such-provider","User was not linked to an account with the given provider."),mt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),mt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),mt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),mt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),mt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),mt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),mt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),mt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),mt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),mt(e,"rejected-credential","The request contains malformed or mismatching credentials."),mt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),mt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),mt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),mt(e,"timeout","The operation has timed out."),mt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),mt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),mt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),mt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),mt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),mt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),mt(e,"unverified-email","The operation requires a verified email."),mt(e,"user-cancelled","The user did not grant your application the permissions it requested."),mt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),mt(e,"user-disabled","The user account has been disabled by an administrator."),mt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),mt(e,"user-signed-out",""),mt(e,"weak-password","The password must be 6 characters long or more."),mt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),mt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ba=ga,wa=new Ir("auth","Firebase",ga()),_a=new si("@firebase/auth");function xa(e){if(_a.logLevel<=Zr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_a.error.apply(_a,["Auth (".concat(Ti,"): ").concat(e)].concat(n))}}function Sa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ca.apply(void 0,[e].concat(n))}function Ea(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ca.apply(void 0,[e].concat(n))}function Ta(e,t,n){var r=Object.assign(Object.assign({},ba()),mt({},t,n));return new Ir("auth","Firebase",r).create(t,{appName:e.name})}function Ia(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Sa(e,"argument-error"),Ta(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Gr(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Gr(o)))}return wa.create.apply(wa,[e].concat(n))}function Aa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ca.apply(void 0,[t].concat(r))}}function Oa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xa(t),new Error(t)}function Na(e,t){e||Oa(t)}var Ra=new Map;function Pa(e){Na(e instanceof Function,"Expected a class definition");var t=Ra.get(e);return t?(Na(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ra.set(e,t),t)}function Da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ma(){return"http:"===La()||"https:"===La()}function La(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Fa=function(){function e(t,n){Hn(this,e),this.shortDelay=t,this.longDelay=n,Na(n>t,"Short delay should be less than long delay!"),this.isMobile=br()||xr()}return Yn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ma()||_r()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ja(e,t){Na(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ua=function(){function e(){Hn(this,e)}return Yn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Va=(mt(oa={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),mt(oa,"MISSING_CUSTOM_TOKEN","internal-error"),mt(oa,"INVALID_IDENTIFIER","invalid-email"),mt(oa,"MISSING_CONTINUE_URI","internal-error"),mt(oa,"INVALID_PASSWORD","wrong-password"),mt(oa,"MISSING_PASSWORD","internal-error"),mt(oa,"EMAIL_EXISTS","email-already-in-use"),mt(oa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),mt(oa,"INVALID_IDP_RESPONSE","invalid-credential"),mt(oa,"INVALID_PENDING_TOKEN","invalid-credential"),mt(oa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),mt(oa,"MISSING_REQ_TYPE","internal-error"),mt(oa,"EMAIL_NOT_FOUND","user-not-found"),mt(oa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),mt(oa,"EXPIRED_OOB_CODE","expired-action-code"),mt(oa,"INVALID_OOB_CODE","invalid-action-code"),mt(oa,"MISSING_OOB_CODE","internal-error"),mt(oa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),mt(oa,"INVALID_ID_TOKEN","invalid-user-token"),mt(oa,"TOKEN_EXPIRED","user-token-expired"),mt(oa,"USER_NOT_FOUND","user-token-expired"),mt(oa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),mt(oa,"INVALID_CODE","invalid-verification-code"),mt(oa,"INVALID_SESSION_INFO","invalid-verification-id"),mt(oa,"INVALID_TEMPORARY_PROOF","invalid-credential"),mt(oa,"MISSING_SESSION_INFO","missing-verification-id"),mt(oa,"SESSION_EXPIRED","code-expired"),mt(oa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),mt(oa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),mt(oa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),mt(oa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),mt(oa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),mt(oa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),mt(oa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),mt(oa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),mt(oa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),mt(oa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),mt(oa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),oa),za=new Fa(3e4,6e4);function Ba(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qa(e,t,n,r){return Wa.apply(this,arguments)}function Wa(){return Wa=Kr(lr().mark((function e(t,n,r,i){var a,o=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ha(t,a,Kr(lr().mark((function e(){var a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Pr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ua.fetch()($a(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ha(e,t,n){return Ga.apply(this,arguments)}function Ga(){return Ga=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Va),n),e.prev=2,a=new Qa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ja(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Zn(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ja(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Ja(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Ta(t,d,h);case 30:Sa(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Tr)){e.next=37;break}throw e.t0;case 37:Sa(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ga.apply(this,arguments)}function Ya(e,t,n,r){return Ka.apply(this,arguments)}function Ka(){return Ka=Kr(lr().mark((function e(t,n,r,i){var a,o,u=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,qa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function $a(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ja(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qa=function(){function e(t){var n=this;Hn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ea(n.auth,"network-request-failed"))}),za.get())}))}return Yn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ja(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ea(e,t,r);return i.customData._tokenResponse=n,i}function Xa(e,t){return Za.apply(this,arguments)}function Za(){return Za=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ao(){return ao=Kr(lr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ur(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Aa((a=uo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:io(oo(a.auth_time)),issuedAtTime:io(oo(a.iat)),expirationTime:io(oo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e){return 1e3*Number(e)}function uo(e){var t=Zn(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xa("JWT malformed, contained fewer than 3 sections"),null;try{var a=pr(r);return a?JSON.parse(a):(xa("Failed to decode base64 JWT payload"),null)}catch(o){return xa("Caught error parsing JWT payload as JSON",o),null}}function so(e,t){return co.apply(this,arguments)}function co(){return co=Kr(lr().mark((function e(t,n){var r=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Tr&&lo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),co.apply(this,arguments)}function lo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var fo=function(){function e(t){Hn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Yn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ho=function(){function e(t,n){Hn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Yn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function po(e){return vo.apply(this,arguments)}function vo(){return vo=Kr(lr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,so(t,no(r,{idToken:i}));case 6:Aa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?go(o.providerUserInfo):[],s=mo(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ho(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function yo(){return yo=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ur(t),e.next=3,po(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function mo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Gr(n),Gr(t))}function go(e){return e.map((function(e){var t=e.providerId,n=aa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ko(e,t){return bo.apply(this,arguments)}function bo(){return bo=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t,{},Kr(lr().mark((function e(){var r,i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$a(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ua.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}var wo=function(){function e(){Hn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Yn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Aa(e.idToken,"internal-error"),Aa("undefined"!==typeof e.idToken,"internal-error"),Aa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=uo(e);return Aa(t,"internal-error"),Aa("undefined"!==typeof t.exp,"internal-error"),Aa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Kr(lr().mark((function e(t){var n,r=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Aa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Oa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Aa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Aa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Aa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _o(e,t){Aa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xo=function(){function e(t){Hn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=aa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Gr(a.providerData):[],this.metadata=new ho(a.createdAt||void 0,a.lastLoginAt||void 0)}return Yn(e,[{key:"getIdToken",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Aa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ao.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return yo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Aa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Aa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Kr(lr().mark((function e(t){var n,r,i=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,po(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,so(this,Xa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Aa(k&&x,t,"internal-error");var S=wo.fromJSON(this.name,x);Aa("string"===typeof k,t,"internal-error"),_o(f,t.name),_o(h,t.name),Aa("boolean"===typeof b,t,"internal-error"),Aa("boolean"===typeof w,t,"internal-error"),_o(d,t.name),_o(p,t.name),_o(v,t.name),_o(y,t.name),_o(m,t.name),_o(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Kr(lr().mark((function t(n,r){var i,a,o,u=arguments;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new wo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,po(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),So=function(){function e(){Hn(this,e),this.type="NONE",this.storage={}}return Yn(e,[{key:"_isAvailable",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();So.type="NONE";var Eo=So;function To(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Io=function(){function e(t,n,r){Hn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=To(this.userKey,a.apiKey,o),this.fullPersistenceKey=To("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Yn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Kr(lr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Pa(Eo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Pa(Eo),u=To(i,n.config.apiKey,n.name),s=null,c=Qn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=xo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Co(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ro(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ao(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Do(t))return"Blackberry";if(Mo(t))return"Webos";if(Oo(t))return"Safari";if((t.includes("chrome/")||No(t))&&!t.includes("edge/"))return"Chrome";if(Po(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/firefox\//i.test(e)}function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function No(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/crios\//i.test(e)}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/iemobile/i.test(e)}function Po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/android/i.test(e)}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/blackberry/i.test(e)}function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/webos/i.test(e)}function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/iphone|ipad|ipod/i.test(e)}function Fo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return Lo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function jo(){return Sr()&&10===document.documentMode}function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return Lo(e)||Po(e)||Mo(e)||Do(e)||/windows phone/i.test(e)||Ro(e)}function Vo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Co(kr());break;case"Worker":t="".concat(Co(kr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ti,"/").concat(r)}var zo=function(){function e(t,n,r){Hn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qo(this),this.idTokenSubscription=new qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wa,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Yn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Pa(t)),this._initializationPromise=this.queue(Kr(lr().mark((function r(){var i,a;return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Io.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Kr(lr().mark((function e(t){var n,r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Aa(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,po(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ur(t):null)&&Aa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Kr(lr().mark((function e(t){var n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Aa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Pa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ir("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Aa(n=t&&Pa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Io.create(this,[Pa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Kr(lr().mark((function e(t){var n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Aa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Aa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Kr(lr().mark((function e(){var t,n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bo(e){return Ur(e)}var qo=function(){function e(t){var n=this;Hn(this,e),this.auth=t,this.observer=null,this.addObserver=Lr((function(e){return n.observer=e}))}return Yn(e,[{key:"next",get:function(){return Aa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Wo(e,t,n){var r=Bo(e);Aa(r._canInitEmulator,r,"emulator-config-failed"),Aa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ho(t),o=function(e){var t=Ho(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Go(r.substr(a.length+1))}}var o=Zn(r.split(":"),2);return{host:o[0],port:Go(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ho(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Go(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Yo=function(){function e(t,n){Hn(this,e),this.providerId=t,this.signInMethod=n}return Yn(e,[{key:"toJSON",value:function(){return Oa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Oa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Oa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Oa("not implemented")}}]),e}();function Ko(e,t){return $o.apply(this,arguments)}function $o(){return $o=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:resetPassword",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Qo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Xo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:update",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPassword",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:sendOobCode",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithEmailLink",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}var yu=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Hn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Yn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",eu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",hu(t,{email:this._email,oobCode:this._password}));case 5:Sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yo);function mu(e,t){return gu.apply(this,arguments)}function gu(){return gu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithIdp",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}var ku=function(e){tr(n,e);var t=or(n);function n(){var e;return Hn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Yn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return mu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=aa(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yo);function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:sendVerificationCode",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function _u(){return _u=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function xu(){return xu=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ba(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ja(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var Su=mt({},"USER_NOT_FOUND","user-not-found");function Eu(){return Eu=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Ba(t,r),Su));case 2:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}var Tu=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Yn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return _u.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Eu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yo);var Iu=function(){function e(t){var n,r,i,a,o,u;Hn(this,e);var s=Dr(Mr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Aa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Yn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Dr(Mr(e)).link,n=t?Dr(Mr(t)).deep_link_id:null,r=Dr(Mr(e)).deep_link_id;return(r?Dr(Mr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(DE){return null}}}]),e}();var Cu=function(){function e(){Hn(this,e),this.providerId=e.PROVIDER_ID}return Yn(e,null,[{key:"credential",value:function(e,t){return yu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Iu.parseLink(t);return Aa(n,"argument-error"),yu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Cu.PROVIDER_ID="password",Cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Au=function(){function e(t){Hn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Yn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ou=function(e){tr(n,e);var t=or(n);function n(){var e;return Hn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Yn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Gr(this.scopes)}}]),n}(Au),Nu=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Aa(e.idToken||e.accessToken,"argument-error"),ku._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Aa("providerId"in t&&"signInMethod"in t,"argument-error"),ku._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ou),Ru=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.call(this,"facebook.com")}return Yn(n,null,[{key:"credential",value:function(e){return ku._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(DE){return null}}}]),n}(Ou);Ru.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ru.PROVIDER_ID="facebook.com";var Pu=function(e){tr(n,e);var t=or(n);function n(){var e;return Hn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Yn(n,null,[{key:"credential",value:function(e,t){return ku._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(DE){return null}}}]),n}(Ou);Pu.GOOGLE_SIGN_IN_METHOD="google.com",Pu.PROVIDER_ID="google.com";var Du=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.call(this,"github.com")}return Yn(n,null,[{key:"credential",value:function(e){return ku._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(DE){return null}}}]),n}(Ou);Du.GITHUB_SIGN_IN_METHOD="github.com",Du.PROVIDER_ID="github.com";var Mu=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Yn(n,[{key:"_getIdTokenResponse",value:function(e){return mu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yo),Lu=function(e){tr(n,e);var t=or(n);function n(e){return Hn(this,n),Aa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Yn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Mu.fromJSON(e);return Aa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Mu._create(r,n)}catch(i){return null}}}]),n}(Au),Fu=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.call(this,"twitter.com")}return Yn(n,null,[{key:"credential",value:function(e,t){return ku._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(DE){return null}}}]),n}(Ou);function ju(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signUp",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}Fu.TWITTER_SIGN_IN_METHOD="twitter.com",Fu.PROVIDER_ID="twitter.com";var Vu=function(){function e(t){Hn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Yn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Kr(lr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,xo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=zu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Kr(lr().mark((function t(n,r,i){var a;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Bu(){return Bu=Kr(lr().mark((function e(t){var n,r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Vu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ju(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Vu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}var qu=function(e){tr(n,e);var t=or(n);function n(e,r,i,a){var o,u;return Hn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(er(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Yn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Tr);function Wu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw qu._fromErrorAndOperation(e,n,t,r);throw n}))}function Hu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Gu(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,Qu(!0,r,n);case 3:return e.t0=eo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Hu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Ku(e,t){return $u.apply(this,arguments)}function $u(){return $u=Kr(lr().mark((function e(t,n){var r,i,a=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=so,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Vu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Qu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return Ju=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(n);case 2:i=Hu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Aa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Xu(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,so(t,Wu(i,a,n,t),r);case 6:return Aa((o=e.sent).idToken,i,"internal-error"),Aa(u=uo(o.idToken),i,"internal-error"),s=u.sub,Aa(t.uid===s,i,"user-mismatch"),e.abrupt("return",Vu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Zu.apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=Kr(lr().mark((function e(t,n){var r,i,a,o,u=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Wu(t,i,n);case 4:return a=e.sent,e.next=7,Vu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",es(Bo(t),n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,Qu(!1,r,n.providerId);case 3:return e.abrupt("return",Ku(r,n));case 4:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(Ur(t),n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ya(t,"POST","/v1/accounts:signInWithCustomToken",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(){return ls=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bo(t),e.next=3,ss(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Vu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}var fs=function(){function e(t,n){Hn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Yn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?hs._fromServerResponse(e,t):Sa(e,"internal-error")}}]),e}(),hs=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Yn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(fs);function ds(e,t,n){var r;Aa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Aa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Aa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Aa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ps(){return ps=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),a={requestType:"PASSWORD_RESET",email:n},r&&ds(i,a,r),e.next=5,ou(i,a);case 5:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(){return vs=Kr(lr().mark((function e(t,n,r){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ko(Ur(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ys(){return ys=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Ur(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(e,t){return gs.apply(this,arguments)}function gs(){return gs=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,Ko(r,{oobCode:n});case 3:i=e.sent,Aa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Aa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Aa(i.mfaInfo,r,"internal-error");case 13:Aa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=fs._fromServerResponse(Bo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(){return ks=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms(Ur(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(e,t,n){return ws.apply(this,arguments)}function ws(){return ws=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),e.next=3,ju(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Vu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function _s(){return _s=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),a={requestType:"EMAIL_SIGNIN",email:n},Aa(r.handleCodeInApp,i,"argument-error"),r&&ds(i,a,r),e.next=6,su(i,a);case 6:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function xs(){return xs=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),Aa((a=Cu.credentialWithLink(n,r||Da()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ns(i,a));case 4:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function Ss(e,t){return Es.apply(this,arguments)}function Es(){return Es=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:createAuthUri",Ba(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(){return Ts=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ma()?Da():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ss(Ur(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Is(){return Is=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ds(r.auth,a,n),e.next=8,iu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Cs(){return Cs=Kr(lr().mark((function e(t,n,r){var i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ds(i.auth,o,r),e.next=8,lu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){return Os.apply(this,arguments)}function Os(){return Os=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ns(){return Ns=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s,c;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ur(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,so(a,As(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Rs(e,t,n){return Ps.apply(this,arguments)}function Ps(){return Ps=Kr(lr().mark((function e(t,n,r){var i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,so(t,Qo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}var Ds=Yn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Hn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ms=function(e){tr(n,e);var t=or(n);function n(e,r,i,a){var o;return Hn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Yn(n)}(Ds),Ls=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"facebook.com",r)}return Yn(n)}(Ds),Fs=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Yn(n)}(Ms),js=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"google.com",r)}return Yn(n)}(Ds),Us=function(e){tr(n,e);var t=or(n);function n(e,r,i){return Hn(this,n),t.call(this,e,"twitter.com",r,i)}return Yn(n)}(Ms);function Vs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=uo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ds(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ls(a,i);case"github.com":return new Fs(a,i);case"google.com":return new js(a,i);case"twitter.com":return new Us(a,i,e.screenName||null);case"custom":case"anonymous":return new Ds(a,null);default:return new Ds(a,r,i)}}(n)}var zs=function(){function e(t,n){Hn(this,e),this.type=t,this.credential=n}return Yn(e,[{key:"toJSON",value:function(){return{multiFactorSession:mt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bs=function(){function e(t,n,r){Hn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Yn(e,[{key:"resolveSignIn",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Bo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return fs._fromServerResponse(r,e)}));Aa(i.mfaPendingCredential,r,"internal-error");var o=zs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Kr(lr().mark((function e(t){var a,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Vu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Aa(n.user,r,"internal-error"),e.abrupt("return",Vu._forOperation(n.user,n.operationType,u));case 17:Sa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function qs(e,t){return qa(e,"POST","/v2/accounts/mfaEnrollment:start",Ba(e,t))}function Ws(e,t){return qa(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ba(e,t))}var Hs=function(){function e(t){var n=this;Hn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return fs._fromServerResponse(t.auth,e)})))}))}return Yn(e,[{key:"getSession",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=zs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,so(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Kr(lr().mark((function e(t){var n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,so(this.user,Ws(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Gs=new WeakMap;var Ys="__sak",Ks=function(){function e(t,n){Hn(this,e),this.storageRetriever=t,this.type=n}return Yn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ys,"1"),this.storage.removeItem(Ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(DE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $s=function(e){tr(n,e);var t=or(n);function n(){var e;return Hn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=kr();return Oo(e)||Lo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Uo(),e._shouldAllowMigration=!0,e}return Yn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);jo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Kr(lr().mark((function e(t,r){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(nr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kr(lr().mark((function e(t){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(nr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(nr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ks);$s.type="LOCAL";var Qs=$s,Js=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Yn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ks);Js.type="SESSION";var Xs=Js;function Zs(e){return Promise.all(e.map(function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ec=function(){function e(t){Hn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Yn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Kr(lr().mark((function e(t){var n,r,i,a,o,u,s,c;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Zs(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function tc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ec.receivers=[];var nc=function(){function e(t){Hn(this,e),this.target=t,this.handlers=new Set}return Yn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=tc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function rc(){return window}function ic(){return"undefined"!==typeof rc().WorkerGlobalScope&&"function"===typeof rc().importScripts}function ac(){return oc.apply(this,arguments)}function oc(){return(oc=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function uc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var sc="firebaseLocalStorageDb",cc="firebaseLocalStorage",lc="fbase_key",fc=function(){function e(t){Hn(this,e),this.request=t}return Yn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function hc(e,t){return e.transaction([cc],t?"readwrite":"readonly").objectStore(cc)}function dc(){var e=indexedDB.deleteDatabase(sc);return new fc(e).toPromise()}function pc(){var e=indexedDB.open(sc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(cc,{keyPath:lc})}catch(r){n(r)}})),e.addEventListener("success",Kr(lr().mark((function n(){var r;return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(cc)){n.next=12;break}return r.close(),n.next=5,dc();case 5:return n.t0=t,n.next=8,pc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function vc(e,t,n){return yc.apply(this,arguments)}function yc(){return yc=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hc(t,!0).put((mt(i={},lc,n),mt(i,"value",r),i)),e.abrupt("return",new fc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function mc(e,t){return gc.apply(this,arguments)}function gc(){return gc=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hc(t,!1).get(n),e.next=3,new fc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e,t){var n=hc(e,!0).delete(t);return new fc(n).toPromise()}var bc=function(){function e(){Hn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Yn(e,[{key:"_openDb",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,pc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ic()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Kr(lr().mark((function e(){var t=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ec._getInstance(ic()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Kr(lr().mark((function e(n,r){var i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Kr(lr().mark((function e(){var t,n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new nc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&uc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,pc();case 5:return t=e.sent,e.next=8,vc(t,Ys,"1");case 8:return e.next=10,kc(t,Ys);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Kr(lr().mark((function e(t,n){var r=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return vc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return mc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Kr(lr().mark((function e(t){var n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return kc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=hc(e,!1).getAll();return new fc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Qn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();bc.type="LOCAL";var wc=bc;function _c(e,t){return qa(e,"POST","/v2/accounts/mfaSignIn:start",Ba(e,t))}function xc(e){return Sc.apply(this,arguments)}function Sc(){return Sc=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ea("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Tc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ic=1e12,Cc=function(){function e(t){Hn(this,e),this.auth=t,this.counter=Ic,this._widgets=new Map}return Yn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ac(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ic;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ic;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ic,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ac=function(){function e(t,n,r){var i=this;Hn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Aa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Yn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Oc=Tc("rcb"),Nc=new Fa(3e4,6e4),Rc="https://www.google.com/recaptcha/api.js?",Pc=function(){function e(){Hn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rc().grecaptcha}return Yn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Aa(Dc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(rc().grecaptcha):new Promise((function(r,i){var a=rc().setTimeout((function(){i(Ea(e,"network-request-failed"))}),Nc.get());rc()[Oc]=function(){rc().clearTimeout(a),delete rc()[Oc];var o=rc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ea(e,"internal-error"))},Ec("".concat(Rc,"?").concat(Pr({onload:Oc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ea(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!rc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Dc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Mc=function(){function e(){Hn(this,e)}return Yn(e,[{key:"load",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Cc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Lc="recaptcha",Fc={theme:"light",type:"image"},jc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Fc),r=arguments.length>2?arguments[2]:void 0;Hn(this,e),this.parameters=n,this.type=Lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bo(r),this.isInvisible="invisible"===this.parameters.size,Aa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Aa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mc:new Pc,this.validateStartingState()}return Yn(e,[{key:"verify",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Aa(!this.parameters.sitekey,this.auth,"argument-error"),Aa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Aa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=rc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Aa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Kr(lr().mark((function e(){var t,n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa(Ma()&&!ic(),this.auth,"internal-error"),e.next=3,Uc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,xc(this.auth);case 8:Aa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Aa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Uc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Vc=function(){function e(t,n){Hn(this,e),this.verificationId=t,this.onConfirmation=n}return Yn(e,[{key:"confirm",value:function(e){var t=Tu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function zc(){return zc=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),e.next=3,Hc(i,n,Ur(r));case 3:return a=e.sent,e.abrupt("return",new Vc(a,(function(e){return ns(i,e)})));case 5:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Bc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,Qu(!1,i,"phone");case 3:return e.next=5,Hc(i.auth,n,Ur(r));case 5:return a=e.sent,e.abrupt("return",new Vc(a,(function(e){return is(i,e)})));case 7:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Wc(){return Wc=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ur(t),e.next=3,Hc(i.auth,n,Ur(r));case 3:return a=e.sent,e.abrupt("return",new Vc(a,(function(e){return os(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Hc(e,t,n){return Gc.apply(this,arguments)}function Gc(){return Gc=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Aa("string"===typeof a,t,"argument-error"),Aa(r.type===Lc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Aa("enroll"===u.type,t,"internal-error"),e.next=13,qs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Aa("signin"===u.type,t,"internal-error"),Aa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,_c(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,bu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Gc.apply(this,arguments)}function Yc(){return Yc=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Ur(t),n);case 2:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}var Kc=function(){function e(t){Hn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Bo(t)}return Yn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Hc(this.auth,e,Ur(t))}}],[{key:"credential",value:function(e,t){return Tu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Tu._fromTokenResponse(n,r):null}}]),e}();function $c(e,t){return t?Pa(t):(Aa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kc.PROVIDER_ID="phone",Kc.PHONE_SIGN_IN_METHOD="phone";var Qc=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Yn(n,[{key:"_getIdTokenResponse",value:function(e){return mu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return mu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return mu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yo);function Jc(e){return es(e.auth,new Qc(e),e.bypassAuthState)}function Xc(e){var t=e.auth,n=e.user;return Aa(n,t,"internal-error"),Xu(n,new Qc(e),e.bypassAuthState)}function Zc(e){return el.apply(this,arguments)}function el(){return el=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Aa(r=t.user,n,"internal-error"),e.abrupt("return",Ku(r,new Qc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Hn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Yn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Kr(lr().mark((function t(n,r){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Kr(lr().mark((function e(t){var n,r,i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jc;case"linkViaPopup":case"linkViaRedirect":return Zc;case"reauthViaPopup":case"reauthViaRedirect":return Xc;default:Sa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),nl=new Fa(2e3,1e4);function rl(e,t,n){return il.apply(this,arguments)}function il(){return il=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),Ia(t,n,Au),a=$c(i,r),o=new sl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(){return al=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia((i=Ur(t)).auth,n,Au),a=$c(i.auth,r),o=new sl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia((i=Ur(t)).auth,n,Au),a=$c(i.auth,r),o=new sl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}var sl=function(e){tr(n,e);var t=or(n);function n(e,r,i,a,o){var u;return Hn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=er(u),u}return Yn(n,[{key:"executeNotNull",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Aa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Kr(lr().mark((function e(){var t,n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Na(1===this.filter.length,"Popup operations only handle one event"),t=tc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ea(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ea(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ea(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,nl.get())}()}}]),n}(tl);sl.currentPopupAction=null;var cl=new Map,ll=function(e){tr(n,e);var t=or(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Hn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Yn(n,[{key:"execute",value:function(){var e=Kr(lr().mark((function e(){var t,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=cl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,fl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ia(nr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:cl.set(this.auth._key(),t);case 21:return this.bypassAuthState||cl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Kr(lr().mark((function e(t){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ia(nr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ia(nr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(tl);function fl(e,t){return hl.apply(this,arguments)}function hl(){return hl=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yl(n),i=vl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t){return pl.apply(this,arguments)}function pl(){return pl=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vl(t)._set(yl(n),"true"));case 1:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e){return Pa(e._redirectPersistence)}function yl(e){return To("pendingRedirect",e.config.apiKey,e.name)}function ml(e,t,n){return function(e,t,n){return gl.apply(this,arguments)}(e,t,n)}function gl(){return gl=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bo(t),Ia(t,n,Au),a=$c(i,r),e.next=5,dl(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t,n){return function(e,t,n){return bl.apply(this,arguments)}(e,t,n)}function bl(){return bl=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia((i=Ur(t)).auth,n,Au),a=$c(i.auth,r),e.next=5,dl(a,i.auth);case 5:return e.next=7,Il(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t,n){return function(e,t,n){return _l.apply(this,arguments)}(e,t,n)}function _l(){return _l=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia((i=Ur(t)).auth,n,Au),a=$c(i.auth,r),e.next=5,Qu(!1,i,n.providerId);case 5:return e.next=7,dl(a,i.auth);case 7:return e.next=9,Il(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function xl(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(t)._initializationPromise;case 2:return e.abrupt("return",El(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Bo(t),a=$c(i,n),o=new ll(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Il(e){return Cl.apply(this,arguments)}function Cl(){return Cl=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}var Al=function(){function e(t){Hn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Yn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Nl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ea(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ol(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ol(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ol(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Nl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Rl(e){return Pl.apply(this,arguments)}function Pl(){return Pl=Kr(lr().mark((function e(t){var n,r=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}var Dl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ml=/^https?/;function Ll(){return Ll=Kr(lr().mark((function e(t){var n,r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rl(t);case 4:n=e.sent,r=n.authorizedDomains,i=Qn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Fl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ll.apply(this,arguments)}function Fl(e){var t=Da(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ml.test(r))return!1;if(Dl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var jl=new Fa(3e4,6e4);function Ul(){var e=rc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Gr(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vl=null;function zl(e){return Vl=Vl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ul(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ul(),n(Ea(e,"network-request-failed"))},timeout:jl.get()})}if(null===(i=null===(r=rc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=rc().gapi)||void 0===a?void 0:a.load)){var u=Tc("iframefcb");return rc()[u]=function(){gapi.load?o():n(Ea(e,"network-request-failed"))},Ec("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Vl=null,e}))}(e),Vl}var Bl=new Fa(5e3,15e3),ql={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hl(e){var t=e.config;Aa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ja(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ti},i=Wl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Pr(r).slice(1))}function Gl(e){return Yl.apply(this,arguments)}function Yl(){return Yl=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(t);case 2:return n=e.sent,Aa(r=rc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Hl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ql,dontclear:!0},(function(e){return new Promise(function(){var n=Kr(lr().mark((function n(r,i){var a,o,u;return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){rc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ea(t,"network-request-failed"),o=rc().setTimeout((function(){i(a)}),Bl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}var Kl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$l="_blank",Ql="http://localhost",Jl=function(){function e(t){Hn(this,e),this.window=t,this.associatedEvent=null}return Yn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Xl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Kl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=kr().toLowerCase();n&&(u=No(c)?$l:n),Ao(c)&&(t=t||Ql,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Zn(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Fo(c)&&"_self"!==u)return Zl(t||"",u),new Jl(null);var f=window.open(t||"",u,l);Aa(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Jl(f)}function Zl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ef="__/auth/handler",tf="emulator/auth/handler";function nf(e,t,n,r,i,a){Aa(e.config.authDomain,e,"auth-domain-config-required"),Aa(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ti,eventId:i};if(t instanceof Au){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Zn(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Ou){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ef);return ja(t,tf)}(e),"?").concat(Pr(d).slice(1))}var rf="webStorageSupport",af=function(){function e(){Hn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xs,this._completeRedirectFn=El}return Yn(e,[{key:"_openPopup",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){var a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Na(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=nf(t,n,r,Da(),i),e.abrupt("return",Xl(t,o,tc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=nf(t,n,r,Da(),i),rc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Na(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gl(t);case 2:return n=e.sent,r=new Al(t),n.register("authEvent",(function(e){return Aa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(rf,{type:rf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ll.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Uo()||Oo()||Lo()}}]),e}(),of=af,uf=function(){function e(t){Hn(this,e),this.factorId=t}return Yn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Oa("unexpected MultiFactorSessionType")}}}]),e}(),sf=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this,"phone")).credential=e,r}return Yn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qa(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ba(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qa(e,"POST","/v2/accounts/mfaSignIn:finalize",Ba(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(uf),cf=function(){function e(){Hn(this,e)}return Yn(e,null,[{key:"assertion",value:function(e){return sf._fromCredential(e)}}]),e}();cf.FACTOR_ID="phone";var lf,ff="@firebase/auth",hf="0.19.11",df=function(){function e(t){Hn(this,e),this.auth=t,this.internalListeners=new Map}return Yn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Aa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function pf(){return window}lf="Browser",ki(new $r("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Aa(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Aa(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:lf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(lf)},i=new zo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ki(new $r("auth-internal",(function(e){return function(e){return new df(e)}(Bo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(ff,hf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lf)),Ri(ff,hf,"esm2017");function vf(e,t,n){return yf.apply(this,arguments)}function yf(){return yf=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pf(),o=a.BuildInfo,Na(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_f(n.sessionId);case 4:return u=e.sent,s={},Lo()?s.ibi=o.packageName:Po()?s.apn=o.packageName:Sa(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",nf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}function mf(){return mf=Kr(lr().mark((function e(t){var n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pf(),r=n.BuildInfo,i={},Lo()?i.iosBundleId=r.packageName:Po()?i.androidPackageName=r.packageName:Sa(t,"operation-not-supported-in-this-environment"),e.next=5,Rl(t,i);case 5:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function gf(e){var t=pf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function kf(e,t,n){return bf.apply(this,arguments)}function bf(){return bf=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ea(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Po()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),bf.apply(this,arguments)}function wf(e){var t,n,r,i,a,o,u,s,c,l,f=pf();Aa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Aa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Aa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Aa("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Aa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _f(e){return xf.apply(this,arguments)}function xf(){return(xf=Kr(lr().mark((function e(t){var n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sf(e){if(Na(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ef=function(e){tr(n,e);var t=or(n);function n(){var e;return Hn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Yn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ia(nr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Al);function Tf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Nf(),postBody:null,tenantId:e.tenantId,error:Ea(e,"no-auth-event")}}function If(e,t){return Rf()._set(Pf(e),t)}function Cf(e){return Af.apply(this,arguments)}function Af(){return Af=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rf()._get(Pf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Rf()._remove(Pf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Of(e,t){var n,r,i=function(e){var t=Df(e),n=t.link?decodeURIComponent(t.link):void 0,r=Df(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Df(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Df(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ea(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Nf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Rf(){return Pa(Qs)}function Pf(e){return To("authEvent",e.config.apiKey,e.name)}function Df(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Jn(t=n)||Hr(t)||$n(t)||Xn();r[0];return Dr(r.slice(1).join("?"))}var Mf=function(){function e(){Hn(this,e),this._redirectPersistence=Xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=El}return Yn(e,[{key:"_initialize",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ef(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Sa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){var a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),cl.clear(),e.next=10,this._originValidation(t);case 10:return o=Tf(t,r,i),e.next=13,If(t,o);case 13:return e.next=15,vf(t,o,n);case 15:return u=e.sent,e.next=18,gf(u);case 18:return s=e.sent,e.abrupt("return",kf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=pf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Cf(e);case 2:t.onEvent(Ff());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Kr(lr().mark((function n(r){var i,a;return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Cf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Of(i,r.url)),t.onEvent(a||Ff());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");pf().handleOpenURL=function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Lf=Mf;function Ff(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ea("no-auth-event")}}function jf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return!("file:"!==jf()&&"ionic:"!==jf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vf(){return Sr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return/Edge\/\d+/.test(e)}function Bf(){try{var e=self.localStorage,t=tc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr();return Vf()||zf(e)}()||Er()}catch(n){return qf()&&Er()}return!1}function qf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wf(){return("http:"===jf()||"https:"===jf()||_r()||Uf())&&!(xr()||wr())&&Bf()&&!qf()}function Hf(){return Uf()&&"undefined"!==typeof document}function Gf(){return Yf.apply(this,arguments)}function Yf(){return(Yf=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kf={LOCAL:"local",NONE:"none",SESSION:"session"},$f=Aa,Qf="persistence";function Jf(e,t){$f(Object.values(Kf).includes(t),e,"invalid-persistence-type"),xr()?$f(t!==Kf.SESSION,e,"unsupported-persistence-type"):wr()?$f(t===Kf.NONE,e,"unsupported-persistence-type"):qf()?$f(t===Kf.NONE||t===Kf.LOCAL&&Er(),e,"unsupported-persistence-type"):$f(t===Kf.NONE||Bf(),e,"unsupported-persistence-type")}function Xf(e){return Zf.apply(this,arguments)}function Zf(){return Zf=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=eh(),r=To(Qf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function eh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var th=Aa,nh=function(){function e(){Hn(this,e),this.browserResolver=Pa(of),this.cordovaResolver=Pa(Lf),this.underlyingResolver=null,this._redirectPersistence=Xs,this._completeRedirectFn=El}return Yn(e,[{key:"_initialize",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Hf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return th(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rh(e){return e.unwrap()}function ih(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new ch(e,function(e,t){var n,r=Ur(e),i=t;return Aa(t.customData.operationType,r,"argument-error"),Aa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bs._fromError(r,i)}(e,t));else if(r){var i=ah(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ah(e){var t=(e instanceof Tr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Tr)&&"temporaryProof"in t&&"phoneNumber"in t)return Kc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===la)return null;switch(r){case ca:n=Pu;break;case ua:n=Ru;break;case sa:n=Du;break;case fa:n=Fu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Mu._create(r,u):ku._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Nu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Tr?n.credentialFromError(e):n.credentialFromResult(e)}function oh(e,t){return t.catch((function(t){throw t instanceof Tr&&ih(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ah(t)),additionalUserInfo:Vs(e),user:lh.getOrCreate(r)}}))}function uh(e,t){return sh.apply(this,arguments)}function sh(){return sh=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return oh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}var ch=function(){function e(t,n){Hn(this,e),this.resolver=n,this.auth=t.wrapped()}return Yn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return oh(rh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),lh=function(){function e(t){Hn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ur(e);return Gs.has(t)||Gs.set(t,Hs._fromUser(t)),Gs.get(t)}(t)}return Yn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oh(this.auth,is(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uh(this.auth,Bc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oh(this.auth,ol(this._delegate,t,nh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xf(Bo(this.auth));case 2:return e.abrupt("return",wl(this._delegate,t,nh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oh(this.auth,os(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return uh(this.auth,function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return oh(this.auth,function(e,t,n){return al.apply(this,arguments)}(this._delegate,e,nh))}},{key:"reauthenticateWithRedirect",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xf(Bo(this.auth));case 2:return e.abrupt("return",kl(this._delegate,t,nh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Is.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Rs(Ur(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Rs(Ur(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Yc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ns.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Cs.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();lh.USER_MAP=new WeakMap;var fh=Aa,hh=function(){function e(t,n){if(Hn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;fh(r,"invalid-api-key",{appName:t.name}),fh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?nh:void 0;this._delegate=n.initialize({options:{persistence:ph(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ka),this.linkUnderlyingAuth()}return Yn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?lh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Wo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ys.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ms(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return vs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oh(this._delegate,bs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ts.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Iu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fh(Wf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xl(this._delegate,nh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",oh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Bo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=dh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=dh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return _s.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ps.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jf(this._delegate,t),e.t0=t,e.next=e.t0===Kf.SESSION?4:e.t0===Kf.LOCAL?6:e.t0===Kf.NONE?11:13;break;case 4:return n=Xs,e.abrupt("break",14);case 6:return e.next=8,Pa(wc)._isAvailable();case 8:return r=e.sent,n=r?wc:Qs,e.abrupt("break",14);case 11:return n=Eo,e.abrupt("break",14);case 13:return e.abrupt("return",Sa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return oh(this._delegate,function(e){return Bu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return oh(this._delegate,ns(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return oh(this._delegate,function(e,t){return ls.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return oh(this._delegate,function(e,t,n){return ns(Ur(e),Cu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return oh(this._delegate,function(e,t,n){return xs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return uh(this._delegate,function(e,t,n){return zc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fh(Wf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",oh(this._delegate,rl(this._delegate,t,nh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fh(Wf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xf(this._delegate);case 3:return e.abrupt("return",ml(this._delegate,t,nh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ks.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function dh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&lh.getOrCreate(e))},error:t,complete:n}}function ph(e,t){var n=function(e,t){var n=eh();if(!n)return[];var r=To(Qf,e,t);switch(n.getItem(r)){case Kf.NONE:return[Eo];case Kf.LOCAL:return[wc,Xs];case Kf.SESSION:return[Xs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(wc)||n.push(wc),"undefined"!==typeof window)for(var r=0,i=[Qs,Xs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Eo)||n.push(Eo),n}hh.Persistence=Kf;var vh=function(){function e(){Hn(this,e),this.providerId="phone",this._delegate=new Kc(rh(na.auth()))}return Yn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Kc.credential(e,t)}}]),e}();vh.PHONE_SIGN_IN_METHOD=Kc.PHONE_SIGN_IN_METHOD,vh.PROVIDER_ID=Kc.PROVIDER_ID;var yh,mh=Aa,gh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:na.app();Hn(this,e),mh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new jc(t,n,i.auth()),this.type=this._delegate.type}return Yn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(yh=na).INTERNAL.registerComponent(new $r("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new hh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ha,PASSWORD_RESET:da,RECOVER_EMAIL:pa,REVERT_SECOND_FACTOR_ADDITION:va,VERIFY_AND_CHANGE_EMAIL:ya,VERIFY_EMAIL:ma}},EmailAuthProvider:Cu,FacebookAuthProvider:Ru,GithubAuthProvider:Du,GoogleAuthProvider:Pu,OAuthProvider:Nu,SAMLAuthProvider:Lu,PhoneAuthProvider:vh,PhoneMultiFactorGenerator:cf,RecaptchaVerifier:gh,TwitterAuthProvider:Fu,Auth:hh,AuthCredential:Yo,Error:Tr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),yh.registerVersion("@firebase/auth-compat","0.2.11");var kh,bh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},wh={},_h=_h||{},xh=bh||self;function Sh(){}function Eh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Th(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ih="closure_uid_"+(1e9*Math.random()>>>0),Ch=0;function Ah(e,t,n){return e.call.apply(e.bind,arguments)}function Oh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Nh(e,t,n){return(Nh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ah:Oh).apply(null,arguments)}function Rh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ph(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Dh(){this.s=this.s,this.o=this.o}var Mh={};Dh.prototype.s=!1,Dh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ih)&&e[Ih]||(e[Ih]=++Ch)}(this);delete Mh[e]}},Dh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Lh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Fh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function jh(e){return Array.prototype.concat.apply([],arguments)}function Uh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vh(e){return/^[\s\xa0]*$/.test(e)}var zh,Bh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function qh(e,t){return-1!=e.indexOf(t)}function Wh(e,t){return e<t?-1:e>t?1:0}e:{var Hh=xh.navigator;if(Hh){var Gh=Hh.userAgent;if(Gh){zh=Gh;break e}}zh=""}function Yh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Kh(e){var t={};for(var n in e)t[n]=e[n];return t}var $h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$h.length;a++)n=$h[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jh(e){return Jh[" "](e),e}Jh[" "]=Sh;var Xh,Zh=qh(zh,"Opera"),ed=qh(zh,"Trident")||qh(zh,"MSIE"),td=qh(zh,"Edge"),nd=td||ed,rd=qh(zh,"Gecko")&&!(qh(zh.toLowerCase(),"webkit")&&!qh(zh,"Edge"))&&!(qh(zh,"Trident")||qh(zh,"MSIE"))&&!qh(zh,"Edge"),id=qh(zh.toLowerCase(),"webkit")&&!qh(zh,"Edge");function ad(){var e=xh.document;return e?e.documentMode:void 0}e:{var od="",ud=function(){var e=zh;return rd?/rv:([^\);]+)(\)|;)/.exec(e):td?/Edge\/([\d\.]+)/.exec(e):ed?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):id?/WebKit\/(\S+)/.exec(e):Zh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ud&&(od=ud?ud[1]:""),ed){var sd=ad();if(null!=sd&&sd>parseFloat(od)){Xh=String(sd);break e}}Xh=od}var cd,ld={};function fd(){return function(e){var t=ld;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Bh(String(Xh)).split("."),n=Bh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wh(0==a[2].length,0==o[2].length)||Wh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(xh.document&&ed){var hd=ad();cd=hd||(parseInt(Xh,10)||void 0)}else cd=void 0;var dd=cd,pd=function(){if(!xh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{xh.addEventListener("test",Sh,t),xh.removeEventListener("test",Sh,t)}catch(n){}return e}();function vd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function yd(e,t){if(vd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rd){e:{try{Jh(t.nodeName);var i=!0;break e}catch(Zt){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:md[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yd.Z.h.call(this)}}vd.prototype.h=function(){this.defaultPrevented=!0},Ph(yd,vd);var md={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),kd=0;function bd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++kd,this.ca=this.fa=!1}function wd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _d(e){this.src=e,this.g={},this.h=0}function xd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Lh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_d.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Sd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new bd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ed="closure_lm_"+(1e6*Math.random()|0),Td={};function Id(e,t,n,r,i){if(r&&r.once)return Ad(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Id(e,t[a],n,r,i);return null}return n=Ld(n),e&&e[gd]?e.N(t,n,Th(r)?!!r.capture:!!r,i):Cd(e,t,n,!1,r,i)}function Cd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Th(i)?!!i.capture:!!i,u=Dd(e);if(u||(e[Ed]=u=new _d(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Rd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ad(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ad(e,t[a],n,r,i);return null}return n=Ld(n),e&&e[gd]?e.O(t,n,Th(r)?!!r.capture:!!r,i):Cd(e,t,n,!0,r,i)}function Od(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Od(e,t[a],n,r,i);else r=Th(r)?!!r.capture:!!r,n=Ld(n),e&&e[gd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sd(a=e.g[t],n,r,i))&&(wd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sd(t,n,r,i)),(n=-1<e?t[e]:null)&&Nd(n))}function Nd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gd])xd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Rd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dd(t))?(xd(n,e),0==n.h&&(n.src=null,t[Ed]=null)):wd(e)}}}function Rd(e){return e in Td?Td[e]:Td[e]="on"+e}function Pd(e,t){if(e.ca)e=!0;else{t=new yd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Nd(e),e=n.call(r,t)}return e}function Dd(e){return(e=e[Ed])instanceof _d?e:null}var Md="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ld(e){return"function"===typeof e?e:(e[Md]||(e[Md]=function(t){return e.handleEvent(t)}),e[Md])}function Fd(){Dh.call(this),this.i=new _d(this),this.P=this,this.I=null}function jd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vd(t,e);else if(t instanceof vd)t.target=t.target||e;else{var i=t;Qh(t=new vd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ud(o,r,!0,t)&&i}if(i=Ud(o=t.g=e,r,!0,t)&&i,i=Ud(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ud(o=t.g=n[a],r,!1,t)&&i}function Ud(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&xd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ph(Fd,Dh),Fd.prototype[gd]=!0,Fd.prototype.removeEventListener=function(e,t,n,r){Od(this,e,t,n,r)},Fd.prototype.M=function(){if(Fd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wd(n[r]);delete t.g[e],t.h--}}this.I=null},Fd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Fd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vd=xh.JSON.stringify;function zd(){var e=$d,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bd,qd=function(){function e(){Hn(this,e),this.h=this.g=null}return Yn(e,[{key:"add",value:function(e,t){var n=Wd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Wd=new(function(){function e(t,n){Hn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Yn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hd}),(function(e){return e.reset()})),Hd=function(){function e(){Hn(this,e),this.next=this.g=this.h=null}return Yn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gd(e){xh.setTimeout((function(){throw e}),0)}function Yd(e,t){Bd||function(){var e=xh.Promise.resolve(void 0);Bd=function(){e.then(Qd)}}(),Kd||(Bd(),Kd=!0),$d.add(e,t)}var Kd=!1,$d=new qd;function Qd(){for(var e;e=zd();){try{e.h.call(e.g)}catch(n){Gd(n)}var t=Wd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kd=!1}function Jd(e,t){Fd.call(this),this.h=e||1,this.g=t||xh,this.j=Nh(this.kb,this),this.l=Date.now()}function Xd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Zd(e,t,n){if("function"===typeof e)n&&(e=Nh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nh(e.handleEvent,e)}return 2147483647<Number(t)?-1:xh.setTimeout(e,t||0)}function ep(e){e.g=Zd((function(){e.g=null,e.i&&(e.i=!1,ep(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ph(Jd,Fd),(kh=Jd.prototype).da=!1,kh.S=null,kh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jd(this,"tick"),this.da&&(Xd(this),this.start()))}},kh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kh.M=function(){Jd.Z.M.call(this),Xd(this),delete this.g};var tp=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Yn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ep(this)}},{key:"M",value:function(){ia(nr(n.prototype),"M",this).call(this),this.g&&(xh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Dh);function np(e){Dh.call(this),this.h=e,this.g={}}Ph(np,Dh);var rp=[];function ip(e,t,n,r){Array.isArray(n)||(n&&(rp[0]=n.toString()),n=rp);for(var i=0;i<n.length;i++){var a=Id(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ap(e){Yh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nd(e)}),e),e.g={}}function op(){this.g=!0}function up(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Vd(n)}catch(Gt){return t}}(e,n)+(r?" "+r:"")}))}np.prototype.M=function(){np.Z.M.call(this),ap(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},op.prototype.Aa=function(){this.g=!1},op.prototype.info=function(){};var sp={},cp=null;function lp(){return cp=cp||new Fd}function fp(e){vd.call(this,sp.Ma,e)}function hp(e){var t=lp();jd(t,new fp(t,e))}function dp(e,t){vd.call(this,sp.STAT_EVENT,e),this.stat=t}function pp(e){var t=lp();jd(t,new dp(t,e))}function vp(e,t){vd.call(this,sp.Na,e),this.size=t}function yp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return xh.setTimeout((function(){e()}),t)}sp.Ma="serverreachability",Ph(fp,vd),sp.STAT_EVENT="statevent",Ph(dp,vd),sp.Na="timingevent",Ph(vp,vd);var mp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kp(){}function bp(e){return e.h||(e.h=e.i())}function wp(){}kp.prototype.h=null;var _p,xp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sp(){vd.call(this,"d")}function Ep(){vd.call(this,"c")}function Tp(){}function Ip(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new np(this),this.P=Ap,e=nd?125:void 0,this.W=new Jd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cp}function Cp(){this.i=null,this.g="",this.h=!1}Ph(Sp,vd),Ph(Ep,vd),Ph(Tp,kp),Tp.prototype.g=function(){return new XMLHttpRequest},Tp.prototype.i=function(){return{}},_p=new Tp;var Ap=45e3,Op={},Np={};function Rp(e,t,n){e.K=1,e.v=tv($p(t)),e.s=n,e.U=!0,Pp(e,null)}function Pp(e,t){e.F=Date.now(),Fp(e),e.A=$p(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Cp,e.g=vy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new tp(Nh(e.Ia,e,e.g),e.O)),ip(e.V,e.g,"readystatechange",e.gb),t=e.H?Kh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Mp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Lp(e,n))==Np){4==t&&(e.o=4,pp(14),i=!1),up(e.j,e.m,null,"[Incomplete Response]");break}if(r==Op){e.o=4,pp(15),up(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}up(e.j,e.m,r,null),Bp(e,r)}Dp(e)&&r!=Np&&r!=Op&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uy(t),t.L=!0,pp(11))):(up(e.j,e.m,n,"[Invalid Chunked Response]"),zp(e),Vp(e))}function Lp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Np:(n=Number(t.substring(n,r)),isNaN(n)?Op:(r+=1)+n>t.length?Np:(t=t.substr(r,n),e.C=r+n,t))}function Fp(e){e.Y=Date.now()+e.P,jp(e,e.P)}function jp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yp(Nh(e.eb,e),t)}function Up(e){e.B&&(xh.clearTimeout(e.B),e.B=null)}function Vp(e){0==e.l.G||e.I||ly(e.l,e)}function zp(e){Up(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xd(e.W),ap(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wv(n.i,e)))if(n.I=e.N,!e.J&&wv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cy(n),Xv(n)}oy(n),pp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=yp(Nh(n.ab,n),6e3));if(1>=bv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else hy(n,11)}else if((e.J||n.g==e)&&cy(n),!Vh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(qh(l,"spdy")||qh(l,"quic")||qh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(_v(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ev(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=py(r,r.H?r.la:null,r.W),d.J){xv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Up(p),Fp(p)),r.g=d}else ay(r);0<n.l.length&&ty(n)}else"stop"!=a[0]&&"close"!=a[0]||hy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?hy(n,7):Jv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hp(4)}catch(a){}}function qp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Eh(e)||"string"===typeof e)Fh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Eh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Eh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Wp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(kh=Ip.prototype).setTimeout=function(e){this.P=e},kh.gb=function(e){e=e.target;var t=this.L;t&&3==Gv(e)?t.l():this.Ia(e)},kh.Ia=function(e){try{if(e==this.g)e:{var t=Gv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||nd||this.g&&(this.h.h||this.g.ga()||Yv(this.g)))){this.I||4!=t||7==n||hp(8==n||0>=r?3:2),Up(this);var i=this.g.ba();this.N=i;t:if(Dp(this)){var a=Yv(this.g);e="";var o=a.length,u=4==Gv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zp(this),Vp(this);var s="";break t}this.h.i=new xh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,pp(12),zp(this),Vp(this);break e}up(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bp(this,i)}this.U?(Mp(this,t,s),nd&&this.i&&3==t&&(ip(this.V,this.W,"tick",this.fb),this.W.start())):(up(this.j,this.m,s,null),Bp(this,s)),4==t&&zp(this),this.i&&!this.I&&(4==t?ly(this.l,this):(this.i=!1,Fp(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,pp(12)):(this.o=0,pp(13)),zp(this),Vp(this)}}}catch(t){}},kh.fb=function(){if(this.g){var e=Gv(this.g),t=this.g.ga();this.C<t.length&&(Up(this),Mp(this,e,t),this.i&&4!=e&&Fp(this))}},kh.cancel=function(){this.I=!0,zp(this)},kh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hp(3),pp(17)),zp(this),this.o=2,Vp(this)):jp(this,this.Y-e)},(kh=Wp.prototype).R=function(){Hp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},kh.T=function(){return Hp(this),this.g.concat()},kh.get=function(e,t){return Gp(this.h,e)?this.h[e]:t},kh.set=function(e,t){Gp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},kh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Yp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kp){this.g=void 0!==t?t:e.g,Qp(this,e.j),this.s=e.s,Jp(this,e.i),Xp(this,e.m),this.l=e.l,t=e.h;var n=new lv;n.i=t.i,t.g&&(n.g=new Wp(t.g),n.h=t.h),Zp(this,n),this.o=e.o}else e&&(n=String(e).match(Yp))?(this.g=!!t,Qp(this,n[1]||"",!0),this.s=nv(n[2]||""),Jp(this,n[3]||"",!0),Xp(this,n[4]),this.l=nv(n[5]||"",!0),Zp(this,n[6]||"",!0),this.o=nv(n[7]||"")):(this.g=!!t,this.h=new lv(null,this.g))}function $p(e){return new Kp(e)}function Qp(e,t,n){e.j=n?nv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jp(e,t,n){e.i=n?nv(t,!0):t}function Xp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zp(e,t,n){t instanceof lv?(e.h=t,function(e,t){t&&!e.j&&(fv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hv(this,t),pv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rv(t,sv)),e.h=new lv(t,e.g))}function ev(e,t,n){e.h.set(t,n)}function tv(e){return ev(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,iv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rv(t,av,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rv(t,av,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rv(n,"/"==n.charAt(0)?uv:ov,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rv(n,cv)),e.join("")};var av=/[#\/\?@]/g,ov=/[#\?:]/g,uv=/[#\?]/g,sv=/[#\?@]/g,cv=/#/g;function lv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fv(e){e.g||(e.g=new Wp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hv(e,t){fv(e),t=vv(e,t),Gp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hp(e)))}function dv(e,t){return fv(e),t=vv(e,t),Gp(e.g.h,t)}function pv(e,t,n){hv(e,t),0<n.length&&(e.i=null,e.g.set(vv(e,t),Uh(n)),e.h+=n.length)}function vv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kh=lv.prototype).add=function(e,t){fv(this),this.i=null,e=vv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kh.forEach=function(e,t){fv(this),this.g.forEach((function(n,r){Fh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},kh.T=function(){fv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},kh.R=function(e){fv(this);var t=[];if("string"===typeof e)dv(this,e)&&(t=jh(t,this.g.get(vv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jh(t,e[n])}return t},kh.set=function(e,t){return fv(this),this.i=null,dv(this,e=vv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},kh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var yv=Yn((function e(t,n){Hn(this,e),this.h=t,this.g=n}));function mv(e){this.l=e||gv,xh.PerformanceNavigationTiming?e=0<(e=xh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(xh.g&&xh.g.Ea&&xh.g.Ea()&&xh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gv=10;function kv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bv(e){return e.h?1:e.g?e.g.size:0}function wv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _v(e,t){e.g?e.g.add(t):e.h=t}function xv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Qn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Uh(e.i)}function Ev(){}function Tv(){this.g=new Ev}function Iv(e,t,n){var r=n||"";try{qp(e,(function(e,n){var i=e;Th(e)&&(i=Vd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Zt){}}function Av(e){this.l=e.$b||null,this.j=e.ib||!1}function Ov(e,t){Fd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mv.prototype.cancel=function(){if(this.i=Sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Qn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ev.prototype.stringify=function(e){return xh.JSON.stringify(e,void 0)},Ev.prototype.parse=function(e){return xh.JSON.parse(e,void 0)},Ph(Av,kp),Av.prototype.g=function(){return new Ov(this.l,this.j)},Av.prototype.i=function(e){return function(){return e}}({}),Ph(Ov,Fd);var Nv=0;function Rv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Pv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dv(e)}function Dv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kh=Ov.prototype).open=function(e,t){if(this.readyState!=Nv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dv(this)},kh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||xh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},kh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pv(this)),this.readyState=Nv},kh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dv(this)),this.g&&(this.readyState=3,Dv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof xh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},kh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pv(this):Dv(this),3==this.readyState&&Rv(this)}},kh.Ua=function(e){this.g&&(this.response=this.responseText=e,Pv(this))},kh.Ta=function(e){this.g&&(this.response=e,Pv(this))},kh.ha=function(){this.g&&Pv(this)},kh.setRequestHeader=function(e,t){this.v.append(e,t)},kh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ov.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mv=xh.JSON.parse;function Lv(e){Fd.call(this),this.headers=new Wp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fv,this.K=this.L=!1}Ph(Lv,Fd);var Fv="",jv=/^https?$/i,Uv=["POST","PUT"];function Vv(e){return"content-type"==e.toLowerCase()}function zv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bv(e),Wv(e)}function Bv(e){e.D||(e.D=!0,jd(e,"complete"),jd(e,"error"))}function qv(e){if(e.h&&"undefined"!=typeof _h&&(!e.C[1]||4!=Gv(e)||2!=e.ba()))if(e.v&&4==Gv(e))Zd(e.Fa,0,e);else if(jd(e,"readystatechange"),4==Gv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Yp)[1]||null;if(!a&&xh.self&&xh.self.location){var o=xh.self.location.protocol;a=o.substr(0,o.length-1)}i=!jv.test(a?a.toLowerCase():"")}t=i}if(t)jd(e,"complete"),jd(e,"success");else{e.m=6;try{var u=2<Gv(e)?e.g.statusText:""}catch(Jt){u=""}e.j=u+" ["+e.ba()+"]",Bv(e)}}finally{Wv(e)}}}function Wv(e,t){if(e.g){Hv(e);var n=e.g,r=e.C[0]?Sh:null;e.g=null,e.C=null,t||jd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Hv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(xh.clearTimeout(e.A),e.A=null)}function Gv(e){return e.g?e.g.readyState:0}function Yv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(cn){return null}}function Kv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Yh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ev(e,t,n))}function $v(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qv(e){this.za=0,this.l=[],this.h=new op,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$v("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$v("baseRetryDelayMs",5e3,e),this.$a=$v("retryDelaySeedMs",1e4,e),this.Ya=$v("forwardChannelMaxRetries",2,e),this.ra=$v("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mv(e&&e.concurrentRequestLimit),this.Ca=new Tv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Jv(e){if(Zv(e),3==e.G){var t=e.V++,n=$p(e.F);ev(n,"SID",e.J),ev(n,"RID",t),ev(n,"TYPE","terminate"),ry(e,n),(t=new Ip(e,e.h,t,void 0)).K=2,t.v=tv($p(n)),n=!1,xh.navigator&&xh.navigator.sendBeacon&&(n=xh.navigator.sendBeacon(t.v.toString(),"")),!n&&xh.Image&&((new Image).src=t.v,n=!0),n||(t.g=vy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Fp(t)}dy(e)}function Xv(e){e.g&&(uy(e),e.g.cancel(),e.g=null)}function Zv(e){Xv(e),e.u&&(xh.clearTimeout(e.u),e.u=null),cy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&xh.clearTimeout(e.m),e.m=null)}function ey(e,t){e.l.push(new yv(e.Za++,t)),3==e.G&&ty(e)}function ty(e){kv(e.i)||e.m||(e.m=!0,Yd(e.Ha,e),e.C=0)}function ny(e,t){var n;n=t?t.m:e.V++;var r=$p(e.F);ev(r,"SID",e.J),ev(r,"RID",n),ev(r,"AID",e.U),ry(e,r),e.o&&e.s&&Kv(r,e.o,e.s),n=new Ip(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=iy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_v(e.i,n),Rp(n,r,t)}function ry(e,t){e.j&&qp({},(function(e,n){ev(t,n,e)}))}function iy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Nh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Iv(l,o,"req"+c+"_")}catch(In){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ay(e){e.g||e.u||(e.Y=1,Yd(e.Ga,e),e.A=0)}function oy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=yp(Nh(e.Ga,e),fy(e,e.A)),e.A++,!0)}function uy(e){null!=e.B&&(xh.clearTimeout(e.B),e.B=null)}function sy(e){e.g=new Ip(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=$p(e.oa);ev(t,"RID","rpc"),ev(t,"SID",e.J),ev(t,"CI",e.N?"0":"1"),ev(t,"AID",e.U),ry(e,t),ev(t,"TYPE","xmlhttp"),e.o&&e.s&&Kv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tv($p(t)),n.s=null,n.U=!0,Pp(n,e)}function cy(e){null!=e.v&&(xh.clearTimeout(e.v),e.v=null)}function ly(e,t){var n=null;if(e.g==t){cy(e),uy(e),e.g=null;var r=2}else{if(!wv(e.i,t))return;n=t.D,xv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;jd(r=lp(),new vp(r,n,t,i)),ty(e)}else ay(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(bv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=yp(Nh(e.Ha,e,t),fy(e,e.C)),e.C++,!0))}(e,t)||2==r&&oy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hy(e,5);break;case 4:hy(e,10);break;case 3:hy(e,6);break;default:hy(e,2)}}function fy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Nh(e.jb,e);n||(n=new Kp("//www.google.com/images/cleardot.gif"),xh.location&&"http"==xh.location.protocol||Qp(n,"https"),tv(n)),function(e,t){var n=new op;if(xh.Image){var r=new Image;r.onload=Rh(Cv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rh(Cv,n,r,"TestLoadImage: error",!1,t),r.onabort=Rh(Cv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rh(Cv,n,r,"TestLoadImage: timeout",!1,t),xh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pp(2);e.G=0,e.j&&e.j.va(t),dy(e),Zv(e)}function dy(e){e.G=0,e.I=-1,e.j&&(0==Sv(e.i).length&&0==e.l.length||(e.i.i.length=0,Uh(e.l),e.l.length=0),e.j.ua())}function py(e,t,n){var r=function(e){return e instanceof Kp?$p(e):new Kp(e,void 0)}(n);if(""!=r.i)t&&Jp(r,t+"."+r.i),Xp(r,r.m);else{var i=xh.location;r=function(e,t,n,r){var i=new Kp(null,void 0);return e&&Qp(i,e),t&&Jp(i,t),n&&Xp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Yh(e.aa,(function(e,t){ev(r,t,e)})),t=e.D,n=e.sa,t&&n&&ev(r,t,n),ev(r,"VER",e.ma),ry(e,r),r}function vy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Lv(new Av({ib:!0})):new Lv(e.qa)).L=e.H,t}function yy(){}function my(){if(ed&&!(10<=Number(dd)))throw Error("Environmental error: no available transport.")}function gy(e,t){Fd.call(this),this.g=new Qv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Vh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wy(this)}function ky(e){Sp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function by(){Ep.call(this),this.status=1}function wy(e){this.g=e}(kh=Lv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_p.g(),this.C=this.u?bp(this.u):bp(_p),this.g.onreadystatechange=Nh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Zt){return void zv(this,Zt)}e=n||"";var i=new Wp(this.headers);r&&qp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=xh.FormData&&e instanceof xh.FormData,!(0<=Lh(Uv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hv(this),0<this.B&&((this.K=function(e){return ed&&fd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nh(this.pa,this)):this.A=Zd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Zt){zv(this,Zt)}},kh.pa=function(){"undefined"!=typeof _h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jd(this,"timeout"),this.abort(8))},kh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jd(this,"complete"),jd(this,"abort"),Wv(this))},kh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wv(this,!0)),Lv.Z.M.call(this)},kh.Fa=function(){this.s||(this.F||this.v||this.l?qv(this):this.cb())},kh.cb=function(){qv(this)},kh.ba=function(){try{return 2<Gv(this)?this.g.status:-1}catch(Xt){return-1}},kh.ga=function(){try{return this.g?this.g.responseText:""}catch(Xt){return""}},kh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mv(t)}},kh.Da=function(){return this.m},kh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(kh=Qv.prototype).ma=8,kh.G=1,kh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(cn){}},kh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ip(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Qh(n=Kh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=iy(this,t,r),ev(i=$p(this.F),"RID",e),ev(i,"CVER",22),this.D&&ev(i,"X-HTTP-Session-Id",this.D),ry(this,i),this.o&&n&&Kv(i,this.o,n),_v(this.i,t),this.Ra&&ev(i,"TYPE","init"),this.ja?(ev(i,"$req",r),ev(i,"SID","null"),t.$=!0,Rp(t,i,null)):Rp(t,i,r),this.G=2}}else 3==this.G&&(e?ny(this,e):0==this.l.length||kv(this.i)||ny(this))},kh.Ga=function(){if(this.u=null,sy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=yp(Nh(this.bb,this),e)}},kh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pp(10),Xv(this),sy(this))},kh.ab=function(){null!=this.v&&(this.v=null,Xv(this),oy(this),pp(19))},kh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pp(2)):(this.h.info("Failed to ping google.com"),pp(1))},(kh=yy.prototype).xa=function(){},kh.wa=function(){},kh.va=function(){},kh.ua=function(){},kh.Oa=function(){},my.prototype.g=function(e,t){return new gy(e,t)},Ph(gy,Fd),gy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Yd(Nh(e.hb,e,t))),pp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=py(e,null,e.W),ty(e)},gy.prototype.close=function(){Jv(this.g)},gy.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ey(this.g,t)}else this.v?((t={}).__data__=Vd(e),ey(this.g,t)):ey(this.g,e)},gy.prototype.M=function(){this.g.j=null,delete this.j,Jv(this.g),delete this.g,gy.Z.M.call(this)},Ph(ky,Sp),Ph(by,Ep),Ph(wy,yy),wy.prototype.xa=function(){jd(this.g,"a")},wy.prototype.wa=function(e){jd(this.g,new ky(e))},wy.prototype.va=function(e){jd(this.g,new by(e))},wy.prototype.ua=function(){jd(this.g,"b")},my.prototype.createWebChannel=my.prototype.g,gy.prototype.send=gy.prototype.u,gy.prototype.open=gy.prototype.m,gy.prototype.close=gy.prototype.close,mp.NO_ERROR=0,mp.TIMEOUT=8,mp.HTTP_ERROR=6,gp.COMPLETE="complete",wp.EventType=xp,xp.OPEN="a",xp.CLOSE="b",xp.ERROR="c",xp.MESSAGE="d",Fd.prototype.listen=Fd.prototype.N,Lv.prototype.listenOnce=Lv.prototype.O,Lv.prototype.getLastError=Lv.prototype.La,Lv.prototype.getLastErrorCode=Lv.prototype.Da,Lv.prototype.getStatus=Lv.prototype.ba,Lv.prototype.getResponseJson=Lv.prototype.Qa,Lv.prototype.getResponseText=Lv.prototype.ga,Lv.prototype.send=Lv.prototype.ea;var _y=wh.createWebChannelTransport=function(){return new my},xy=wh.getStatEventTarget=function(){return lp()},Sy=wh.ErrorCode=mp,Ey=wh.EventType=gp,Ty=wh.Event=sp,Iy=wh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Cy=wh.FetchXmlHttpFactory=Av,Ay=wh.WebChannel=wp,Oy=wh.XhrIo=Lv,Ny="@firebase/firestore",Ry=function(){function e(t){Hn(this,e),this.uid=t}return Yn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ry.UNAUTHENTICATED=new Ry(null),Ry.GOOGLE_CREDENTIALS=new Ry("google-credentials-uid"),Ry.FIRST_PARTY=new Ry("first-party-uid"),Ry.MOCK_USER=new Ry("mock-user");var Py="9.6.10",Dy=new si("@firebase/firestore");function My(){return Dy.logLevel}function Ly(e){if(Dy.logLevel<=Zr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uy);Dy.debug.apply(Dy,["Firestore (".concat(Py,"): ").concat(e)].concat(Gr(i)))}}function Fy(e){if(Dy.logLevel<=Zr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uy);Dy.error.apply(Dy,["Firestore (".concat(Py,"): ").concat(e)].concat(Gr(i)))}}function jy(e){if(Dy.logLevel<=Zr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Uy);Dy.warn.apply(Dy,["Firestore (".concat(Py,"): ").concat(e)].concat(Gr(i)))}}function Uy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Py,") INTERNAL ASSERTION FAILED: ")+e;throw Fy(t),new Error(t)}function zy(e,t){e||Vy()}function By(e,t){return e}var qy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wy=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Yn(n)}(Tr),Hy=Yn((function e(){var t=this;Hn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gy=Yn((function e(t,n){Hn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Yy=function(){function e(){Hn(this,e)}return Yn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ry.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ky=function(){function e(t){Hn(this,e),this.token=t,this.changeListener=null}return Yn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$y=function(){function e(t){Hn(this,e),this.t=t,this.currentUser=Ry.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Yn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ly("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ly("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ly("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zy("string"==typeof n.accessToken),new Gy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zy(null===e||"string"==typeof e),new Ry(e)}}]),e}(),Qy=Yn((function e(t,n,r){Hn(this,e),this.type="FirstParty",this.user=Ry.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Jy=function(){function e(t,n,r){Hn(this,e),this.h=t,this.l=n,this.m=r}return Yn(e,[{key:"getToken",value:function(){return Promise.resolve(new Qy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ry.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Xy=Yn((function e(t){Hn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Zy=function(){function e(t){Hn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Yn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ly("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ly("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ly("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ly("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zy("string"==typeof t.token),e.p=t.token,new Xy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),em=function(){function e(t,n){var r=this;Hn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Yn(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function tm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}em.A=-1;var nm=function(){function e(){Hn(this,e)}return Yn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=tm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function rm(e,t){return e<t?-1:e>t?1:0}function im(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function am(e){return e+"\0"}var om=function(){function e(t,n){if(Hn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wy(qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Yn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?rm(this.nanoseconds,e.nanoseconds):rm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),um=function(){function e(t){Hn(this,e),this.timestamp=t}return Yn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new om(0,0))}},{key:"max",value:function(){return new e(new om(253402300799,999999999))}}]),e}();function sm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var fm=function(){function e(t,n,r){Hn(this,e),void 0===n?n=0:n>t.length&&Vy(),void 0===r?r=t.length-n:r>t.length-n&&Vy(),this.segments=t,this.offset=n,this.len=r}return Yn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),hm=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Wy(qy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Gr(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fm),dm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pm=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return dm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wy(qy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wy(qy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Wy(qy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fm),vm=function(){function e(t){Hn(this,e),this.fields=t,t.sort(pm.comparator)}return Yn(e,[{key:"covers",value:function(e){var t,n=Qn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return im(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ym=function(e){function t(e){Hn(this,t),this.binaryString=e}return Yn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return rm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ym.EMPTY_BYTE_STRING=new ym("");var mm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gm(e){if(zy(!!e),"string"==typeof e){var t=0,n=mm.exec(e);if(zy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:km(e.seconds),nanos:km(e.nanos)}}function km(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bm(e){return"string"==typeof e?ym.fromBase64String(e):ym.fromUint8Array(e)}function wm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _m(e){var t=e.mapValue.fields.__previous_value__;return wm(t)?_m(t):t}function xm(e){var t=gm(e.mapValue.fields.__local_write_time__.timestampValue);return new om(t.seconds,t.nanos)}var Sm=Yn((function e(t,n,r,i,a,o,u,s){Hn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Em=function(){function e(t,n){Hn(this,e),this.projectId=t,this.database=n||"(default)"}return Yn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Tm(e){return null==e}function Im(e){return 0===e&&1/e==-1/0}function Cm(e){return"number"==typeof e&&Number.isInteger(e)&&!Im(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Am=function(){function e(t){Hn(this,e),this.path=t}return Yn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===hm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(hm.fromString(t))}},{key:"fromName",value:function(t){return new e(hm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(hm.emptyPath())}},{key:"comparator",value:function(e,t){return hm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new hm(t.slice()))}}]),e}(),Om={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nm={nullValue:"NULL_VALUE"};function Rm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wm(e)?4:Gm(e)?9:10:Vy()}function Pm(e,t){if(e===t)return!0;var n=Rm(e);if(n!==Rm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xm(e).isEqual(xm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gm(e.timestampValue),r=gm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bm(e.bytesValue).isEqual(bm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return km(e.geoPointValue.latitude)===km(t.geoPointValue.latitude)&&km(e.geoPointValue.longitude)===km(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return km(e.integerValue)===km(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=km(e.doubleValue),r=km(t.doubleValue);return n===r?Im(n)===Im(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return im(e.arrayValue.values||[],t.arrayValue.values||[],Pm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sm(n)!==sm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pm(n[i],r[i])))return!1;return!0}(e,t);default:return Vy()}}function Dm(e,t){return void 0!==(e.values||[]).find((function(e){return Pm(e,t)}))}function Mm(e,t){if(e===t)return 0;var n=Rm(e),r=Rm(t);if(n!==r)return rm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=km(e.integerValue||e.doubleValue),r=km(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lm(e.timestampValue,t.timestampValue);case 4:return Lm(xm(e),xm(t));case 5:return rm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=bm(e),r=bm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=rm(n[i],r[i]);if(0!==a)return a}return rm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=rm(km(e.latitude),km(t.latitude));return 0!==n?n:rm(km(e.longitude),km(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Mm(n[i],r[i]);if(a)return a}return rm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=rm(r[o],a[o]);if(0!==u)return u;var s=Mm(n[r[o]],i[a[o]]);if(0!==s)return s}return rm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Vy()}}function Lm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rm(e,t);var n=gm(e),r=gm(t),i=rm(n.seconds,r.seconds);return 0!==i?i:rm(n.nanos,r.nanos)}function Fm(e){return jm(e)}function jm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Am.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Qn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=jm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Qn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(jm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Vy();var t,n}function Um(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Vm(e){return!!e&&"integerValue"in e}function zm(e){return!!e&&"arrayValue"in e}function Bm(e){return!!e&&"nullValue"in e}function qm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wm(e){return!!e&&"mapValue"in e}function Hm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return cm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Hm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Hm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Gm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ym(e,t){return void 0===e?t:void 0===t||Mm(e,t)>0?e:t}function Km(e,t){return void 0===e?t:void 0===t||Mm(e,t)<0?e:t}var $m=function(){function e(t){Hn(this,e),this.value=t}return Yn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hm(t)}},{key:"setAll",value:function(e){var t=this,n=pm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Hm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){cm(t,(function(t,n){return e[t]=n}));var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Hm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Qm(e){var t=[];return cm(e.fields,(function(e,n){var r=new pm([e]);if(Wm(n)){var i=Qm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Qn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new vm(t)}var Jm=function(){function e(t,n,r,i,a,o){Hn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Yn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$m.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$m.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,um.min(),um.min(),$m.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,um.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,um.min(),$m.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,um.min(),$m.empty(),2)}}]),e}(),Xm=Yn((function e(t,n,r,i){Hn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Zm(e){return e.fields.find((function(e){return 2===e.kind}))}function eg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xm.UNKNOWN_ID=-1;var tg=Yn((function e(t,n){Hn(this,e),this.fieldPath=t,this.kind=n})),ng=function(){function e(t,n){Hn(this,e),this.sequenceNumber=t,this.offset=n}return Yn(e,null,[{key:"empty",value:function(){return new e(0,ag.min())}}]),e}();function rg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=um.fromTimestamp(1e9===r?new om(n+1,0):new om(n,r));return new ag(i,Am.empty(),t)}function ig(e){return new ag(e.readTime,e.key,-1)}var ag=function(){function e(t,n,r){Hn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Yn(e,null,[{key:"min",value:function(){return new e(um.min(),Am.empty(),-1)}},{key:"max",value:function(){return new e(um.max(),Am.empty(),-1)}}]),e}();function og(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Am.comparator(e.documentKey,t.documentKey))?n:rm(e.largestBatchId,t.largestBatchId)}var ug=Yn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Hn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function sg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ug(e,t,n,r,i,a,o)}function cg(e){var t=By(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Fm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Tm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fm(e)})).join(",")),t.P=n}return t.P}function lg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Pm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tg(e.startAt,t.startAt)&&Tg(e.endAt,t.endAt)}function fg(e){return Am.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hg(e,t){return e.filters.filter((function(e){return e instanceof dg&&e.field.isEqual(t)}))}var dg=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Yn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Mm(t,this.value)):null!==t&&Rm(this.value)===Rm(t)&&this.v(Mm(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vy()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new pg(e,t,r):"array-contains"===t?new gg(e,r):"in"===t?new kg(e,r):"not-in"===t?new bg(e,r):"array-contains-any"===t?new wg(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new vg(e,n):new yg(e,n)}}]),n}(function(){return Yn((function e(){Hn(this,e)}))}()),pg=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this,e,r,i)).key=Am.fromName(i.referenceValue),a}return Yn(n,[{key:"matches",value:function(e){var t=Am.comparator(e.key,this.key);return this.v(t)}}]),n}(dg),vg=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,"in",r)).keys=mg("in",r),i}return Yn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dg),yg=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,"not-in",r)).keys=mg("not-in",r),i}return Yn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(dg);function mg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Am.fromName(e.referenceValue)}))}var gg=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"array-contains",r)}return Yn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return zm(t)&&Dm(t.arrayValue,this.value)}}]),n}(dg),kg=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"in",r)}return Yn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Dm(this.value.arrayValue,t)}}]),n}(dg),bg=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"not-in",r)}return Yn(n,[{key:"matches",value:function(e){if(Dm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Dm(this.value.arrayValue,t)}}]),n}(dg),wg=function(e){tr(n,e);var t=or(n);function n(e,r){return Hn(this,n),t.call(this,e,"array-contains-any",r)}return Yn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Dm(t.value.arrayValue,e)}))}}]),n}(dg),_g=Yn((function e(t,n){Hn(this,e),this.position=t,this.inclusive=n})),xg=Yn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Hn(this,e),this.field=t,this.dir=n}));function Sg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Eg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Am.comparator(Am.fromName(o.referenceValue),n.key):Mm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pm(e.position[n],t.position[n]))return!1;return!0}var Ig=Yn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Hn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Cg(e,t,n,r,i,a,o,u){return new Ig(e,t,n,r,i,a,o,u)}function Ag(e){return new Ig(e)}function Og(e){return!Tm(e.limit)&&"F"===e.limitType}function Ng(e){return!Tm(e.limit)&&"L"===e.limitType}function Rg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pg(e){var t,n=Qn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Dg(e){return null!==e.collectionGroup}function Mg(e){var t=By(e);if(null===t.D){t.D=[];var n=Pg(t),r=Rg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new xg(n)),t.D.push(new xg(pm.keyField(),"asc"));else{var i,a=!1,o=Qn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new xg(pm.keyField(),s))}}}return t.D}function Lg(e){var t=By(e);if(!t.C)if("F"===t.limitType)t.C=sg(t.path,t.collectionGroup,Mg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Qn(Mg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _g(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new _g(t.startAt.position,!t.startAt.inclusive):null;t.C=sg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Fg(e,t,n){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function jg(e,t){return lg(Lg(e),Lg(t))&&e.limitType===t.limitType}function Ug(e){return"".concat(cg(Lg(e)),"|lt:").concat(e.limitType)}function Vg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Fm(t.value));var t})).join(", "),"]")),Tm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fm(e)})).join(",")),"Target(".concat(t,")")}(Lg(e)),"; limitType=").concat(e.limitType,")")}function zg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Am.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Qn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Qn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Eg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Mg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Eg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Mg(e),t))}(e,t)}function Bg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qg(e){return function(t,n){var r,i=!1,a=Qn(Mg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Wg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Wg(e,t,n){var r=e.field.isKeyField()?Am.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mm(r,i):Vy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vy()}}function Hg(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Im(t)?"-0":t}}function Gg(e){return{integerValue:""+e}}function Yg(e,t){return Cm(t)?Gg(t):Hg(e,t)}var Kg=Yn((function e(){Hn(this,e),this._=void 0}));function $g(e,t,n){return e instanceof Xg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zg?ek(e,t):e instanceof tk?nk(e,t):function(e,t){var n=Jg(e,t),r=ik(n)+ik(e.k);return Vm(n)&&Vm(e.k)?Gg(r):Hg(e.M,r)}(e,t)}function Qg(e,t,n){return e instanceof Zg?ek(e,t):e instanceof tk?nk(e,t):n}function Jg(e,t){return e instanceof rk?Vm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xg=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n)}(Kg),Zg=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).elements=e,r}return Yn(n)}(Kg);function ek(e,t){var n,r=ak(t),i=Qn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Pm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tk=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).elements=e,r}return Yn(n)}(Kg);function nk(e,t){var n,r=ak(t),i=Qn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Pm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rk=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).M=e,i.k=r,i}return Yn(n)}(Kg);function ik(e){return km(e.integerValue||e.doubleValue)}function ak(e){return zm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ok=Yn((function e(t,n){Hn(this,e),this.field=t,this.transform=n}));var uk=Yn((function e(t,n){Hn(this,e),this.version=t,this.transformResults=n})),sk=function(){function e(t,n){Hn(this,e),this.updateTime=t,this.exists=n}return Yn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ck(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lk=Yn((function e(){Hn(this,e)}));function fk(e,t,n){e instanceof yk?function(e,t,n){var r=e.value.clone(),i=kk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mk?function(e,t,n){if(ck(e.precondition,t)){var r=kk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hk(e,t,n){e instanceof yk?function(e,t,n){if(ck(e.precondition,t)){var r=e.value.clone(),i=bk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(vk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mk?function(e,t,n){if(ck(e.precondition,t)){var r=bk(e.fieldTransforms,n,t),i=t.data;i.setAll(gk(e)),i.setAll(r),t.convertToFoundDocument(vk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ck(e.precondition,t)&&t.convertToNoDocument(um.min())}(e,t)}function dk(e,t){var n,r=null,i=Qn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Jg(a.transform,o||null);null!=u&&(null==r&&(r=$m.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function pk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&im(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zg&&t instanceof Zg||e instanceof tk&&t instanceof tk?im(e.elements,t.elements,Pm):e instanceof rk&&t instanceof rk?Pm(e.k,t.k):e instanceof Xg&&t instanceof Xg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vk(e){return e.isFoundDocument()?e.version:um.min()}var yk=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Hn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Yn(n)}(lk),mk=function(e){tr(n,e);var t=or(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Hn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Yn(n)}(lk);function gk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function kk(e,t,n){var r=new Map;zy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Qg(o,u,n[i]))}return r}function bk(e,t,n){var r,i=new Map,a=Qn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,$g(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wk,_k,xk=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Yn(n)}(lk),Sk=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Yn(n)}(lk),Ek=Yn((function e(t){Hn(this,e),this.count=t}));function Tk(e){switch(e){default:return Vy();case qy.CANCELLED:case qy.UNKNOWN:case qy.DEADLINE_EXCEEDED:case qy.RESOURCE_EXHAUSTED:case qy.INTERNAL:case qy.UNAVAILABLE:case qy.UNAUTHENTICATED:return!1;case qy.INVALID_ARGUMENT:case qy.NOT_FOUND:case qy.ALREADY_EXISTS:case qy.PERMISSION_DENIED:case qy.FAILED_PRECONDITION:case qy.ABORTED:case qy.OUT_OF_RANGE:case qy.UNIMPLEMENTED:case qy.DATA_LOSS:return!0}}function Ik(e){if(void 0===e)return Fy("GRPC error has no .code"),qy.UNKNOWN;switch(e){case wk.OK:return qy.OK;case wk.CANCELLED:return qy.CANCELLED;case wk.UNKNOWN:return qy.UNKNOWN;case wk.DEADLINE_EXCEEDED:return qy.DEADLINE_EXCEEDED;case wk.RESOURCE_EXHAUSTED:return qy.RESOURCE_EXHAUSTED;case wk.INTERNAL:return qy.INTERNAL;case wk.UNAVAILABLE:return qy.UNAVAILABLE;case wk.UNAUTHENTICATED:return qy.UNAUTHENTICATED;case wk.INVALID_ARGUMENT:return qy.INVALID_ARGUMENT;case wk.NOT_FOUND:return qy.NOT_FOUND;case wk.ALREADY_EXISTS:return qy.ALREADY_EXISTS;case wk.PERMISSION_DENIED:return qy.PERMISSION_DENIED;case wk.FAILED_PRECONDITION:return qy.FAILED_PRECONDITION;case wk.ABORTED:return qy.ABORTED;case wk.OUT_OF_RANGE:return qy.OUT_OF_RANGE;case wk.UNIMPLEMENTED:return qy.UNIMPLEMENTED;case wk.DATA_LOSS:return qy.DATA_LOSS;default:return Vy()}}(_k=wk||(wk={}))[_k.OK=0]="OK",_k[_k.CANCELLED=1]="CANCELLED",_k[_k.UNKNOWN=2]="UNKNOWN",_k[_k.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_k[_k.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_k[_k.NOT_FOUND=5]="NOT_FOUND",_k[_k.ALREADY_EXISTS=6]="ALREADY_EXISTS",_k[_k.PERMISSION_DENIED=7]="PERMISSION_DENIED",_k[_k.UNAUTHENTICATED=16]="UNAUTHENTICATED",_k[_k.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_k[_k.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_k[_k.ABORTED=10]="ABORTED",_k[_k.OUT_OF_RANGE=11]="OUT_OF_RANGE",_k[_k.UNIMPLEMENTED=12]="UNIMPLEMENTED",_k[_k.INTERNAL=13]="INTERNAL",_k[_k.UNAVAILABLE=14]="UNAVAILABLE",_k[_k.DATA_LOSS=15]="DATA_LOSS";var Ck=function(){function e(t,n){Hn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Yn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=Zn(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){cm(this.inner,(function(t,n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=Zn(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return lm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ak=function(){function e(t,n){Hn(this,e),this.comparator=t,this.root=n||Nk.EMPTY}return Yn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ok(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ok(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ok(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ok(this.root,e,this.comparator,!0)}}]),e}(),Ok=function(){function e(t,n,r,i){Hn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Yn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Nk=function(){function e(t,n,r,i,a){Hn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Yn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Vy();if(this.right.isRed())throw Vy();var e=this.left.check();if(e!==this.right.check())throw Vy();return e+(this.isRed()?0:1)}}]),e}();Nk.EMPTY=null,Nk.RED=!0,Nk.BLACK=!1,Nk.EMPTY=new(function(){function e(){Hn(this,e),this.size=0}return Yn(e,[{key:"key",get:function(){throw Vy()}},{key:"value",get:function(){throw Vy()}},{key:"color",get:function(){throw Vy()}},{key:"left",get:function(){throw Vy()}},{key:"right",get:function(){throw Vy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Nk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rk=function(){function e(t){Hn(this,e),this.comparator=t,this.data=new Ak(this.comparator)}return Yn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Pk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Pk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Pk=function(){function e(t){Hn(this,e),this.iter=t}return Yn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Dk(e){return e.hasNext()?e.getNext():void 0}var Mk=new Ak(Am.comparator);function Lk(){return Mk}var Fk=new Ak(Am.comparator);function jk(){return Fk}function Uk(){return new Ck((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Vk=new Ak(Am.comparator),zk=new Rk(Am.comparator);function Bk(){for(var e=zk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var qk=new Rk(rm);function Wk(){return qk}var Hk=function(){function e(t,n,r,i,a){Hn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Yn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Gk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(um.min(),r,Wk(),Lk(),Bk())}}]),e}(),Gk=function(){function e(t,n,r,i,a){Hn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Yn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ym.EMPTY_BYTE_STRING,n,Bk(),Bk(),Bk())}}]),e}(),Yk=Yn((function e(t,n,r,i){Hn(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Kk=Yn((function e(t,n){Hn(this,e),this.targetId=t,this.$=n})),$k=Yn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ym.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Hn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Qk=function(){function e(){Hn(this,e),this.B=0,this.L=Zk(),this.U=ym.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return Yn(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=Bk(),t=Bk(),n=Bk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vy()}})),new Gk(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=Zk()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),Jk=function(){function e(t){Hn(this,e),this.nt=t,this.st=new Map,this.it=Lk(),this.rt=Xk(),this.ot=new Rk(rm)}return Yn(e,[{key:"ut",value:function(e){var t,n=Qn(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Vy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(fg(i))if(0===n){var a=new Am(i.path);this.ct(t,a,Jm.newNoDocument(a,um.min()))}else zy(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&fg(a.target)){var o=new Am(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Jm.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Bk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Hk(e,n,this.ot,this.it,r);return this.it=Lk(),this.rt=Xk(),this.ot=new Rk(rm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Qk,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Rk(rm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ly("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Qk),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xk(){return new Ak(Am.comparator)}function Zk(){return new Ak(Am.comparator)}var eb={asc:"ASCENDING",desc:"DESCENDING"},tb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nb=Yn((function e(t,n){Hn(this,e),this.databaseId=t,this.N=n}));function rb(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ib(e,t){return e.N?t.toBase64():t.toUint8Array()}function ab(e,t){return rb(e,t.toTimestamp())}function ob(e){return zy(!!e),um.fromTimestamp(function(e){var t=gm(e);return new om(t.seconds,t.nanos)}(e))}function ub(e,t){return function(e){return new hm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sb(e){var t=hm.fromString(e);return zy(Nb(t)),t}function cb(e,t){return ub(e.databaseId,t.path)}function lb(e,t){var n=sb(t);if(n.get(1)!==e.databaseId.projectId)throw new Wy(qy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wy(qy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Am(pb(n))}function fb(e,t){return ub(e.databaseId,t)}function hb(e){var t=sb(e);return 4===t.length?hm.emptyPath():pb(t)}function db(e){return new hm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pb(e){return zy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vb(e,t,n){return{name:cb(e,t),fields:n.value.mapValue.fields}}function yb(e,t,n){var r=lb(e,t.name),i=ob(t.updateTime),a=new $m({mapValue:{fields:t.fields}}),o=Jm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function mb(e,t){return"found"in t?function(e,t){zy(!!t.found),t.found.name,t.found.updateTime;var n=lb(e,t.found.name),r=ob(t.found.updateTime),i=new $m({mapValue:{fields:t.found.fields}});return Jm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){zy(!!t.missing),zy(!!t.readTime);var n=lb(e,t.missing),r=ob(t.readTime);return Jm.newNoDocument(n,r)}(e,t):Vy()}function gb(e,t){var n;if(t instanceof yk)n={update:vb(e,t.key,t.value)};else if(t instanceof xk)n={delete:cb(e,t.key)};else if(t instanceof mk)n={update:vb(e,t.key,t.data),updateMask:Ob(t.fieldMask)};else{if(!(t instanceof Sk))return Vy();n={verify:cb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rk)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Vy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ab(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vy()}(e,t.precondition)),n}function kb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sk.updateTime(ob(e.updateTime)):void 0!==e.exists?sk.exists(e.exists):sk.none()}(t.currentDocument):sk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zy("REQUEST_TIME"===t.setToServerValue),n=new Xg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tk(i)}else"increment"in t?n=new rk(e,t.increment):Vy();var a=pm.fromServerFormat(t.fieldPath);return new ok(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=lb(e,t.update.name),a=new $m({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vm(t.map((function(e){return pm.fromServerFormat(e)})))}(t.updateMask);return new mk(i,a,o,n,r)}return new yk(i,a,n,r)}if(t.delete){var u=lb(e,t.delete);return new xk(u,n)}if(t.verify){var s=lb(e,t.verify);return new Sk(s,n)}return Vy()}function bb(e,t){return{documents:[fb(e,t.path)]}}function wb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qm(e.value))return{unaryFilter:{field:Tb(e.field),op:"IS_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Tb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qm(e.value))return{unaryFilter:{field:Tb(e.field),op:"IS_NOT_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Tb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tb(e.field),op:Eb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tb(e.field),direction:Sb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Tm(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _b(e){var t=hb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new xg(Ib(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Tm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _g(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _g(n,t)}(n.endAt)),Cg(t,i,u,o,s,"F",c,l)}function xb(e){return e?void 0!==e.unaryFilter?[Ab(e)]:void 0!==e.fieldFilter?[Cb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xb(e)})).reduce((function(e,t){return e.concat(t)})):Vy():[]}function Sb(e){return eb[e]}function Eb(e){return tb[e]}function Tb(e){return{fieldPath:e.canonicalString()}}function Ib(e){return pm.fromServerFormat(e.fieldPath)}function Cb(e){return dg.create(Ib(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ab(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ib(e.unaryFilter.field);return dg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ib(e.unaryFilter.field);return dg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ib(e.unaryFilter.field);return dg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ib(e.unaryFilter.field);return dg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vy()}}function Ob(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Rb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Db(t)),t=Pb(e.get(n),t);return Db(t)}function Pb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Db(e){return e+"\x01\x01"}function Mb(e){var t=e.length;if(zy(t>=2),2===t)return zy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Vy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Vy()}a=o+2}return new hm(r)}var Lb=["userId","batchId"];function Fb(e,t){return[e,Rb(t)]}function jb(e,t,n){return[e,Rb(t),n]}var Ub={},Vb=["prefixPath","collectionGroup","readTime","documentId"],zb=["prefixPath","collectionGroup","documentId"],Bb=["collectionGroup","readTime","prefixPath","documentId"],qb=["canonicalId","targetId"],Wb=["targetId","path"],Hb=["path","targetId"],Gb=["collectionId","parent"],Yb=["indexId","uid"],Kb=["uid","sequenceNumber"],$b=["indexId","uid","arrayValue","directionalValue","documentKey"],Qb=["indexId","uid","documentKey"],Jb=["userId","collectionPath","documentId"],Xb=["userId","collectionPath","largestBatchId"],Zb=["userId","collectionGroup","largestBatchId"],ew=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),tw=[].concat(Gr(ew),["documentOverlays"]),nw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rw=[].concat(nw,["indexConfiguration","indexState","indexEntries"]),iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aw=function(){function e(){Hn(this,e),this.onCommittedListeners=[]}return Yn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ow=function(){function e(t){var n=this;Hn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Yn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Vy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Qn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),uw=function(){function e(t,n){var r=this;Hn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Hy,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new lw(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=vw(e.target.error);r.At.reject(new lw(t,n))}}return Yn(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ly("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new hw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new lw(n,t)}}}]),e}(),sw=function(){function e(t,n,r){Hn(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(kr())&&Fy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Yn(e,[{key:"Nt",value:function(){var e=Kr(lr().mark((function e(t){var n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ly("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new lw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wy(qy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wy(qy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new lw(t,n))},i.onupgradeneeded=function(e){Ly("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ly("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Kr(lr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(lr().mark((function e(){var n,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=uw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),ow.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ly("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ly("SimpleDb","Removing database:",e),dw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Er())return!1;if(e.St())return!0;var t=kr(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),cw=function(){function e(t){Hn(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Yn(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return dw(this.Ft.delete())}}]),e}(),lw=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,qy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Yn(n)}(Wy);function fw(e){return"IndexedDbTransactionError"===e.name}var hw=function(){function e(t){Hn(this,e),this.store=t}return Yn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ly("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ly("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dw(n)}},{key:"add",value:function(e){return Ly("SimpleDb","ADD",this.store.name,e,e),dw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return dw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ly("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ly("SimpleDb","DELETE",this.store.name,e),dw(this.store.delete(e))}},{key:"count",value:function(){return Ly("SimpleDb","COUNT",this.store.name),dw(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ow((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ow((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ly("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ow((function(n,r){t.onerror=function(e){var t=vw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new ow((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new cw(i),o=t(i.primaryKey,i.value,a);if(o instanceof ow){var u=o.catch((function(e){return a.done(),ow.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ow.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function dw(e){return new ow((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=vw(e.target.error);n(t)}}))}var pw=!1;function vw(e){var t=sw.Vt(kr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return pw||(pw=!0,setTimeout((function(){throw r}),0)),r}}return e}var yw=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Yn(n)}(aw);function mw(e,t){var n=By(e);return sw.xt(n.Ht,t)}var gw=function(){function e(t,n,r,i){Hn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Yn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Qn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&hk(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&hk(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(um.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&im(this.mutations,e.mutations,(function(e,t){return pk(e,t)}))&&im(this.baseMutations,e.baseMutations,(function(e,t){return pk(e,t)}))}}]),e}(),kw=function(){function e(t,n,r,i){Hn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Yn(e,null,[{key:"from",value:function(t,n,r){zy(t.mutations.length===r.length);for(var i=Vk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),bw=function(){function e(t,n){Hn(this,e),this.largestBatchId=t,this.mutation=n}return Yn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ww=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:um.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:um.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ym.EMPTY_BYTE_STRING;Hn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Yn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),_w=Yn((function e(t){Hn(this,e),this.Jt=t}));function xw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:cb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:rb(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ew(t.version)};else{if(!t.isUnknownDocument())return Vy();r.unknownDocument={path:n.path.toArray(),version:Ew(t.version)}}return r}function Sw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ew(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Tw(e){var t=new om(e.seconds,e.nanoseconds);return um.fromTimestamp(t)}function Iw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return kb(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return kb(e.Jt,t)})),u=om.fromMillis(t.localWriteTimeMs);return new gw(t.batchId,u,n,o)}function Cw(e){var t,n,r=Tw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Tw(e.lastLimboFreeSnapshotVersion):um.min();return void 0!==e.query.documents?(zy(1===(n=e.query).documents.length),t=Lg(Ag(hb(n.documents[0])))):t=function(e){return Lg(_b(e))}(e.query),new ww(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ym.fromBase64String(e.resumeToken))}function Aw(e,t){var n,r=Ew(t.snapshotVersion),i=Ew(t.lastLimboFreeSnapshotVersion);n=fg(t.target)?bb(e.Jt,t.target):wb(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ow(e){var t=_b({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Fg(t,t.limit,"L"):t}function Nw(e,t){return new bw(t.largestBatchId,kb(e.Jt,t.overlayMutation))}function Rw(e,t){var n=t.path.lastSegment();return[e,Rb(t.path.popLast()),n]}var Pw=function(){function e(){Hn(this,e)}return Yn(e,[{key:"getBundleMetadata",value:function(e,t){return Dw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Tw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Dw(e).put({bundleId:(n=t).id,createTime:Ew(ob(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Mw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ow(t.bundledQuery),readTime:Tw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Mw(e).put(function(e){return{name:e.name,readTime:Ew(ob(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Dw(e){return mw(e,"bundles")}function Mw(e){return mw(e,"namedQueries")}var Lw=function(){function e(t,n){Hn(this,e),this.M=t,this.userId=n}return Yn(e,[{key:"getOverlay",value:function(e,t){var n=this;return Fw(e).get(Rw(this.userId,t)).next((function(e){return e?Nw(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new bw(t,a);i.push(r.Xt(e,o))})),ow.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Rb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Fw(e).Qt("collectionPathOverlayIndex",i))})),ow.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Uk(),a=Rb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Fw(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Nw(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Uk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fw(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Nw(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Fw(e).put(function(e,t,n){var r=Zn(Rw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:gb(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Fw(e){return mw(e,"documentOverlays")}var jw=function(){function e(){Hn(this,e)}return Yn(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(km(e.integerValue));else if("doubleValue"in e){var n=km(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Im(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(bm(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Gm(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Vy()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Am.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Uw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Vw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Uw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}jw.fe=new jw;var zw=function(){function e(){Hn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Yn(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Vw(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Vw(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Bw=function(){function e(t){Hn(this,e),this.De=t}return Yn(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),qw=function(){function e(t){Hn(this,e),this.De=t}return Yn(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Ww=function(){function e(){Hn(this,e),this.De=new zw,this.Ce=new Bw(this.De),this.xe=new qw(this.De)}return Yn(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Hw=function(){function e(t,n,r,i){Hn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Yn(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Gw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yw(e.arrayValue,t.arrayValue))?n:0!==(n=Yw(e.directionalValue,t.directionalValue))?n:Am.comparator(e.documentKey,t.documentKey)}function Yw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Kw=function(){function e(t){Hn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Qn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Yn(e,[{key:"$e",value:function(e){var t=Zm(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=eg(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Qn(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),$w=function(){function e(){Hn(this,e),this.qe=new Qw}return Yn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ow.resolve()}},{key:"getCollectionParents",value:function(e,t){return ow.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ow.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ow.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ow.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return ow.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return ow.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ow.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return ow.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ow.resolve()}}]),e}(),Qw=function(){function e(){Hn(this,e),this.index={}}return Yn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rk(hm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rk(hm.comparator)).toArray()}}]),e}(),Jw=new Uint8Array(0),Xw=function(){function e(t){Hn(this,e),this.user=t,this.Ge=new Qw,this.Ke=new Ck((function(e){return cg(e)}),(function(e,t){return lg(e,t)})),this.uid=t.uid||""}return Yn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Rb(i)};return Zw(e).put(a)}return ow.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[am(t),""],!1,!0);return Zw(e).qt(r).next((function(e){var r,i=Qn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Mb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=t_(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=t_(e),r=n_(e),i=e_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=e_(e),i=!0,a=new Map;return ow.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Bk();return ow.forEach(a,(function(i,a){var o;Ly("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(cg(t)));var u=function(e,t){var n=Zm(t);if(void 0===n)return null;var r,i=Qn(hg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=Qn(eg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Qn(hg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=Qn(eg(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Qn(hg(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Nm:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Um(Em.empty(),Am.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Vy();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Nm}Ym(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.startAt.position[v];Ym(c,y)===y&&(c=y,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new _g(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=Qn(eg(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=Qn(hg(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Um(Em.empty(),Am.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Om:Vy(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=Om}Km(c,d)===d&&(c=d,l=p)}}catch(m){f.e(m)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var y=e.endAt.position[v];Km(c,y)===y&&(c=y,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(m){o.e(m)}finally{o.f()}return new _g(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return ow.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Am(Mb(t.documentKey)))}))}))}))})).next((function(){return e}))}return ow.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Jw,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,Gr(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Hw(e,Am.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Hw(e,Am.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Hw(e,Am.empty(),Jw,Jw)}},{key:"getFieldIndex",value:function(e,t){var n=new Kw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Ww,i=Qn(eg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);jw.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Ww;return jw.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ww);var i,a=0,o=Qn(eg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Qn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&zm(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);jw.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=Gr(e),a=[],o=Qn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Qn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ww;f.seed(l.Se()),jw.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof dg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=t_(e),i=n_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ow.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ng(t.sequenceNumber,new ag(Tw(t.readTime),new Am(Mb(t.documentKey)),t.largestBatchId)):ng.empty(),r=e.fields.map((function(e){var t=Zn(e,2),n=t[0],r=t[1];return new tg(pm.fromServerFormat(n),r)}));return new Xm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=t_(e),a=n_(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ow.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ew(r.readTime),documentKey:Rb(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ow.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ow.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ow.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?ow.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return e_(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Rb(t.key.path)})}},{key:"cn",value:function(e,t,n){return e_(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Rb(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=e_(e),i=new Rk(Gw);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Rb(t.path)])},(function(e,r){i=i.add(new Hw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Rk(Gw),r=this.Ze(t,e);if(null==r)return n;var i=Zm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(zm(a)){var o,u=Qn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Hw(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Hw(t.indexId,e.key,Jw,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Ly("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Dk(a),s=Dk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Dk(o)):l?(i(u),u=Dk(a)):(u=Dk(a),s=Dk(o))}}(n,r,Gw,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),ow.waitFor(a)}},{key:"sn",value:function(e){var t=1;return n_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Gw(e,t)})).filter((function(e,t,n){return!t||0!==Gw(e,n[t-1])}));var r=[];r.push(e);var i,a=Qn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Gw(o,e),s=Gw(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Zw(e){return mw(e,"collectionParents")}function e_(e){return mw(e,"indexEntries")}function t_(e){return mw(e,"indexConfiguration")}function n_(e){return mw(e,"indexState")}var r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i_=function(){function e(t,n,r){Hn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Yn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function a_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){zy(1===u)})));var c,l=[],f=Qn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=jb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ow.waitFor(a).next((function(){return l}))}function o_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vy();t=e.noDocument}return JSON.stringify(t).length}i_.DEFAULT_COLLECTION_PERCENTILE=10,i_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,i_.DEFAULT=new i_(41943040,i_.DEFAULT_COLLECTION_PERCENTILE,i_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),i_.DISABLED=new i_(-1,0,0);var u_=function(){function e(t,n,r,i){Hn(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Yn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return c_(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=l_(e),o=c_(e);return o.add({}).next((function(u){zy("number"==typeof u);var s,c=new gw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return gb(e.Jt,t)})),i=n.mutations.map((function(t){return gb(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Rk((function(e,t){return rm(e.canonicalString(),t.canonicalString())})),d=Qn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=jb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ub))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),ow.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return c_(e).get(t).next((function(e){return e?(zy(e.userId===n.userId),Iw(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?ow.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return c_(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(zy(t.batchId>=r),a=Iw(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return c_(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return c_(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Iw(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Fb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return l_(e).Wt({range:i},(function(r,i,o){var u=Zn(r,3),s=u[0],c=u[1],l=u[2],f=Mb(c);if(s===n.userId&&t.path.isEqual(f))return c_(e).get(l).next((function(e){if(!e)throw Vy();zy(e.userId===n.userId),a.push(Iw(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rk(rm),i=[];return t.forEach((function(t){var a=Fb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=l_(e).Wt({range:o},(function(e,i,a){var o=Zn(e,3),u=o[0],s=o[1],c=o[2],l=Mb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ow.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Fb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Rk(rm);return l_(e).Wt({range:o},(function(e,t,a){var o=Zn(e,3),s=o[0],c=o[1],l=o[2],f=Mb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(c_(e).get(t).next((function(e){if(null===e)throw Vy();zy(e.userId===n.userId),r.push(Iw(n.M,e))})))})),ow.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return a_(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),ow.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ow.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return l_(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Mb(e[1]);i.push(a)}else r.done()})).next((function(){zy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return s_(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return f_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return zy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function s_(e,t,n){var r=Fb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return l_(e).Wt({range:a,jt:!0},(function(e,n,r){var a=Zn(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function c_(e){return mw(e,"mutations")}function l_(e){return mw(e,"documentMutations")}function f_(e){return mw(e,"mutationQueues")}var h_=function(){function e(t){Hn(this,e),this.wn=t}return Yn(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),d_=function(){function e(t,n){Hn(this,e),this.referenceDelegate=t,this.M=n}return Yn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new h_(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return um.fromTimestamp(new om(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return p_(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return zy(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return p_(e).Wt((function(o,u){var s=Cw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ow.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return p_(e).Wt((function(e,n){var r=Cw(n);t(r)}))}},{key:"yn",value:function(e){return v_(e).get("targetGlobalKey").next((function(e){return zy(null!==e),e}))}},{key:"pn",value:function(e,t){return v_(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return p_(e).put(Aw(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=cg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return p_(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Cw(n);lg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=y_(e);return t.forEach((function(t){var o=Rb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ow.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=y_(e);return ow.forEach(t,(function(t){var a=Rb(t.path);return ow.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=y_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=y_(e),i=Bk();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Mb(e[1]),a=new Am(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Rb(t.path),r=IDBKeyRange.bound([n],[am(n)],!1,!0),i=0;return y_(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=Zn(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return p_(e).get(t).next((function(e){return e?Cw(e):null}))}}]),e}();function p_(e){return mw(e,"targets")}function v_(e){return mw(e,"targetGlobal")}function y_(e){return mw(e,"targetDocuments")}function m_(e){return g_.apply(this,arguments)}function g_(){return g_=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qy.FAILED_PRECONDITION&&t.message===iw){e.next=2;break}throw t;case 2:Ly("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){var n=Zn(e,2),r=n[0],i=n[1],a=Zn(t,2),o=a[0],u=a[1],s=rm(r,o);return 0===s?rm(i,u):s}var b_=function(){function e(t){Hn(this,e),this.En=t,this.buffer=new Rk(k_),this.An=0}return Yn(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();k_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),w_=function(){function e(t,n){Hn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Yn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Ly("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!fw(n.t0)){n.next=12;break}Ly("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,m_(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),__=function(){function e(t,n){Hn(this,e),this.Sn=t,this.params=n}return Yn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ow.resolve(em.A);var r=new b_(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ly("LruGarbageCollector","Garbage collection skipped; disabled"),ow.resolve(r_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ly("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),r_):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ly("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),My()<=Zr.DEBUG&&Ly("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ow.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),x_=function(){function e(t,n){Hn(this,e),this.db=t,this.garbageCollector=function(e,t){return new __(e,t)}(this,n)}return Yn(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return S_(e,n)}},{key:"removeReference",value:function(e,t,n){return S_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return S_(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return f_(e).zt((function(r){return s_(e,r,t).next((function(e){return e&&(n=!0),ow.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,um.min()),y_(e).delete([0,Rb(o.path)])}))}));i.push(s)}})).next((function(){return ow.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return S_(e,t)}},{key:"kn",value:function(e,t){var n,r=y_(e),i=em.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=Zn(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==em.A&&t(new Am(Mb(n)),i),i=s,n=u):i=em.A})).next((function(){i!==em.A&&t(new Am(Mb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function S_(e,t){return y_(e).put(function(e,t){return{targetId:0,path:Rb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var E_=function(){function e(){Hn(this,e),this.changes=new Ck((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Yn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Jm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ow.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),T_=function(){function e(t){Hn(this,e),this.M=t}return Yn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return A_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return A_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Sw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Jm.newInvalidDocument(t);return A_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(O_(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:Jm.newInvalidDocument(t)};return A_(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(O_(t))},(function(e,i){r={document:n.Fn(t,i),size:o_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lk();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Lk(),i=new Ak(Am.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,o_(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return ow.resolve();var r=new Rk(R_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(O_(r.first()),O_(r.last())),a=r.getIterator(),o=a.getNext();return A_(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Am.fromSegments([].concat(Gr(t.prefixPath),[t.collectionGroup,t.documentId]));o&&R_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(O_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Sw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return A_(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Lk(),i=Qn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Am.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lk(),o=N_(t,n),u=N_(t,ag.max());return A_(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Am.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new I_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return C_(e).get("remoteDocumentGlobalKey").next((function(e){return zy(!!e),e}))}},{key:"On",value:function(e,t){return C_(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=yb(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Am.fromSegments(t.noDocument.path),i=Tw(t.noDocument.readTime);n=Jm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vy();var a=Am.fromSegments(t.unknownDocument.path),o=Tw(t.unknownDocument.version);n=Jm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new om(e[0],e[1]);return um.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(um.min()))return n}return Jm.newInvalidDocument(e)}}]),e}(),I_=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new Ck((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Yn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rk((function(e,t){return rm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=xw(t.qn.M,o);i=i.add(a.path.popLast());var c=o_(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=xw(t.qn.M,o.convertToNoDocument(um.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),ow.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(E_);function C_(e){return mw(e,"remoteDocumentGlobal")}function A_(e){return mw(e,"remoteDocumentsV14")}function O_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function N_(e,t){var n=t.documentKey.path.toArray();return[e,Sw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function R_(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Am.comparator(e,t)}var P_=function(){function e(t){Hn(this,e),this.M=t}return Yn(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new uw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lb,{unique:!0}),e.createObjectStore("documentMutations")}(e),D_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ow.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),D_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:um.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ow.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Jb});t.createIndex("collectionPathOverlayIndex",Xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Zb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Vb});t.createIndex("documentKeyIndex",zb),t.createIndex("collectionGroupIndex",Bb)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yb}).createIndex("sequenceNumberIndex",Kb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:$b}).createIndex("documentKeyIndex",Qb,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=o_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ow.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ow.forEach(r,(function(r){zy(r.userId===n.userId);var i=Iw(t.M,r);return a_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new hm(n),o=function(e){return[0,Rb(e)]}(a);r.push(t.get(o).next((function(n){return n?ow.resolve():function(n){return t.put({targetId:0,path:Rb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ow.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Gb});var n=t.store("collectionParents"),r=new Qw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rb(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new hm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=Zn(e,3),r=(n[0],n[1]),a=(n[2],Mb(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Cw(r),a=Aw(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Am(hm.fromString(i.document.name).popFirst(5)):i.noDocument?Am.fromSegments(i.noDocument.path):i.unknownDocument?Am.fromSegments(i.unknownDocument.path):Vy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ow.waitFor(r)}))}}]),e}();function D_(e){e.createObjectStore("targetDocuments",{keyPath:Wb}).createIndex("documentTargetsIndex",Hb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qb,{unique:!0}),e.createObjectStore("targetGlobal")}var M_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",L_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Hn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Wy(qy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x_(this,i),this.cs=n+"main",this.M=new _w(s),this.hs=new sw(this.cs,this.Zn,new P_(this.M)),this.ls=new d_(this.referenceDelegate,this.M),this.fs=function(e){return new T_(e)}(this.M),this.ds=new Pw,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Fy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Yn(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wy(qy.FAILED_PRECONDITION,M_);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new em(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=Kr(lr().mark((function n(r){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=Kr(lr().mark((function t(n){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return j_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(fw(t))return Ly("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ly("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return F_(e).get("owner").next((function(e){return ow.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return j_(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i,a=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=mw(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ow.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=Qn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?ow.resolve(!0):F_(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Wy(qy.FAILED_PRECONDITION,M_);return!1}}return!(!t.networkEnabled||!t.inForeground)||j_(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ly("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Kr(lr().mark((function e(){var t=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new yw(e,em.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return j_(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return u_.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new Xw(e)}},{key:"getDocumentOverlayCache",value:function(e){return Lw.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ly("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?rw:13===i?nw:12===i?tw:11===i?ew:void Vy();return this.hs.runTransaction(e,o,u,(function(i){return a=new yw(i,r.ts?r.ts.next():em.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Fy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Wy(qy.FAILED_PRECONDITION,iw);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return F_(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wy(qy.FAILED_PRECONDITION,M_)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return F_(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=F_(e);return n.get("owner").next((function(e){return t.bs(e)?(Ly("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ow.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Fy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!wr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ly("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Kt){Fy("Failed to set zombie client id.",Kt)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Kt){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return sw.vt()}}]),e}();function F_(e){return mw(e,"owner")}function j_(e){return mw(e,"clientMetadata")}function U_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var V_=function(){function e(t,n,r){Hn(this,e),this.fs=t,this.$s=n,this.indexManager=r}return Yn(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=Qn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=Qn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Am.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Dg(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Am(t)).next((function(e){var t=jk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jk();return this.indexManager.getCollectionParents(e,i).next((function(o){return ow.forEach(o,(function(o){var u=function(e,t){return new Ig(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Qn(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Jm.newInvalidDocument(s),r=r.insert(s,c)),hk(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){zg(t,n)||(r=r.remove(e))})),r}))}}]),e}(),z_=function(){function e(t,n,r,i){Hn(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Yn(e,null,[{key:"Js",value:function(t,n){var r,i=Bk(),a=Bk(),o=Qn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),B_=function(){function e(){Hn(this,e)}return Yn(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(um.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Og(t)||Ng(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(My()<=Zr.DEBUG&&Ly("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Vg(t)),i.Xs.Ks(e,t,rg(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Rk(qg(e));return t.forEach((function(t,r){zg(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return My()<=Zr.DEBUG&&Ly("QueryEngine","Using full collection scan to execute query:",Vg(t)),this.Xs.Ks(e,t,ag.min())}}]),e}(),q_=function(){function e(t,n,r,i){Hn(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Ak(rm),this.ii=new Ck((function(e){return cg(e)}),lg),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return Yn(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new V_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function W_(e,t,n,r){return new q_(e,t,n,r)}function H_(e,t){return G_.apply(this,arguments)}function G_(){return G_=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Bk(),s=Qn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Qn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Qn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Qn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Y_(e,t){var n=By(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ow.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);zy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function K_(e){var t=By(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function $_(e,t){var n=By(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ym.EMPTY_BYTE_STRING,um.min()).withLastLimboFreeSnapshotVersion(um.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=Lk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Q_(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(um.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ow.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Q_(e,t,n){var r=Bk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lk();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(um.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ly("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function J_(e,t){var n=By(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function X_(e,t){var n=By(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,ow.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new ww(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Z_(e,t,n){return ex.apply(this,arguments)}function ex(){return ex=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=By(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),fw(e.t1)){e.next=12;break}throw e.t1;case 12:Ly("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ex.apply(this,arguments)}function tx(e,t,n){var r=By(e),i=um.min(),a=Bk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=By(e),i=r.ii.get(n);return void 0!==i?ow.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Lg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:um.min(),n?a:Bk())})).next((function(e){return ix(r,Bg(t),e),{documents:e,hi:a}}))}))}function nx(e,t){var n=By(e),r=By(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function rx(e,t){var n=By(e),r=n.ri.get(t)||um.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,rg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ix(n,t,e),e}))}function ix(e,t,n){var r=um.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function ax(e,t,n,r){return ox.apply(this,arguments)}function ox(){return ox=Kr(lr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=By(t),o=Bk(),u=Lk(),s=Qn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,X_(a,function(e){return Lg(Ag(hm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Q_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e,t){return sx.apply(this,arguments)}function sx(){return sx=Kr(lr().mark((function e(t,n){var r,i,a,o=arguments;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Bk(),e.next=3,X_(t,Lg(Ow(n.bundledQuery)));case 3:return i=e.sent,a=By(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ob(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(ym.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}var cx=function(){function e(t){Hn(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Yn(e,[{key:"getBundleMetadata",value:function(e,t){return ow.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:ob(n.createTime)}),ow.resolve()}},{key:"getNamedQuery",value:function(e,t){return ow.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Ow(e.bundledQuery),readTime:ob(e.readTime)}}(t)),ow.resolve()}}]),e}(),lx=function(){function e(){Hn(this,e),this.overlays=new Ak(Am.comparator),this.mi=new Map}return Yn(e,[{key:"getOverlay",value:function(e,t){return ow.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ow.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),ow.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Uk(),i=t.length+1,a=new Am(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ow.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ak((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Uk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Uk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ow.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new bw(t,n));var a=this.mi.get(t);void 0===a&&(a=Bk(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),fx=function(){function e(){Hn(this,e),this.gi=new Rk(hx.yi),this.pi=new Rk(hx.Ii)}return Yn(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new hx(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new hx(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Am(new hm([])),r=new hx(n,e),i=new hx(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Am(new hm([])),n=new hx(t,e),r=new hx(t,e+1),i=Bk();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new hx(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),hx=function(){function e(t,n){Hn(this,e),this.key=t,this.Vi=n}return Yn(e,null,[{key:"yi",value:function(e,t){return Am.comparator(e.key,t.key)||rm(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return rm(e.Vi,t.Vi)||Am.comparator(e.key,t.key)}}]),e}(),dx=function(){function e(t,n){Hn(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Rk(hx.yi)}return Yn(e,[{key:"checkEmpty",value:function(e){return ow.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new gw(i,t,n,r);this.$s.push(a);var o,u=Qn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new hx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ow.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ow.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return ow.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ow.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return ow.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new hx(t,0),i=new hx(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),ow.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rk(rm);return t.forEach((function(e){var t=new hx(e,0),i=new hx(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),ow.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Am.isDocumentKey(i)||(i=i.child(""));var a=new hx(new Am(i),0),o=new Rk(rm);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),ow.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zy(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return ow.forEach(t.mutations,(function(i){var a=new hx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new hx(t,0),r=this.Si.firstAfterOrEqual(n);return ow.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,ow.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),px=function(){function e(t){Hn(this,e),this.ki=t,this.docs=new Ak(Am.comparator),this.size=0}return Yn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ow.resolve(n?n.document.mutableCopy():Jm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Jm.newInvalidDocument(e))})),ow.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Lk(),i=new Am(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||og(ig(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ow.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Vy()}},{key:"Mi",value:function(e,t){return ow.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new vx(this)}},{key:"getSize",value:function(e){return ow.resolve(this.size)}}]),e}(),vx=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).qn=e,r}return Yn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),ow.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(E_),yx=function(){function e(t){Hn(this,e),this.persistence=t,this.Oi=new Ck((function(e){return cg(e)}),lg),this.lastRemoteSnapshotVersion=um.min(),this.highestTargetId=0,this.Fi=0,this.$i=new fx,this.targetCount=0,this.Bi=h_.mn()}return Yn(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),ow.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ow.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ow.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),ow.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),ow.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new h_(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,ow.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),ow.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ow.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ow.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ow.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return ow.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),ow.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ow.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),ow.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return ow.resolve(n)}},{key:"containsKey",value:function(e,t){return ow.resolve(this.$i.containsKey(t))}}]),e}(),mx=function(){function e(t,n){var r=this;Hn(this,e),this.Li={},this.overlays={},this.ts=new em(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new yx(this),this.indexManager=new $w,this.fs=new px((function(e){return r.referenceDelegate.Ui(e)})),this.M=new _w(n),this.ds=new cx(this.M)}return Yn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new lx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new dx(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ly("MemoryPersistence","Starting transaction:",e);var i=new gx(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return ow.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),gx=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Yn(n)}(aw),kx=function(){function e(t){Hn(this,e),this.persistence=t,this.Qi=new fx,this.ji=null}return Yn(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Vy()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),ow.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),ow.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),ow.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ow.forEach(this.zi,(function(r){var i=Am.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,um.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return ow.or([function(){return ow.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function bx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function wx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _x(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xx=function(){function e(t,n,r,i){Hn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Yn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Fy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Sx=function(){function e(t,n,r){Hn(this,e),this.targetId=t,this.state=n,this.error=r}return Yn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wy(i.error.code,i.error.message))),a?new e(t,i.state,r):(Fy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ex=function(){function e(t,n){Hn(this,e),this.clientId=t,this.activeTargetIds=n}return Yn(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Wk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Cm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Fy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Tx=function(){function e(t,n){Hn(this,e),this.clientId=t,this.onlineState=n}return Yn(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Fy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ix=function(){function e(){Hn(this,e),this.activeTargetIds=Wk()}return Yn(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Cx=function(){function e(t,n,r,i,a){Hn(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ak(rm),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=bx(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ix),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Yn(e,[{key:"start",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=Qn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(bx(this.persistenceKey,i)))&&(o=Ex.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=Qn(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_x(this.persistenceKey,e));if(n){var r=Sx.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_x(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ly("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ly("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ly("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ly("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Fy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(Kr(lr().mark((function e(){var r,i,a,o,u,s,c;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=em.A;if(null!=e)try{var n=JSON.parse(e);zy("number"==typeof n),t=n}catch(e){Fy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==em.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new xx(this.currentUser,e,t,n),i=wx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=wx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=_x(this.persistenceKey,e),i=new Sx(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Ex.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xx.Ji(new Ry(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Sx.Ji(r,t)}},{key:"wr",value:function(e){return Tx.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ly("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Wk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ax=function(){function e(){Hn(this,e),this.Fr=new Ix,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Yn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Ix,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Ox=function(){function e(){Hn(this,e)}return Yn(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Nx=function(){function e(){var t=this;Hn(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return Yn(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ly("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Qn(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ly("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Qn(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Rx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Px=function(){function e(t){Hn(this,e),this.jr=t.jr,this.Wr=t.Wr}return Yn(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Dx=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Yn(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Oy;o.listenOnce(Ey.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Sy.NO_ERROR:var t=o.getResponseJson();Ly("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Sy.TIMEOUT:Ly("Connection",'RPC "'+e+'" timed out'),a(new Wy(qy.DEADLINE_EXCEEDED,"Request time out"));break;case Sy.HTTP_ERROR:var n=o.getStatus();if(Ly("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qy).indexOf(t)>=0?t:qy.UNKNOWN}(r.status);a(new Wy(u,r.message))}else a(new Wy(qy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wy(qy.UNAVAILABLE,"Connection failed."));break;default:Vy()}}finally{Ly("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_y(),a=xy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Cy({})),this.uo(o.initMessageHeaders,t,n),br()||xr()||kr().indexOf("Electron/")>=0||Sr()||kr().indexOf("MSAppHost/")>=0||_r()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ly("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Px({jr:function(e){l?Ly("Connection","Not sending because WebChannel is closed:",e):(c||(Ly("Connection","Opening WebChannel transport."),s.open(),c=!0),Ly("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ay.EventType.OPEN,(function(){l||Ly("Connection","WebChannel transport opened.")})),h(s,Ay.EventType.CLOSE,(function(){l||(l=!0,Ly("Connection","WebChannel transport closed"),f.eo())})),h(s,Ay.EventType.ERROR,(function(e){l||(l=!0,jy("Connection","WebChannel transport errored:",e),f.eo(new Wy(qy.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ay.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];zy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ly("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wk[e];if(void 0!==t)return Ik(t)}(a),u=i.message;void 0===o&&(o=qy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Wy(o,u)),s.close()}else Ly("Connection","WebChannel received:",n),f.no(n)}})),h(a,Ty.STAT_EVENT,(function(e){e.stat===Iy.PROXY?Ly("Connection","Detected buffering proxy"):e.stat===Iy.NOPROXY&&Ly("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Hn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Yn(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ly("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Ly("RestConnection","Received: ",e),e}),(function(t){throw jy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Py,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Rx[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Mx(){return"undefined"!=typeof window?window:null}function Lx(){return"undefined"!=typeof document?document:null}function Fx(e){return new nb(e,!0)}var jx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Hn(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Yn(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ly("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Ux=function(){function e(t,n,r,i,a,o,u,s){Hn(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new jx(t,n)}return Yn(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===qy.RESOURCE_EXHAUSTED?(Fy(n.toString()),Fy("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===qy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Zn(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Wy(qy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ly("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Ly("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Vx=function(e){tr(n,e);var t=or(n);function n(e,r,i,a,o,u){var s;return Hn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Yn(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(zy(void 0===t||"string"==typeof t),ym.fromBase64String(t||"")):(zy(void 0===t||t instanceof Uint8Array),ym.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?qy.UNKNOWN:Ik(e.code);return new Wy(t,e.message||"")}(o);n=new $k(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=lb(e,s.document.name),l=ob(s.document.updateTime),f=new $m({mapValue:{fields:s.document.fields}}),h=Jm.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Yk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=lb(e,v.document),m=v.readTime?ob(v.readTime):um.min(),g=Jm.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Yk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=lb(e,b.document),_=b.removedTargetIds||[];n=new Yk([],_,w,null)}else{if(!("filter"in t))return Vy();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new Ek(S),T=x.targetId;n=new Kk(T,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return um.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?um.min():t.readTime?ob(t.readTime):um.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=db(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=fg(r)?{documents:bb(e,r)}:{query:wb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ib(e,t.resumeToken):t.snapshotVersion.compareTo(um.min())>0&&(n.readTime=rb(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=db(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(Ux),zx=function(e){tr(n,e);var t=or(n);function n(e,r,i,a,o,u){var s;return Hn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return Yn(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,ia(nr(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(zy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(zy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ob(e.updateTime):ob(t);return n.isEqual(um.min())&&(n=ob(t)),new uk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ob(e.commitTime);return this.listener.Jo(n,t)}return zy(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=db(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gb(t.M,e)}))};this.Oo(n)}}]),n}(Ux),Bx=function(e){tr(n,e);var t=or(n);function n(e,r,i,a){var o;return Hn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return Yn(n,[{key:"tu",value:function(){if(this.Zo)throw new Wy(qy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Zn(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wy(qy.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Zn(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wy(qy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Yn((function e(){Hn(this,e)}))}()),qx=function(){function e(t,n){Hn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Yn(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Fy(t),this.su=!1):Ly("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Wx=Yn((function e(t,n,r,i,a){var o=this;Hn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=tS(o),!e.t0){e.next=5;break}return Ly("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=By(t)).lu.add(4),e.next=4,Yx(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Hx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new qx(r,i)}));function Hx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=Kr(lr().mark((function e(t){var n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tS(t)){e.next=18;break}n=Qn(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gx.apply(this,arguments)}function Yx(e){return Kx.apply(this,arguments)}function Kx(){return Kx=Kr(lr().mark((function e(t){var n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qn(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Kx.apply(this,arguments)}function $x(e,t){var n=By(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),eS(n)?Zx(n):OS(n).Co()&&Jx(n,t))}function Qx(e,t){var n=By(e),r=OS(n);n.hu.delete(t),r.Co()&&Xx(n,t),0===n.hu.size&&(r.Co()?r.ko():tS(n)&&n._u.set("Unknown"))}function Jx(e,t){e.wu.Z(t.targetId),OS(e).Qo(t)}function Xx(e,t){e.wu.Z(t),OS(e).jo(t)}function Zx(e){e.wu=new Jk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),OS(e).start(),e._u.iu()}function eS(e){return tS(e)&&!OS(e).Do()&&e.hu.size>0}function tS(e){return 0===By(e).lu.size}function nS(e){e.wu=void 0}function rS(e){return iS.apply(this,arguments)}function iS(){return iS=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Jx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nS(t),eS(t)?(t._u.uu(n),Zx(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e,t,n){return sS.apply(this,arguments)}function sS(){return sS=Kr(lr().mark((function e(t,n,r){var i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof $k&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Qn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ly("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,cS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Yk?t.wu.ut(n):n instanceof Kk?t.wu._t(n):t.wu.ht(n),r.isEqual(um.min())){e.next=29;break}return e.prev=14,e.next=17,K_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(ym.EMPTY_BYTE_STRING,n.snapshotVersion)),Xx(e,t);var r=new ww(n.target,t,1,n.sequenceNumber);Jx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ly("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,cS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),sS.apply(this,arguments)}function cS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=Kr(lr().mark((function e(t,n,r){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fw(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Yx(t);case 5:t._u.set("Offline"),r||(r=function(){return K_(t.localStore)}),t.asyncQueue.enqueueRetryable(Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ly("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Hx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return t().catch((function(n){return cS(e,n,t)}))}function hS(e){return dS.apply(this,arguments)}function dS(){return dS=Kr(lr().mark((function e(t){var n,r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=By(t),r=NS(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!pS(n)){e.next=19;break}return e.prev=3,e.next=6,J_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,vS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,cS(n,e.t0);case 17:e.next=2;break;case 19:yS(n)&&mS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dS.apply(this,arguments)}function pS(e){return tS(e)&&e.cu.length<10}function vS(e,t){e.cu.push(t);var n=NS(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function yS(e){return tS(e)&&!NS(e).Do()&&e.cu.length>0}function mS(e){NS(e).start()}function gS(e){return kS.apply(this,arguments)}function kS(){return kS=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:NS(t).Xo();case 1:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function bS(e){return wS.apply(this,arguments)}function wS(){return wS=Kr(lr().mark((function e(t){var n,r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=NS(t),r=Qn(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function _S(e,t,n){return xS.apply(this,arguments)}function xS(){return xS=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=kw.from(i,n,r),e.next=3,fS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,hS(t);case 5:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function SS(e,t){return ES.apply(this,arguments)}function ES(){return ES=Kr(lr().mark((function e(t,n){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&NS(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tk(i=n.code)||i===qy.ABORTED){e.next=7;break}return r=t.cu.shift(),NS(t).No(),e.next=5,fS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,hS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yS(t)&&mS(t);case 5:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function TS(e,t){return IS.apply(this,arguments)}function IS(){return IS=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=By(t)).asyncQueue.verifyOperationInProgress(),Ly("RemoteStore","RemoteStore received new credentials"),i=tS(r),r.lu.add(3),e.next=6,Yx(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Hx(r);case 12:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=By(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Hx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Yx(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function OS(e){return e.mu||(e.mu=function(e,t,n){var r=By(e);return r.tu(),new Vx(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:rS.bind(null,e),Jr:aS.bind(null,e),Ko:uS.bind(null,e)}),e.fu.push(function(){var t=Kr(lr().mark((function t(n){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),eS(e)?Zx(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:nS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function NS(e){return e.gu||(e.gu=function(e,t,n){var r=By(e);return r.tu(),new zx(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:gS.bind(null,e),Jr:SS.bind(null,e),Yo:bS.bind(null,e),Jo:_S.bind(null,e)}),e.fu.push(function(){var t=Kr(lr().mark((function t(n){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,hS(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Ly("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var RS=function(){function e(t,n,r,i,a){Hn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Yn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wy(qy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function PS(e,t){if(Fy("AsyncQueue","".concat(t,": ").concat(e)),fw(e))return new Wy(qy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DS=function(){function e(t){Hn(this,e),this.comparator=t?function(e,n){return t(e,n)||Am.comparator(e.key,n.key)}:function(e,t){return Am.comparator(e.key,t.key)},this.keyedMap=jk(),this.sortedSet=new Ak(this.comparator)}return Yn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),MS=function(){function e(){Hn(this,e),this.yu=new Ak(Am.comparator)}return Yn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Vy():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),LS=function(){function e(t,n,r,i,a,o,u,s){Hn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Yn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,DS.emptySet(n),a,r,i,!0,!1)}}]),e}(),FS=Yn((function e(){Hn(this,e),this.Iu=void 0,this.listeners=[]})),jS=Yn((function e(){Hn(this,e),this.queries=new Ck((function(e){return Ug(e)}),jg),this.onlineState="Unknown",this.Tu=new Set}));function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=Kr(lr().mark((function e(t,n){var r,i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=By(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new FS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=PS(e.t0,"Initialization of query '".concat(Vg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&HS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),VS.apply(this,arguments)}function zS(e,t){return BS.apply(this,arguments)}function BS(){return BS=Kr(lr().mark((function e(t,n){var r,i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=By(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t){var n,r=By(e),i=!1,a=Qn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Qn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&HS(r)}function WS(e,t,n){var r=By(e),i=r.queries.get(t);if(i){var a,o=Qn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function HS(e){e.Tu.forEach((function(e){e.next()}))}var GS=function(){function e(t,n,r){Hn(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Yn(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Qn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new LS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=LS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),YS=function(){function e(t,n){Hn(this,e),this.payload=t,this.byteLength=n}return Yn(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),KS=function(){function e(t){Hn(this,e),this.M=t}return Yn(e,[{key:"li",value:function(e){return lb(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?yb(this.M,e.document,!1):Jm.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return ob(e)}}]),e}(),$S=function(){function e(t,n,r){Hn(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QS(t)}return Yn(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=hm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new KS(this.M),i=Qn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=Qn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Bk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ax(this.localStore,new KS(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Qn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ux(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function QS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var JS=Yn((function e(t){Hn(this,e),this.key=t})),XS=Yn((function e(t){Hn(this,e),this.key=t})),ZS=function(){function e(t,n){Hn(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Bk(),this.mutatedKeys=Bk(),this.Lu=qg(t),this.Uu=new DS(this.Lu)}return Yn(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new MS,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Og(this.query)&&i.size===this.query.limit?i.last():null,c=Ng(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=zg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Og(this.query)||Ng(this.query))for(;o.size>this.query.limit;){var l=Og(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vy()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new LS(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new MS,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Bk(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new XS(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new JS(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=Bk();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return LS.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),eE=Yn((function e(t,n,r){Hn(this,e),this.query=t,this.targetId=n,this.view=r})),tE=Yn((function e(t){Hn(this,e),this.key=t,this.Xu=!1})),nE=function(){function e(t,n,r,i,a,o){Hn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Ck((function(e){return Ug(e)}),jg),this.ea=new Map,this.na=new Set,this.sa=new Ak(Am.comparator),this.ia=new Map,this.ra=new fx,this.oa={},this.ua=new Map,this.aa=h_.gn(),this.onlineState="Unknown",this.ca=void 0}return Yn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QE(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,X_(r.localStore,Lg(n));case 8:return u=e.sent,r.isPrimaryClient&&$x(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,aE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t,n,r){return oE.apply(this,arguments)}function oE(){return oE=Kr(lr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=Kr(lr().mark((function e(t,n,r,i){var a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,tx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(TE(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,tx(t.localStore,n,!0);case 3:return a=e.sent,o=new ZS(n,a.hi),u=o.Gu(a.documents),s=Gk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),TE(t,r,c.zu),l=new eE(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return sE=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=By(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!jg(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Z_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Qx(r.remoteStore,i.targetId),SE(r,i.targetId)})).catch(m_);case 9:e.next=14;break;case 11:return SE(r,i.targetId),e.next=14,Z_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t,n){return lE.apply(this,arguments)}function lE(){return lE=Kr(lr().mark((function e(t,n,r){var i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JE(t),e.prev=1,e.next=4,function(e,t){var n,r=By(e),i=om.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=Qn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=dk(c,n.get(c.key));null!=l&&u.push(new mk(c.key,l,Qm(l.value.mapValue),sk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new Ak(rm)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,AE(i,a.changes);case 9:return e.next=11,hS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=PS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),e.prev=1,e.next=4,$_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(zy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?zy(n.Xu):e.removedDocuments.size>0&&(zy(n.Xu),n.Xu=!1))})),e.next=8,AE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,m_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),hE.apply(this,arguments)}function dE(e,t,n){var r=By(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=By(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Qn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&HS(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pE(e,t,n){return vE.apply(this,arguments)}function vE(){return vE=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s,c;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=By(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ak(Am.comparator)).insert(o,Jm.newNoDocument(o,um.min())),s=Bk().add(o),c=new Hk(um.min(),new Map,new Rk(rm),u,s),e.next=9,fE(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),CE(i),e.next=16;break;case 14:return e.next=16,Z_(i.localStore,n,!1).then((function(){return SE(i,n,r)})).catch(m_);case 16:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function yE(e,t){return mE.apply(this,arguments)}function mE(){return mE=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),i=n.batch.batchId,e.prev=1,e.next=4,Y_(r.localStore,n);case 4:return a=e.sent,xE(r,i,null),_E(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,AE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,m_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mE.apply(this,arguments)}function gE(e,t,n){return kE.apply(this,arguments)}function kE(){return kE=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=By(t),e.prev=1,e.next=4,function(e,t){var n=By(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return zy(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xE(i,n,r),_E(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,AE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,m_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),kE.apply(this,arguments)}function bE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tS((r=By(t)).remoteStore)||Ly("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=By(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=PS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),wE.apply(this,arguments)}function _E(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function xE(e,t,n){var r=By(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function SE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Qn(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||EE(e,t)}))}function EE(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(Qx(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),CE(e))}function TE(e,t,n){var r,i=Qn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof JS?(e.ra.addReference(a.key,t),IE(e,a)):a instanceof XS?(Ly("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||EE(e,a.key)):Vy()}}catch(o){i.e(o)}finally{i.f()}}function IE(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Ly("SyncEngine","New document in limbo: "+n),e.na.add(r),CE(e))}function CE(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Am(hm.fromString(t)),r=e.aa.next();e.ia.set(r,new tE(n)),e.sa=e.sa.insert(n,r),$x(e.remoteStore,new ww(Lg(Ag(n.path)),r,2,em.A))}}function AE(e,t,n){return OE.apply(this,arguments)}function OE(){return OE=Kr(lr().mark((function e(t,n,r){var i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=By(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=z_.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ow.forEach(n,(function(t){return ow.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ow.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),fw(e.t0)){e.next=10;break}throw e.t0;case 10:Ly("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Qn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function NE(e,t){return RE.apply(this,arguments)}function RE(){return RE=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=By(t)).currentUser.isEqual(n)){e.next=11;break}return Ly("SyncEngine","User change. New user:",n.toKey()),e.next=5,H_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Wy(qy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,AE(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function PE(e,t){var n=By(e),r=n.ia.get(t);if(r&&r.Xu)return Bk().add(r.key);var i=Bk(),a=n.ea.get(t);if(!a)return i;var o,u=Qn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function DE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),e.next=3,tx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&TE(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function LE(e,t){return FE.apply(this,arguments)}function FE(){return FE=Kr(lr().mark((function e(t,n){var r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),e.abrupt("return",rx(r.localStore,n).then((function(e){return AE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function jE(e,t,n,r){return UE.apply(this,arguments)}function UE(){return UE=Kr(lr().mark((function e(t,n,r,i){var a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=By(t),e.next=3,function(e,t){var n=By(e),r=By(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):ow.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,hS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(xE(a,n,i||null),_E(a,n),function(e,t){By(By(e).$s).dn(t)}(a.localStore,n)):Vy();case 11:return e.next=13,AE(a,o);case 13:e.next=16;break;case 15:Ly("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t){return zE.apply(this,arguments)}function zE(){return zE=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QE(r=By(t)),JE(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,BE(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,CS(r.remoteStore,!0);case 9:o=Qn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,$x(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return SE(r,t),Z_(r.localStore,t,!0)})),Qx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,BE(r,c);case 21:return function(e){var t=By(e);t.ia.forEach((function(e,n){Qx(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new Ak(Am.comparator)}(r),r.ca=!1,e.next=25,CS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=By(t),a=[],o=[],u=Qn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,X_(i.localStore,Lg(f[0]));case 11:l=e.sent,h=Qn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,DE(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,nx(i.localStore,c);case 36:return m=e.sent,e.next=39,X_(i.localStore,m);case 39:return l=e.sent,e.next=42,aE(i,WE(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),qE.apply(this,arguments)}function WE(e){return Cg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HE(e){var t=By(e);return By(By(t.localStore).persistence).Os()}function GE(e,t,n,r){return YE.apply(this,arguments)}function YE(){return YE=Kr(lr().mark((function e(t,n,r,i){var a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=By(t)).ca){e.next=3;break}return e.abrupt("return",void Ly("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,rx(a.localStore,Bg(o[0]));case 10:return u=e.sent,s=Hk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,AE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Z_(a.localStore,n,!0);case 17:return SE(a,n,i),e.abrupt("break",20);case 19:Vy();case 20:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function KE(e,t,n){return $E.apply(this,arguments)}function $E(){return $E=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=QE(t)).ca){e.next=45;break}a=Qn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Ly("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,nx(i.localStore,u);case 12:return s=e.sent,e.next=15,X_(i.localStore,s);case 15:return c=e.sent,e.next=18,aE(i,WE(s),c.targetId,!1);case 18:$x(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Qn(r),e.prev=30,h=lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,Z_(i.localStore,t,!1).then((function(){Qx(i.remoteStore,t),SE(i,t)})).catch(m_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$E.apply(this,arguments)}function QE(e){var t=By(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pE.bind(null,t),t.Zu.Ko=qS.bind(null,t.eventManager),t.Zu.la=WS.bind(null,t.eventManager),t}function JE(e){var t=By(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gE.bind(null,t),t}function XE(e,t,n){var r=By(e);(function(){var e=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=By(e),r=ob(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(QS(i)),a=new $S(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,AE(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=By(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(jy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ZE=function(){function e(){Hn(this,e),this.synchronizeTabs=!1}return Yn(e,[{key:"initialize",value:function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Fx(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return W_(this.persistence,new B_,e.initialUser,this.M)}},{key:"_a",value:function(e){return new mx(kx.Wi,this.M)}},{key:"da",value:function(e){return new Ax}},{key:"terminate",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eT=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Yn(n,[{key:"initialize",value:function(){var e=Kr(lr().mark((function e(t){var r=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(nr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,JE(this.ga.syncEngine);case 6:return e.next=8,hS(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return W_(this.persistence,new B_,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new w_(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=U_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?i_.withCacheSize(this.cacheSizeBytes):i_.DEFAULT;return new L_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mx(),Lx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new Ax}}]),n}(ZE),tT=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Yn(n,[{key:"initialize",value:function(){var e=Kr(lr().mark((function e(t){var r,i=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(nr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof Cx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:jE.bind(null,r),Mr:GE.bind(null,r),Or:KE.bind(null,r),Os:HE.bind(null,r),Nr:LE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VE(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=Mx();if(!Cx.vt(t))throw new Wy(qy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=U_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(eT),nT=function(){function e(){Hn(this,e)}return Yn(e,[{key:"initialize",value:function(){var e=Kr(lr().mark((function e(t,n){var r=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=NE.bind(null,this.syncEngine),e.next=12,CS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jS}},{key:"createDatastore",value:function(e){var t,n=Fx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Dx(t));return function(e,t,n,r){return new Bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dE(o.syncEngine,e,0)},a=Nx.vt()?new Nx:new Ox,new Wx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new nE(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=By(t),Ly("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Yx(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function rT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Kr(lr().mark((function r(){var i;return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var iT=function(){function e(t){Hn(this,e),this.observer=t,this.muted=!1}return Yn(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),aT=function(){function e(t,n){var r=this;Hn(this,e),this.Ia=t,this.M=n,this.metadata=new Hy,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Yn(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=Kr(lr().mark((function e(){var t,n,r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new YS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=Kr(lr().mark((function e(){var t,n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=Kr(lr().mark((function e(){var t,n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oT=function(){function e(t){Hn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Yn(e,[{key:"lookup",value:function(){var e=Kr(lr().mark((function e(t){var n,r=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wy(qy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),i=db(r.M)+"/documents",a={documents:n.map((function(e){return cb(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=mb(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());zy(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new xk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Kr(lr().mark((function e(){var t,n=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Am.fromPath(t);n.mutations.push(new Sk(r,n.precondition(r)))})),e.next=7,function(){var e=Kr(lr().mark((function e(t,n){var r,i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=By(t),i=db(r.M)+"/documents",a={writes:n.map((function(e){return gb(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vy();t=um.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wy(qy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sk.updateTime(t):sk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(um.min()))throw new Wy(qy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sk.updateTime(t)}return sk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),uT=function(){function e(t,n,r,i){Hn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new jx(this.asyncQueue,"transaction_retry")}return Yn(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(Kr(lr().mark((function t(){var n,r;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new oT(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Tm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tk(t)}return!1}}]),e}(),sT=function(){function e(t,n,r,i){var a=this;Hn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ry.UNAUTHENTICATED,this.clientId=nm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ly("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ly("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Yn(e,[{key:"getConfiguration",value:function(){var e=Kr(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wy(qy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Kr(lr().mark((function n(){var r;return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=PS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ly("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,H_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t){return hT.apply(this,arguments)}function hT(){return hT=Kr(lr().mark((function e(t,n){var r,i;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,dT(t);case 3:return r=e.sent,Ly("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return TS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return TS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e){return pT.apply(this,arguments)}function pT(){return pT=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ly("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,cT(t,new ZE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(e){return yT.apply(this,arguments)}function yT(){return yT=Kr(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ly("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,fT(t,new nT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function mT(e){return dT(e).then((function(e){return e.persistence}))}function gT(e){return dT(e).then((function(e){return e.localStore}))}function kT(e){return vT(e).then((function(e){return e.remoteStore}))}function bT(e){return vT(e).then((function(e){return e.syncEngine}))}function wT(e){return _T.apply(this,arguments)}function _T(){return _T=Kr(lr().mark((function e(t){var n,r;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=rE.bind(null,n.syncEngine),r.onUnlisten=uE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function xT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function i(){return lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iT({next:function(a){t.enqueueAndForget((function(){return zS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Wy(qy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Wy(qy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new GS(Ag(n.path),a,{includeMetadataChanges:!0,Du:!0});return US(e,o)},i.next=3,wT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ST(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function i(){return lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iT({next:function(n){t.enqueueAndForget((function(){return zS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wy(qy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new GS(n,a,{includeMetadataChanges:!0,Du:!0});return US(e,o)},i.next=3,wT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ET=new Map;function TT(e,t,n){if(!n)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function IT(e,t,n,r){if(!0===t&&!0===r)throw new Wy(qy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function CT(e){if(!Am.isDocumentKey(e))throw new Wy(qy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function AT(e){if(Am.isDocumentKey(e))throw new Wy(qy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function OT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Vy()}function NT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wy(qy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=OT(e);throw new Wy(qy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function RT(e,t){if(t<=0)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var PT=function(){function e(t){var n;if(Hn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wy(qy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wy(qy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,IT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Yn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),DT=function(){function e(t,n,r){Hn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,t instanceof Em?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wy(qy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Em(e.options.projectId)}(t))}return Yn(e,[{key:"app",get:function(){if(!this._app)throw new Wy(qy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wy(qy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yy;switch(e.type){case"gapi":var t=e.client;return zy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wy(qy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ET.get(e);t&&(Ly("ComponentProvider","Removing Datastore"),ET.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function MT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=NT(e,DT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ry.MOCK_USER;else{o=gr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wy(qy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ry(s)}e._authCredentials=new Ky(new Gy(o,u))}}var LT=function(){function e(t,n,r){Hn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Yn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new jT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),FT=function(){function e(t,n,r){Hn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Yn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),jT=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this,e,r,Ag(i)))._path=i,a.type="collection",a}return Yn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LT(this.firestore,null,new Am(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(FT);function UT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),TT("collection","path",t),e instanceof DT){var a=hm.fromString.apply(hm,[t].concat(r));return AT(a),new jT(e,null,a)}if(!(e instanceof LT||e instanceof jT))throw new Wy(qy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hm.fromString.apply(hm,[t].concat(r)));return AT(o),new jT(e.firestore,null,o)}function VT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ur(e),1===arguments.length&&(t=nm.R()),TT("doc","path",t),e instanceof DT){var a=hm.fromString.apply(hm,[t].concat(r));return CT(a),new LT(e,null,new Am(a))}if(!(e instanceof LT||e instanceof jT))throw new Wy(qy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hm.fromString.apply(hm,[t].concat(r)));return CT(o),new LT(e.firestore,e instanceof jT?e.converter:null,new Am(o))}function zT(e,t){return e=Ur(e),t=Ur(t),(e instanceof LT||e instanceof jT)&&(t instanceof LT||t instanceof jT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BT(e,t){return e=Ur(e),t=Ur(t),e instanceof FT&&t instanceof FT&&e.firestore===t.firestore&&jg(e._query,t._query)&&e.converter===t.converter}var qT=function(){function e(){var t=this;Hn(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new jx(this,"async_queue_retry"),this.Ua=function(){var e=Lx();e&&Ly("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Lx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return Yn(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=Lx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Hy;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=Kr(lr().mark((function e(){var t=this;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),fw(e.t0)){e.next=12;break}throw e.t0;case 12:Ly("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=RS.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Vy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=Kr(lr().mark((function e(){var t;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=Qn(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Qn(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function WT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Qn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HT=function(){function e(){Hn(this,e),this._progressObserver={},this._taskCompletionResolver=new Hy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Yn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),GT=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new qT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Yn(n,[{key:"_terminate",value:function(){return this._firestoreClient||KT(this),this._firestoreClient.terminate()}}]),n}(DT);function YT(e){return e._firestoreClient||KT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function KT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Sm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function $T(e,t,n){var r=new Hy;return e.asyncQueue.enqueue(Kr(lr().mark((function i(){return lr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cT(e,n);case 3:return i.next=5,fT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===qy.FAILED_PRECONDITION||e.code===qy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function QT(e){return function(e){return e.asyncQueue.enqueue(Kr(lr().mark((function t(){var n,r;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mT(e);case 2:return n=t.sent,t.next=5,kT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=By(e);return t.lu.delete(0),Hx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(YT(e=NT(e,GT)))}function JT(e){return function(e){return e.asyncQueue.enqueue(Kr(lr().mark((function t(){var n,r;return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mT(e);case 2:return n=t.sent,t.next=5,kT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=By(t)).lu.add(0),e.next=4,Yx(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(YT(e=NT(e,GT)))}function XT(e,t){var n=YT(e=NT(e,GT)),r=new HT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new aT(e,t)}(function(e,t){if(e instanceof Uint8Array)return rT(e,t);if(e instanceof ArrayBuffer)return rT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Fx(t));e.asyncQueue.enqueueAndForget(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XE,t.next=3,bT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ZT(e,t){return function(e,t){return e.asyncQueue.enqueue(Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=By(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,gT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(YT(e=NT(e,GT)),t).then((function(t){return t?new FT(e,null,t.query):null}))}function eI(e){if(e._initialized||e._terminated)throw new Wy(qy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var tI=function(){function e(){Hn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pm(n)}return Yn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nI=function(){function e(t){Hn(this,e),this._byteString=t}return Yn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ym.fromBase64String(t))}catch(t){throw new Wy(qy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ym.fromUint8Array(t))}}]),e}(),rI=Yn((function e(t){Hn(this,e),this._methodName=t})),iI=function(){function e(t,n){if(Hn(this,e),!isFinite(t)||t<-90||t>90)throw new Wy(qy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wy(qy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Yn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return rm(this._lat,e._lat)||rm(this._long,e._long)}}]),e}(),aI=/^__.*__$/,oI=function(){function e(t,n,r){Hn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mk(e,this.data,this.fieldMask,t,this.fieldTransforms):new yk(e,this.data,t,this.fieldTransforms)}}]),e}(),uI=function(){function e(t,n,r){Hn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Yn(e,[{key:"toMutation",value:function(e,t){return new mk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vy()}}var cI=function(){function e(t,n,r,i,a,o){Hn(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Yn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return AI(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(sI(this.Ya)&&aI.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),lI=function(){function e(t,n,r){Hn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Fx(t)}return Yn(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new cI({Ya:e,methodName:t,oc:n,path:pm.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function fI(e){var t=e._freezeSettings(),n=Fx(e._databaseId);return new lI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);EI("Data must be an object, but it was:",o,r);var u,s,c=xI(r,o);if(a.merge)u=new vm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Qn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=TI(t,d,n);if(!o.contains(p))throw new Wy(qy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));OI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new vm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new oI(new $m(c),u,s)}var dI=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rI);function pI(e,t,n){return new cI({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var vI=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"_toFieldTransform",value:function(e){return new ok(e.path,new Xg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(rI),yI=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e)).ac=r,i}return Yn(n,[{key:"_toFieldTransform",value:function(e){var t=pI(this,e,!0),n=this.ac.map((function(e){return _I(e,t)})),r=new Zg(n);return new ok(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rI),mI=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e)).ac=r,i}return Yn(n,[{key:"_toFieldTransform",value:function(e){var t=pI(this,e,!0),n=this.ac.map((function(e){return _I(e,t)})),r=new tk(n);return new ok(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rI),gI=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e)).cc=r,i}return Yn(n,[{key:"_toFieldTransform",value:function(e){var t=new rk(e.M,Yg(e.M,this.cc));return new ok(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(rI);function kI(e,t,n,r){var i=e.uc(1,t,n);EI("Data must be an object, but it was:",i,r);var a=[],o=$m.empty();cm(r,(function(e,r){var u=CI(t,e,n);r=Ur(r);var s=i.nc(u);if(r instanceof dI)a.push(u);else{var c=_I(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new vm(a);return new uI(o,u,i.fieldTransforms)}function bI(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[TI(t,r,n)],s=[i];if(a.length%2!=0)throw new Wy(qy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(TI(t,a[c])),s.push(a[c+1]);for(var l=[],f=$m.empty(),h=u.length-1;h>=0;--h)if(!OI(l,u[h])){var d=u[h],p=s[h];p=Ur(p);var v=o.nc(d);if(p instanceof dI)l.push(d);else{var y=_I(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new vm(l);return new uI(f,m,o.fieldTransforms)}function wI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _I(n,e.uc(r?4:3,t))}function _I(e,t){if(SI(e=Ur(e)))return EI("Unsupported field value:",t,e),xI(e,t);if(e instanceof rI)return function(e,t){if(!sI(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Qn(e);try{for(a.s();!(n=a.n()).done;){var o=_I(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ur(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yg(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=om.fromDate(e);return{timestampValue:rb(t.M,n)}}if(e instanceof om){var r=new om(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rb(t.M,r)}}if(e instanceof iI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nI)return{bytesValue:ib(t.M,e._byteString)};if(e instanceof LT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ub(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(OT(e)))}(e,t)}function xI(e,t){var n={};return lm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cm(e,(function(e,r){var i=_I(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function SI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof om||e instanceof iI||e instanceof nI||e instanceof LT||e instanceof rI)}function EI(e,t,n){if(!SI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=OT(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function TI(e,t,n){if((t=Ur(t))instanceof tI)return t._internalPath;if("string"==typeof t)return CI(e,t);throw AI("Field path arguments must be of type string or ",e,!1,void 0,n)}var II=new RegExp("[~\\*/\\[\\]]");function CI(e,t,n){if(t.search(II)>=0)throw AI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ur(tI,Gr(t.split(".")))._internalPath}catch(r){throw AI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Wy(qy.INVALID_ARGUMENT,u+e+s)}function OI(e,t){return e.some((function(e){return e.isEqual(t)}))}var NI=function(){function e(t,n,r,i,a){Hn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Yn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RI=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"data",value:function(){return ia(nr(n.prototype),"data",this).call(this)}}]),n}(NI);function PI(e,t){return"string"==typeof t?CI(e,t):t instanceof tI?t._internalPath:t._delegate._internalPath}var DI=function(){function e(t,n){Hn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Yn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),MI=function(e){tr(n,e);var t=or(n);function n(e,r,i,a,o,u){var s;return Hn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Yn(n,[{key:"exists",value:function(){return ia(nr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new LI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(NI),LI=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(nr(n.prototype),"data",this).call(this,e)}}]),n}(MI),FI=function(){function e(t,n,r,i){Hn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DI(i.hasPendingWrites,i.fromCache),this.query=r}return Yn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new LI(n._firestore,n._userDataWriter,r.key,r,new DI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wy(qy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new LI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new LI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function jI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vy()}}function UI(e,t){return e instanceof MI&&t instanceof MI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof FI&&t instanceof FI&&e._firestore===t._firestore&&BT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function VI(e){if(Ng(e)&&0===e.explicitOrderBy.length)throw new Wy(qy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zI=Yn((function e(){Hn(this,e)}));function BI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var qI=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return Yn(n,[{key:"_apply",value:function(e){var t=fI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wy(qy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){eC(o,a);var s,c=[],l=Qn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ZI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ZI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||eC(o,a),u=wI(n,"where",o,"in"===a||"not-in"===a);var h=dg.create(i,a,u);return function(e,t){if(t.S()){var n=Pg(e);if(null!==n&&!n.isEqual(t.field))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Rg(e);null!==r&&tC(e,t.field,r)}var i=function(e,t){var n,r=Qn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Wy(qy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wy(qy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new FT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(zI);var WI=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return Yn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xg(t,n);return function(e,t){if(null===Rg(e)){var n=Pg(e);null!==n&&tC(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new FT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ig(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(zI);var HI=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return Yn(n,[{key:"_apply",value:function(e){return new FT(e.firestore,e.converter,Fg(e._query,this._c,this.wc))}}]),n}(zI);var GI=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Yn(n,[{key:"_apply",value:function(e){var t=XI(e,this.type,this.mc,this.gc);return new FT(e.firestore,e.converter,function(e,t){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(zI);function YI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GI("startAt",t,!0)}function KI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GI("startAfter",t,!1)}var $I=function(e){tr(n,e);var t=or(n);function n(e,r,i){var a;return Hn(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Yn(n,[{key:"_apply",value:function(e){var t=XI(e,this.type,this.mc,this.gc);return new FT(e.firestore,e.converter,function(e,t){return new Ig(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(zI);function QI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $I("endBefore",t,!1)}function JI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $I("endAt",t,!0)}function XI(e,t,n,r){if(n[0]=Ur(n[0]),n[0]instanceof NI)return function(e,t,n,r,i){if(!r)throw new Wy(qy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Qn(Mg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Um(t,r.key));else{var c=r.data.field(s.field);if(wm(c))throw new Wy(qy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _g(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=fI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wy(qy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dg(e)&&-1!==c.indexOf("/"))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(hm.fromString(c));if(!Am.isDocumentKey(l))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Am(l);u.push(Um(t,f))}else{var h=wI(n,r,c);u.push(h)}}return new _g(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ZI(e,t,n){if("string"==typeof(n=Ur(n))){if(""===n)throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dg(t)&&-1!==n.indexOf("/"))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(hm.fromString(n));if(!Am.isDocumentKey(r))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Um(e,new Am(r))}if(n instanceof LT)return Um(e,n._key);throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(OT(n),"."))}function eC(e,t){if(!Array.isArray(e)||0===e.length)throw new Wy(qy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wy(qy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function tC(e,t,n){if(!n.isEqual(t))throw new Wy(qy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var nC=function(){function e(){Hn(this,e)}return Yn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Rm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return km(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return cm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new iI(km(e.latitude),km(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_m(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gm(e);return new om(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=hm.fromString(e);zy(Nb(n));var r=new Em(n.get(1),n.get(3)),i=new Am(n.popFirst(5));return r.isEqual(t)||Fy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function rC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iC=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).firestore=e,r}return Yn(n,[{key:"convertBytes",value:function(e){return new nI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}]),n}(nC),aC=function(){function e(t,n){Hn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=fI(t)}return Yn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=oC(e,this._firestore),i=rC(r.converter,t,n),a=hI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=oC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ur(t))||t instanceof tI?bI(this._dataReader,"WriteBatch.update",i._key,t,n,o):kI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=oC(e,this._firestore);return this._mutations=this._mutations.concat(new xk(t._key,sk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wy(qy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function oC(e,t){if((e=Ur(e)).firestore!==t)throw new Wy(qy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var uC=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).firestore=e,r}return Yn(n,[{key:"convertBytes",value:function(e){return new nI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}]),n}(nC);function sC(e){e=NT(e,LT);var t=NT(e.firestore,GT),n=YT(t),r=new uC(t);return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function r(){return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Kr(lr().mark((function e(t,n,r){var i,a;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=By(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wy(qy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=PS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new MI(t,r,e._key,n,new DI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function cC(e){e=NT(e,FT);var t=NT(e.firestore,GT),n=YT(t),r=new uC(t);return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function r(){return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Kr(lr().mark((function e(t,n,r){var i,a,o,u,s;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tx(t,n,!0);case 3:i=e.sent,a=new ZS(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=PS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,gT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new FI(t,r,e,n)}))}function lC(e,t,n){e=NT(e,LT);var r=NT(e.firestore,GT),i=rC(e.converter,t,n);return pC(r,[hI(fI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sk.none())])}function fC(e,t,n){e=NT(e,LT);for(var r=NT(e.firestore,GT),i=fI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return pC(r,[("string"==typeof(t=Ur(t))||t instanceof tI?bI(i,"updateDoc",e._key,t,n,o):kI(i,"updateDoc",e._key,t)).toMutation(e._key,sk.exists(!0))])}function hC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ur(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||WT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(WT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof LT)l=NT(e.firestore,GT),f=Ag(e._key.path),c={next:function(t){n[s]&&n[s](vC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=NT(e,FT);l=NT(p.firestore,GT),f=p._query;var v=new uC(l);c={next:function(e){n[s]&&n[s](new FI(l,v,p,e))},error:n[s+1],complete:n[s+2]},VI(e._query)}return function(e,t,n,r){var i=new iT(r),a=new GS(t,i,n);return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=US,t.next=3,wT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zS,t.next=3,wT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(YT(l),f,h,c)}function dC(e,t){return function(e,t){var n=new iT(t);return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){By(e).Tu.add(t),t.next()},t.next=3,wT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(Kr(lr().mark((function t(){return lr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){By(e).Tu.delete(t)},t.next=3,wT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(YT(e=NT(e,GT)),WT(t)?t:{next:t})}function pC(e,t){return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function r(){return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=cE,r.next=3,bT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(YT(e),t)}function vC(e,t,n){var r=n.docs.get(t._key),i=new uC(e);return new MI(e,i,t._key,r,new DI(n.hasPendingWrites,n.fromCache),t.converter)}var yC=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Yn(n,[{key:"get",value:function(e){var t=this,r=oC(e,this._firestore),i=new uC(this._firestore);return ia(nr(n.prototype),"get",this).call(this,e).then((function(e){return new MI(t._firestore,i,r._key,e._document,new DI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Hn(this,e),this._firestore=t,this._transaction=n,this._dataReader=fI(t)}return Yn(e,[{key:"get",value:function(e){var t=this,n=oC(e,this._firestore),r=new iC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vy();var i=e[0];if(i.isFoundDocument())return new NI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new NI(t._firestore,r,n._key,null,n.converter);throw Vy()}))}},{key:"set",value:function(e,t,n){var r=oC(e,this._firestore),i=rC(r.converter,t,n),a=hI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=oC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ur(t))||t instanceof tI?bI(this._dataReader,"Transaction.update",i._key,t,n,o):kI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=oC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mC(e,t){return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function r(){var i;return lr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return vT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new uT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(YT(e=NT(e,GT)),(function(n){return t(new yC(e,n))}))}function gC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yI("arrayUnion",t)}function kC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Py=e}(Ti),ki(new $r("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new GT(i,new $y(e.getProvider("auth-internal")),new Zy(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ri(Ny,"3.4.7",e),Ri(Ny,"3.4.7","esm2017")}();function bC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wC(){if("undefined"===typeof Uint8Array)throw new Wy("unimplemented","Uint8Arrays are not available in this environment.")}function _C(){if("undefined"==typeof atob)throw new Wy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xC=function(){function e(t){Hn(this,e),this._delegate=t}return Yn(e,[{key:"toBase64",value:function(){return _C(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return wC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _C(),new e(nI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return wC(),new e(nI.fromUint8Array(t))}}]),e}();function SC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Qn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var EC=function(){function e(){Hn(this,e)}return Yn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){eI(e=NT(e,GT));var n=YT(e),r=e._freezeSettings(),i=new nT;return $T(n,i,new eT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){eI(e=NT(e,GT));var t=YT(e),n=e._freezeSettings(),r=new nT;return $T(t,r,new tT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wy(qy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Hy;return e._queue.enqueueAndForgetEvenWhileRestricted(Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Kr(lr().mark((function e(t){var n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sw.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,sw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(U_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),TC=function(){function e(t,n,r){var i=this;Hn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Em||(this._appCompat=t)}return Yn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QT(this._delegate)}},{key:"disableNetwork",value:function(){return JT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&IT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Hy;return e.asyncQueue.enqueueAndForget(Kr(lr().mark((function n(){return lr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bE,n.next=3,bT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(YT(e=NT(e,GT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return dC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new VC(this,UT(this._delegate,e))}catch(t){throw RC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new NC(this,VT(this._delegate,e))}catch(t){throw RC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new FC(this,function(e,t){if(e=NT(e,DT),TT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wy(qy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new FT(e,null,function(e){return new Ig(hm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return mC(this._delegate,(function(n){return e(new CC(t,n))}))}},{key:"batch",value:function(){var e=this;return YT(this._delegate),new AC(new aC(this._delegate,(function(t){return pC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return XT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ZT(this._delegate,e).then((function(e){return e?new FC(t,e):null}))}}]),e}(),IC=function(e){tr(n,e);var t=or(n);function n(e){var r;return Hn(this,n),(r=t.call(this)).firestore=e,r}return Yn(n,[{key:"convertBytes",value:function(e){return new xC(new nI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return NC.forKey(t,this.firestore,null)}}]),n}(nC);var CC=function(){function e(t,n){Hn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new IC(t)}return Yn(e,[{key:"get",value:function(e){var t=this,n=zC(e);return this._delegate.get(n).then((function(e){return new MC(t._firestore,new MI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zC(e);return n?(bC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zC(e);return this._delegate.delete(t),this}}]),e}(),AC=function(){function e(t){Hn(this,e),this._delegate=t}return Yn(e,[{key:"set",value:function(e,t,n){var r=zC(e);return n?(bC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),OC=function(){function e(t,n,r){Hn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Yn(e,[{key:"fromFirestore",value:function(e,t){var n=new LI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new IC(t),n),i.set(n,a)),a}}]),e}();OC.INSTANCES=new WeakMap;var NC=function(){function e(t,n){Hn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IC(t)}return Yn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new VC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new VC(this.firestore,UT(this._delegate,e))}catch(t){throw RC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ur(e))instanceof LT&&zT(this._delegate,e)}},{key:"set",value:function(e,t){t=bC("DocumentReference.set",t);try{return t?lC(this._delegate,e,t):lC(this._delegate,e)}catch(n){throw RC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?fC(this._delegate,e):fC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return pC(NT(e.firestore,GT),[new xk(e._key,sk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PC(n),a=DC(n,(function(t){return new MC(e.firestore,new MI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return hC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NT(e,LT);var t=NT(e.firestore,GT);return xT(YT(t),e._key,{source:"server"}).then((function(n){return vC(t,e,n)}))}(this._delegate):function(e){e=NT(e,LT);var t=NT(e.firestore,GT);return xT(YT(t),e._key).then((function(n){return vC(t,e,n)}))}(this._delegate),t.then((function(e){return new MC(n.firestore,new MI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LT(n._delegate,r,new Am(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LT(n._delegate,r,t))}}]),e}();function RC(e,t,n){return e.message=e.message.replace(t,n),e}function PC(e){var t,n=Qn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!SC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function DC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=SC(e[0])?e[0]:SC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var MC=function(){function e(t,n){Hn(this,e),this._firestore=t,this._delegate=n}return Yn(e,[{key:"ref",get:function(){return new NC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return UI(this._delegate,e._delegate)}}]),e}(),LC=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Vy()}(void 0!==t),t}}]),n}(MC),FC=function(){function e(t,n){Hn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new IC(t)}return Yn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BI(this._delegate,function(e,t,n){var r=t,i=PI("where",e);return new qI(i,r,n)}(t,n,r)))}catch(i){throw RC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=PI("orderBy",e);return new WI(n,t)}(t,n)))}catch(r){throw RC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BI(this._delegate,function(e){return RT("limit",e),new HI("limit",e,"F")}(t)))}catch(n){throw RC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BI(this._delegate,function(e){return RT("limitToLast",e),new HI("limitToLast",e,"L")}(t)))}catch(n){throw RC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,BI(this._delegate,YI.apply(void 0,arguments)))}catch(t){throw RC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BI(this._delegate,KI.apply(void 0,arguments)))}catch(t){throw RC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BI(this._delegate,QI.apply(void 0,arguments)))}catch(t){throw RC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BI(this._delegate,JI.apply(void 0,arguments)))}catch(t){throw RC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return BT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?cC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NT(e,FT);var t=NT(e.firestore,GT),n=YT(t),r=new uC(t);return ST(n,e._query,{source:"server"}).then((function(n){return new FI(t,r,e,n)}))}(this._delegate):function(e){e=NT(e,FT);var t=NT(e.firestore,GT),n=YT(t),r=new uC(t);return VI(e._query),ST(n,e._query).then((function(n){return new FI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new UC(n.firestore,new FI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PC(n),a=DC(n,(function(t){return new UC(e.firestore,new FI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return hC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(OC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),jC=function(){function e(t,n){Hn(this,e),this._firestore=t,this._delegate=n}return Yn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),UC=function(){function e(t,n){Hn(this,e),this._firestore=t,this._delegate=n}return Yn(e,[{key:"query",get:function(){return new FC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new jC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return UI(this._delegate,e._delegate)}}]),e}(),VC=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Yn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new NC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new NC(this.firestore,void 0===e?VT(this._delegate):VT(this._delegate,e))}catch(t){throw RC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=NT(e.firestore,GT),r=VT(e),i=rC(e.converter,t);return pC(n,[hI(fI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new NC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(OC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(FC);function zC(e){return NT(e,LT)}var BC=function(){function e(){Hn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ur(tI,n)}return Yn(e,[{key:"isEqual",value:function(e){return(e=Ur(e))instanceof tI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(pm.keyField().canonicalString())}}]),e}(),qC=function(){function e(t){Hn(this,e),this._delegate=t}return Yn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new vI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new dI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=gC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=kC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new gI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),WC={Firestore:TC,GeoPoint:iI,Timestamp:om,Blob:xC,Transaction:CC,WriteBatch:AC,DocumentReference:NC,DocumentSnapshot:MC,Query:FC,QueryDocumentSnapshot:LC,QuerySnapshot:UC,CollectionReference:VC,FieldPath:BC,FieldValue:qC,setLogLevel:function(e){!function(e){Dy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new $r("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},WC)))}(e,(function(e,t){return new TC(e,t,new EC)})),e.registerVersion("@firebase/firestore-compat","0.1.16")}(na);var HC="firebasestorage.googleapis.com",GC=function(e){tr(n,e);var t=or(n);function n(e,r){var i;return Hn(this,n),(i=t.call(this,YC(e),"Firebase Storage: ".concat(r," (").concat(YC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(er(i),n.prototype),i}return Yn(n,[{key:"_codeEquals",value:function(e){return YC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Tr);function YC(e){return"storage/"+e}function KC(){return new GC("unknown","An unknown error occurred, please check the error payload for server response.")}function $C(){return new GC("canceled","User canceled the upload/download.")}function QC(){return new GC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function JC(e){return new GC("invalid-argument",e)}function XC(){return new GC("app-deleted","The Firebase app was deleted.")}function ZC(e){return new GC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eA(e,t){return new GC("invalid-format","String does not match format '"+e+"': "+t)}function tA(e){throw new GC("internal-error","Internal error: "+e)}var nA,rA=function(){function e(t,n){Hn(this,e),this.bucket=t,this.path_=n}return Yn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new GC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===HC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new GC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),iA=function(){function e(t){Hn(this,e),this.promise_=Promise.reject(t)}return Yn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function aA(e){return"string"===typeof e||e instanceof String}function oA(e){return uA()&&e instanceof Blob}function uA(){return"undefined"!==typeof Blob}function sA(e,t,n,r){if(r<t)throw JC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw JC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function lA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(nA||(nA={}));var fA=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;Hn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Yn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=KC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?XC():$C());else i(new GC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new hA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new hA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===nA.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new hA(o,r))}else{var u=r.getErrorCode()===nA.ABORT;t(!1,new hA(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),hA=Yn((function e(t,n,r){Hn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function dA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pA(){for(var e=dA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(uA())return new Blob(n);throw new GC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},yA=Yn((function e(t,n){Hn(this,e),this.data=t,this.contentType=n||null}));function mA(e,t){switch(e){case vA.RAW:return new yA(gA(t));case vA.BASE64:case vA.BASE64URL:return new yA(kA(e,t));case vA.DATA_URL:return new yA(function(e){var t=new bA(e);return t.base64?kA(vA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw eA(vA.DATA_URL,"Malformed data URL.")}return gA(t)}(t.rest)}(t),new bA(t).contentType)}throw KC()}function gA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function kA(e,t){switch(e){case vA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw eA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case vA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw eA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw eA(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var bA=Yn((function e(t){Hn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw eA(vA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var wA=function(){function e(t,n){Hn(this,e);var r=0,i="";oA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Yn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(oA(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(uA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(pA.apply(null,i))}var a=n.map((function(e){return aA(e)?mA(vA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function _A(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function xA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function SA(e,t){return t}var EA=Yn((function e(t,n,r,i){Hn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||SA})),TA=null;function IA(){if(TA)return TA;var e=[];e.push(new EA("bucket")),e.push(new EA("generation")),e.push(new EA("metageneration")),e.push(new EA("name","fullPath",!0));var t=new EA("name");t.xform=function(e,t){return function(e){return!aA(e)||e.length<2?e:xA(e)}(t)},e.push(t);var n=new EA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new EA("timeCreated")),e.push(new EA("updated")),e.push(new EA("md5Hash",null,!0)),e.push(new EA("cacheControl",null,!0)),e.push(new EA("contentDisposition",null,!0)),e.push(new EA("contentEncoding",null,!0)),e.push(new EA("contentLanguage",null,!0)),e.push(new EA("contentType",null,!0)),e.push(new EA("metadata","customMetadata",!0)),TA=e}function CA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new rA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function AA(e,t,n){var r=_A(t);return null===r?null:CA(e,r,n)}function OA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function NA(e,t,n){var r=_A(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Qn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new rA(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Qn(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new rA(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var RA=Yn((function e(t,n,r,i){Hn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function PA(e){if(!e)throw KC()}function DA(e,t){return function(n,r){var i=AA(e,r,t);return PA(null!==i),i}}function MA(e,t){return function(n,r){var i=AA(e,r,t);return PA(null!==i),function(e,t,n,r){var i=_A(t);if(null===i)return null;if(!aA(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return cA("/b/"+o(i)+"/o/"+o(a),n,r)+lA({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function LA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new GC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new GC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new GC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new GC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function FA(e){var t=LA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new GC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function jA(e,t,n){var r=cA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new RA(r,"GET",DA(e,n),i);return a.errorHandler=FA(t),a}function UA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=cA(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new RA(o,"GET",function(e,t){return function(n,r){var i=NA(e,t,r);return PA(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=LA(t),s}function VA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function zA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=VA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+OA(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=wA.getBlob(c,r,l);if(null===f)throw QC();var h={name:s.fullPath},d=cA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new RA(d,"POST",DA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=LA(t),v}var BA=Yn((function e(t,n,r,i){Hn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function qA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){PA(!1)}return PA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var WA=262144;function HA(e,t,n,r,i,a,o,u){var s=new BA(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new GC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw QC();var v=t.maxUploadRetryTime,y=new RA(n,"POST",(function(e,n){var i,o=qA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?DA(t,a)(e,n):null,new BA(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=LA(e),y}var GA={STATE_CHANGED:"state_changed"},YA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KA(e){switch(e){case"running":case"pausing":case"canceling":return YA.RUNNING;case"paused":return YA.PAUSED;case"success":return YA.SUCCESS;case"canceled":return YA.CANCELED;default:return YA.ERROR}}var $A=Yn((function e(t,n,r){Hn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function QA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var JA=function(){function e(){var t=this;Hn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=nA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=nA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Yn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw tA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw tA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw tA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw tA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw tA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),XA=function(e){tr(n,e);var t=or(n);function n(){return Hn(this,n),t.apply(this,arguments)}return Yn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(JA);function ZA(){return new XA}var eO=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Hn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=IA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Yn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Zn(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=VA(t,r,i),u={name:o.fullPath},s=cA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=OA(o,n),f=e.maxUploadRetryTime,h=new RA(s,"POST",(function(e){var t;qA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){PA(!1)}return PA(aA(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=LA(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ZA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new RA(n,"POST",(function(e){var t=qA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){PA(!1)}n||PA(!1);var i=Number(n);return PA(!isNaN(i)),new BA(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=LA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,ZA,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=WA*this._chunkMultiplier,n=new BA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=HA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,ZA,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){WA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=jA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,ZA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=zA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ZA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$C(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=KA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new $A(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(KA(this._state)){case YA.SUCCESS:QA(this._resolve.bind(null,this.snapshot))();break;case YA.CANCELED:case YA.ERROR:QA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(KA(this._state)){case YA.RUNNING:case YA.PAUSED:e.next&&QA(e.next.bind(e,this.snapshot))();break;case YA.SUCCESS:e.complete&&QA(e.complete.bind(e))();break;default:e.error&&QA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),tO=function(){function e(t,n){Hn(this,e),this._service=t,this._location=n instanceof rA?n:rA.makeFromUrl(n,t.host)}return Yn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new rA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return xA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new rA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw ZC(e)}}]),e}();function nO(e,t,n){return rO.apply(this,arguments)}function rO(){return(rO=Kr(lr().mark((function e(t,n,r){var i,a,o,u;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,iO(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Gr(u.prefixes)),(a=n.items).push.apply(a,Gr(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,nO(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iO(e,t){null!=t&&"number"===typeof t.maxResults&&sA("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=UA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ZA)}function aO(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=cA(t.fullServerUrl(),e.host,e._protocol),a=OA(n,r),o=e.maxOperationRetryTime,u=new RA(i,"PATCH",DA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=FA(t),u}(e.storage,e._location,t,IA());return e.storage.makeRequestWithTokens(n,ZA)}function oO(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=cA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new RA(r,"GET",MA(e,n),i);return a.errorHandler=FA(t),a}(e.storage,e._location,IA());return e.storage.makeRequestWithTokens(t,ZA).then((function(e){if(null===e)throw new GC("no-download-url","The given file does not have any download URLs.");return e}))}function uO(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=cA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new RA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=FA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ZA)}function sO(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rA(e._location.bucket,n);return new tO(e.storage,r)}function cO(e,t){if(e instanceof dO){var n=e;if(null==n._bucket)throw new GC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new tO(n,n._bucket);return null!=t?cO(r,t):r}return void 0!==t?sO(e,t):e}function lO(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dO)return new tO(e,t);throw JC("To use ref(service, url), the first argument must be a Storage instance.")}return cO(e,t)}function fO(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:rA.makeFromBucketSpec(n,e)}function hO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:gr(i,e.app.options.projectId))}var dO=function(){function e(t,n,r,i,a){Hn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=HC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rA.makeFromBucketSpec(i,this._host):fO(this._host,this.app.options)}return Yn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=rA.makeFromBucketSpec(this._url,e):this._bucket=fO(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){sA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){sA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Kr(lr().mark((function e(){var t,n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Kr(lr().mark((function e(){var t,n;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new tO(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new iA(XC());var a=function(e,t,n,r,i,a){var o=lA(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new fA(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Kr(lr().mark((function e(t,n){var r,i,a,o;return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Zn(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),pO="@firebase/storage",vO="0.9.4",yO="storage";function mO(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new eO(e,new wA(t),n)}(e=Ur(e),t,n)}function gO(e){return function(e){e._throwIfRoot("getMetadata");var t=jA(e.storage,e._location,IA());return e.storage.makeRequestWithTokens(t,ZA)}(e=Ur(e))}function kO(e){return function(e){var t={prefixes:[],items:[]};return nO(e,t).then((function(){return t}))}(e=Ur(e))}function bO(e,t){return lO(e=Ur(e),t)}function wO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};hO(e,t,n,r)}function _O(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new dO(r,i,a,n,Ti)}ki(new $r(yO,_O,"PUBLIC").setMultipleInstances(!0)),Ri(pO,vO,""),Ri(pO,vO,"esm2017");var xO=function(){function e(t,n,r){Hn(this,e),this._delegate=t,this.task=n,this.ref=r}return Yn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),SO=function(){function e(t,n){Hn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Yn(e,[{key:"snapshot",get:function(){return new xO(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new xO(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new xO(e,i,i._ref))}:{next:t.next?function(e){return t.next(new xO(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),EO=function(){function e(t,n){Hn(this,e),this._delegate=t,this._service=n}return Yn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new TO(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new TO(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),TO=function(){function e(t,n){Hn(this,e),this._delegate=t,this.storage=n}return Yn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return sO(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new SO(mO(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=mA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new SO(new eO(this._delegate,new wA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return kO(this._delegate).then((function(t){return new EO(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return iO(e=Ur(e),t)}(this._delegate,e||void 0).then((function(e){return new EO(e,t.storage)}))}},{key:"getMetadata",value:function(){return gO(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return aO(e=Ur(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return oO(Ur(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),uO(Ur(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw ZC(e)}}]),e}(),IO=function(){function e(t,n){Hn(this,e),this.app=t,this._delegate=n}return Yn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(CO(e))throw JC("ref() expected a child path but got a URL, use refFromURL instead.");return new TO(bO(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!CO(e))throw JC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rA.makeFromUrl(e,this._delegate.host)}catch(t){throw JC("refFromUrl() expected a valid full URL but got an invalid one.")}return new TO(bO(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wO(this._delegate,e,t,n)}}]),e}();function CO(e){return/^[A-Za-z]+:\/\//.test(e)}function AO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new IO(r,i)}!function(e){var t={TaskState:YA,TaskEvent:GA,StringFormat:vA,Storage:IO,Reference:TO};e.INTERNAL.registerComponent(new $r("storage-compat",AO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.12")}(na);var OO={apiKey:"AIzaSyARmj_yE3XdKSCcg-Trf9pUYLkVOXBwoa0",authDomain:"sparta-react-basic-975fe.firebaseapp.com",projectId:"sparta-react-basic-975fe",storageBucket:"sparta-react-basic-975fe.appspot.com",messagingSenderId:"47157098212",appId:"1:47157098212:web:7381e6753ec0dc17ffdef1",measurementId:"G-VZZRTDFB25"};na.initializeApp(OO);var NO,RO,PO,DO,MO=OO.apiKey,LO=na.auth(),FO=na.firestore(),jO=na.storage(),UO="Setuser",VO="Logout",zO=Mt(UO,(function(e){return{user:e}})),BO=Mt(VO,(function(){return{}})),qO=Ht((mt(NO={},UO,(function(e,t){return Wn(e,(function(e){e.is_login=!0,e.user=t.payload.user}))})),mt(NO,VO,(function(e,t){return Wn(e,(function(e){e.is_login=!1,e.user=null}))})),NO),{user:null,is_login:!1}),WO=function(e,t,n){return function(r,i,a){var o=a.history;LO.setPersistence(na.auth.Auth.Persistence.SESSION).then((function(){LO.createUserWithEmailAndPassword(e,t).then((function(t){LO.currentUser.updateProfile({displayName:n}).then((function(){r(zO({user_name:n,id:e,user_profile:"https://lh3.googleusercontent.com/a-/AOh14GiGczsi0j9r9PTTgzIwFUU4ACKOWm0-wofOYplHvg=s288-p-rw-no",uid:t.user.uid})),o.push("/")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}))}},HO=function(){return function(e,t,n){n.history;LO.onAuthStateChanged((function(t){t?e(zO({user_name:t.displayName,id:t.id,user_profile:"https://lh3.googleusercontent.com/a-/AOh14GiGczsi0j9r9PTTgzIwFUU4ACKOWm0-wofOYplHvg=s288-p-rw-no",uid:t.uid})):(console.log("\ub85c\uadf8\uc778 \uc815\ubcf4 \uc5c6\uc74c"),e(BO()))}))}},GO=function(){return function(e,t,n){var r=n.history;LO.signOut().then((function(){e(BO()),r.replace("/")}))}},YO=function(e,t){return function(n,r,i){var a=i.history;LO.setPersistence(na.auth.Auth.Persistence.SESSION).then((function(){LO.signInWithEmailAndPassword(e,t).then((function(t){n(zO({user_name:t.displayName,id:e,user_profile:"",uid:t.user.uid})),a.push("/")})).catch((function(e){console.log(e)}))}))}},KO=n(426),$O=n.n(KO),QO="Uploading",JO="Upload_image",XO="set_preview",ZO=(Mt(QO,(function(e){return{uploading:e}})),Mt(JO,(function(e){return{image_url:e}}))),eN=Mt(XO,(function(e){return{preview:e}})),tN=Ht((mt(RO={},JO,(function(e,t){return Wn(e,(function(e){e.image_url=t.payload.image_url,e.uploading=!1}))})),mt(RO,QO,(function(e,t){return Wn(e,(function(e){e.uploading=t.payload.uploading}))})),mt(RO,XO,(function(e,t){return Wn(e,(function(e){e.preview=t.payload.preview}))})),RO),{image_url:"",uploading:!1,preview:null}),nN={uploadImage:ZO,setPreview:eN},rN="Setpost",iN="Addpost",aN="Editpost",oN="Editcomment",uN="Loading",sN=Mt(rN,(function(e,t){return{post_list:e,paging:t}})),cN=Mt(iN,(function(e){return{post:e}})),lN=Mt(aN,(function(e,t){return{id:e,post:t}})),fN=Mt(oN,(function(e,t){return{id:e,comment:t}})),hN=Mt(uN,(function(e){return{is_loading:e}})),dN=Ht((mt(PO={},rN,(function(e,t){return Wn(e,(function(e){var n;(n=e.list).push.apply(n,Gr(t.payload.post_list)),e.list=e.list.reduce((function(e,t){return-1===e.findIndex((function(e){return e.id===t.id}))?[].concat(Gr(e),[t]):(e[e.findIndex((function(e){return e.id===t.id}))]=t,e)}),[]),t.payload.paging&&(e.paging=t.payload.paging),e.is_loading=!1}))})),mt(PO,iN,(function(e,t){return Wn(e,(function(e){e.list.unshift(t.payload.post)}))})),mt(PO,aN,(function(e,t){return Wn(e,(function(n){console.log(e.list),console.log(t.payload);for(var r=0;r<n.list.length;r++)n.list[r].id===t.payload.id&&(n.list[r].contents=t.payload.post)}))})),mt(PO,oN,(function(e,t){return Wn(e,(function(e){var n=e.list.findIndex((function(e){return e.id===t.payload.id}));e.list[n]=kt(kt({},e.list[n]),t.payload.post)}))})),mt(PO,uN,(function(e,t){return Wn(e,(function(e){e.is_loading=t.payload.is_loading}))})),PO),{list:[],paging:{start:null,next:null,size:2},is_loading:!1}),pN={setPost:sN,addPost:cN,getPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return function(n,r,i){i.history;var a=r().post.paging;if(!a.start||a.next){n(hN(!0));var o=FO.collection("post2").orderBy("insert_dt","desc");e&&(o=o.startAt(e)),o.limit(t+1).get().then((function(e){var r=[],i={start:e.docs[0],next:e.docs.length===t+1?e.docs[e.docs.length-1]:null,size:t};e.forEach((function(e){var t=kt({id:e.id},e.data()),n={id:e.id,user_info:{user_name:t.user_name,user_profile:t.user_profile,user_id:t.user_id},image_url:t.image_url,contents:t.contents,comment_cnt:t.comment_cnt,insert_dt:t.insert_dt};r.push(n)})),r.pop(),n(sN(r,i))}))}}},addPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n,r){var i=r.history,a=FO.collection("post2"),o=n().user.user,u={user_name:o.user_name,user_profile:o.user_profile,user_id:o.uid},s={image_url:"",contents:e,comment_cnt:0,insert_dt:$O()().format("YYYY-MM-DD hh:mm:ss")},c=n().image.preview;console.log(c),jO.ref("images2/".concat(u.user_id,"_").concat((new Date).getTime())).putString(c,"data_url").then((function(e){e.ref.getDownloadURL().then((function(e){return e})).then((function(e){a.add(kt(kt(kt({},u),s),{},{image_url:e})).then((function(n){var r=kt(kt({user_info:u},s),{},{id:n.id,image_url:e});t(cN(r)),i.replace("/"),t(nN.setPreview(null))})).catch((function(e){return console.log(e)}))}))}))}},editPost:lN,editPostFB:function(e,t){return function(n,r,i){var a=i.history;return FO.collection("post2").doc(e).update({contents:t}).then((function(){n(lN(e,t)),a.replace("/")})).catch((function(e){return console.log(e)}))}},getOnePostFB:function(e){return function(t,n,r){r.history;FO.collection("post2").doc(e).get().then((function(e){var n=e.data();if(n){var r={id:e.id,user_info:{user_name:n.user_name,user_profile:n.user_profile,user_id:n.user_id},image_url:n.image_url,contents:n.contents,comment_cnt:n.comment_cnt,insert_dt:n.insert_dt};t(sN([r],{start:null,next:null,size:3}))}}))}},editComment:fN},vN="SET_COMMENT",yN="ADD_COMMENT",mN="LOADING",gN=Mt(vN,(function(e,t){return{post_id:e,comment_list:t}})),kN=Mt(yN,(function(e,t){return{post_id:e,comment:t}})),bN=(Mt(mN,(function(e){return{is_loading:e}})),Ht((mt(DO={},vN,(function(e,t){return Wn(e,(function(e){e.list[t.payload.post_id]=t.payload.comment_list}))})),mt(DO,yN,(function(e,t){return Wn(e,(function(e){e.list[t.payload.post_id].unshift(t.payload.comment)}))})),mt(DO,mN,(function(e,t){return Wn(e,(function(e){e.is_loading=t.payload.is_loading}))})),DO),{list:{},is_loading:!1})),wN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n,r){r.history;e&&FO.collection("comment").where("post_id","==",e).orderBy("insert_dt","desc").get().then((function(n){var r=[];n.forEach((function(e){r.push(kt(kt({},e.data()),{},{id:e.id}))})),t(gN(e,r))})).catch((function(e){console.log("\ub313\uae00\uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",e)}))}},_N=function(e,t){return function(n,r,i){i.history;var a=FO.collection("comment"),o=r().user.user,u={post_id:e,user_id:o.uid,user_name:o.user_name,user_profile:o.user_profile,contents:t,insert_dt:$O()().format("YYYY-MM-DD hh:mm:ss")};a.add(u).then((function(t){var i=FO.collection("post2");u=kt(kt({},u),{},{id:t.id});var a=r().post.list.find((function(t){return t.id===e})),o=na.firestore.FieldValue.increment(1);i.doc(e).update({comment_cnt:o}).then((function(t){n(kN(e,u)),a&&n(pN.editComment(e,{comment_cnt:parseInt(a.comment_cnt)+1}))}))}))}},xN=function(e){void 0===e&&(e={}),g||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?k:s,l=i.keyLength,x=void 0===l?6:l,S=e.basename?p(h(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return S&&(a=d(a,S)),y(a,r,n)}function T(){return Math.random().toString(36).substr(2,x)}var I=m();function C(e){o(V,e),V.length=t.length,I.notifyListeners(V.location,V.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(E(e.state))}function O(){R(E(_()))}var N=!1;function R(e){if(N)N=!1,C();else{I.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var P=E(_()),D=[P.key];function M(e){return S+v(e)}function L(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(b,A),r&&window.addEventListener(w,O)):0===F&&(window.removeEventListener(b,A),r&&window.removeEventListener(w,O))}var U=!1,V={length:t.length,action:"POP",location:P,createHref:M,push:function(e,r){var i="PUSH",a=y(e,r,T(),V.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=y(e,r,T(),V.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=M(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=I.appendListener(e);return j(1),function(){j(-1),t()}}};return V}(),SN=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:xt.INIT}))throw new Error(bt(12));if("undefined"===typeof n(void 0,{type:xt.PROBE_UNKNOWN_ACTION()}))throw new Error(bt(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(bt(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:qO,post:dN,image:tN,comment:bN,router:vt(xN)}),EN=[At.withExtraArgument({history:xN})],TN=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Tt)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(bt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Tt.apply(void 0,a)(n.dispatch),kt(kt({},n),{},{dispatch:r})}}}.apply(void 0,EN)),IN=Et(SN,TN);function CN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AN=n(613),ON=n.n(AN);var NN=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,_=0,x=0,S=0,E=0,T=0,R=0,D=v=d=0,L=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",H="";L<V;){if(p=s.charCodeAt(L),L===z&&0!==x+E+S+_&&(0!==x&&(p=47===x?10:47),E=S=_=0,V++,z++),0===x+E+S+_){if(L===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(L)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++L;L<V;){switch(p=s.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<z&&s.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=s.substring(U,L),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=N}if(U=(v=t(r,F,v,p,h+1)).length,0<P&&(b=u(3,v,F=n(N,B,j),r,C,I,U,p,h,c),B=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=D=d=0,B="",p=s.charCodeAt(++L);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<P&&void 0!==(b=u(1,B,r,e,C,I,q.length,c,h,c))&&0===(U=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=B+s.charAt(L);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=s.charCodeAt(++L)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<P*M&&u(0,B,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===x+E+S+_){I++;break}default:switch(I++,y=s.charAt(L),p){case 9:case 32:if(0===E+_+x)switch(T){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===E+x+_&&(F=j=1,y="\f"+y);break;case 108:if(0===E+x+_+A&&0<D)switch(L-D){case 2:112===T&&58===s.charCodeAt(L-3)&&(A=T);case 8:111===R&&(A=R)}break;case 58:0===E+x+_&&(D=L);break;case 44:0===x+S+E+_&&(F=1,y+="\r");break;case 34:case 39:0===x&&(E=E===p?0:0===E?p:E);break;case 91:0===E+x+S&&_++;break;case 93:0===E+x+S&&_--;break;case 41:0===E+x+_&&S--;break;case 40:if(0===E+x+_){if(0===d)if(2*T+3*R===533);else d=1;S++}break;case 64:0===x+S+E+_+D+v&&(v=1);break;case 42:case 47:if(!(0<E+_+S))switch(x){case 0:switch(2*p+3*s.charCodeAt(L+1)){case 235:x=47;break;case 220:U=L,x=42}break;case 42:47===p&&42===T&&U+2!==L&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,L+1)),y="",x=0)}}0===x&&(B+=y)}R=T,T=p,L++}if(0<(U=q.length)){if(F=r,0<P&&(void 0!==(b=u(2,q,F,e,C,I,U,c,h,c))&&0===(q=b).length))return H+q+W;if(q=F.join(",")+"{"+q+"}",0!==O*A){switch(2!==O||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===O||2===O&&a(s,1)?"-webkit-"+s+s:s}if(0===O||2===O&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?O=1:(O=2,D=e):O=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",A=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,A=0,O=1,N=[],R=[],P=0,D=null,M=0;return c.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"===typeof t)R[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},RN={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var PN=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},DN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,MN=PN((function(e){return DN.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function LN(){return(LN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var FN=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},jN=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,D.typeOf)(e)},UN=Object.freeze([]),VN=Object.freeze({});function zN(e){return"function"==typeof e}function BN(e){return e.displayName||e.name||"Component"}function qN(e){return e&&"string"==typeof e.styledComponentId}var WN="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",HN="undefined"!=typeof window&&"HTMLElement"in window,GN=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function YN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var KN=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&YN(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),$N=new Map,QN=new Map,JN=1,XN=function(e){if($N.has(e))return $N.get(e);for(;QN.has(JN);)JN++;var t=JN++;return $N.set(e,t),QN.set(t,e),t},ZN=function(e){return QN.get(e)},eR=function(e,t){t>=JN&&(JN=t+1),$N.set(e,t),QN.set(t,e)},tR="style["+WN+'][data-styled-version="5.3.5"]',nR=new RegExp("^"+WN+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),rR=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},iR=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(nR);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(eR(c,s),rR(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},aR=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},oR=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(WN))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(WN,"active"),r.setAttribute("data-styled-version","5.3.5");var o=aR();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},uR=function(){function e(e){var t=this.element=oR(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}YN(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),sR=function(){function e(e){var t=this.element=oR(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),cR=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),lR=HN,fR={isServer:!HN,useCSSOMInjection:!GN},hR=function(){function e(e,t,n){void 0===e&&(e=VN),void 0===t&&(t={}),this.options=LN({},fR,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&HN&&lR&&(lR=!1,function(e){for(var t=document.querySelectorAll(tR),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(WN)&&(iR(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return XN(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(LN({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new cR(i):r?new uR(i):new sR(i),new KN(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(XN(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(XN(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(XN(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=ZN(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=WN+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),dR=/(a)(d)/gi,pR=function(e){return String.fromCharCode(e+(e>25?39:97))};function vR(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=pR(t%52)+n;return(pR(t%52)+n).replace(dR,"$1-$2")}var yR=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mR=function(e){return yR(5381,e)};function gR(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(zN(n)&&!qN(n))return!1}return!0}var kR=mR("5.3.5"),bR=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&gR(e),this.componentId=t,this.baseHash=yR(kR,t),this.baseStyle=n,hR.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=jR(this.rules,e,t,n).join(""),o=vR(yR(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=yR(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=jR(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=yR(c,p+f),l+=p}}if(l){var v=vR(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),wR=/^\s*\/\/.*$/gm,_R=[":","[",".","#"];function xR(e){var t,n,r,i,a=void 0===e?VN:e,o=a.options,u=void 0===o?VN:o,s=a.plugins,c=void 0===s?UN:s,l=new NN(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==_R.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(wR,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||YN(15),yR(e,t.name)}),5381).toString():"",p}var SR=t.createContext(),ER=(SR.Consumer,t.createContext()),TR=(ER.Consumer,new hR),IR=xR();function CR(){return(0,t.useContext)(SR)||TR}function AR(){return(0,t.useContext)(ER)||IR}function OR(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=CR(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return xR({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){ON()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(SR.Provider,{value:o},t.createElement(ER.Provider,{value:u},e.children))}var NR=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=IR);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return YN(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=IR),this.name+e.hash},e}(),RR=/([A-Z])/,PR=/([A-Z])/g,DR=/^ms-/,MR=function(e){return"-"+e.toLowerCase()};function LR(e){return RR.test(e)?e.replace(PR,MR).replace(DR,"-ms-"):e}var FR=function(e){return null==e||!1===e||""===e};function jR(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=jR(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return FR(e)?"":qN(e)?"."+e.styledComponentId:zN(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:jR(e(t),t,n,r):e instanceof NR?n?(e.inject(n,r),e.getName(r)):e:jN(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!FR(t[o])&&(Array.isArray(t[o])&&t[o].isCss||zN(t[o])?a.push(LR(o)+":",t[o],";"):jN(t[o])?a.push.apply(a,e(t[o],o)):a.push(LR(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in RN?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var UR=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function VR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zN(e)||jN(e)?UR(jR(FN(UN,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:UR(jR(FN(e,n)))}new Set;var zR=function(e,t,n){return void 0===n&&(n=VN),e.theme!==n.theme&&e.theme||t||n.theme},BR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,qR=/(^-|-$)/g;function WR(e){return e.replace(BR,"-").replace(qR,"")}var HR=function(e){return vR(mR(e)>>>0)};function GR(e){return"string"==typeof e&&!0}var YR=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},KR=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function $R(e,t,n){var r=e[n];YR(t)&&YR(r)?QR(r,t):e[n]=t}function QR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(YR(o))for(var u in o)KR(u)&&$R(e,o[u],u)}return e}var JR=t.createContext();JR.Consumer;var XR={};function ZR(e,n,r){var i=qN(e),a=!GR(e),o=n.attrs,u=void 0===o?UN:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":WR(e);XR[n]=(XR[n]||0)+1;var r=n+"-"+HR("5.3.5"+n+XR[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return GR(e)?"styled."+e:"Styled("+BN(e)+")"}(e):l,h=n.displayName&&n.componentId?WR(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new bR(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=VN);var r=LN({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in zN(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(zR(n,(0,t.useContext)(JR),u)||VN,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=CR(),a=AR();return t?e.generateAndInjectStyles(VN,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=GR(m),k=p!==n?LN({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,MN,m):!g||MN(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=LN({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):UN,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(GR(e)?e:WR(BN(e)));return ZR(e,LN({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?QR({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&F()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var eP=function(e){return function e(t,n,r){if(void 0===r&&(r=VN),!(0,D.isValidElementType)(n))return YN(1,String(n));var i=function(){return t(n,r,VR.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,LN({},r,{},i))},i.attrs=function(i){return e(t,n,LN({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(ZR,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){eP[e]=eP(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=gR(e),hR.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(jR(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&hR.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=aR();return"<style "+[n&&'nonce="'+n+'"',WN+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?YN(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return YN(2);var r=((n={})[WN]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=aR();return i&&(r.nonce=i),[t.createElement("style",LN({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new hR({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?YN(2):t.createElement(OR,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return YN(3)}}();var tP,nP,rP,iP=eP,aP=n(184),oP=iP.div(tP||(tP=CN(["\n  background-color: aliceblue;\n  height: 50px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  padding: 5px;\n  div {\n    &:last-child {\n      button {\n        background-color: blue;\n        color: white;\n        border: none;\n        padding: 8px 20px;\n        margin-left: 5px;\n        border-radius: 10px;\n        font-size: 16px;\n      }\n    }\n  }\n"]))),uP=function(e){var t=Z(),n=ze();return He((function(e){return e.user.is_login}))?(0,aP.jsxs)(oP,{children:[(0,aP.jsx)("div",{onClick:function(){return t.push("/")},children:"\ud648\uc73c\ub85c \uac00\uae30"}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("button",{children:"\ub0b4\uc815\ubcf4"}),(0,aP.jsx)("button",{onClick:function(){t.push("/notice")},children:"\uc54c\ub9bc"}),(0,aP.jsx)("button",{onClick:function(){n(GO())},children:"\ub85c\uadf8\uc544\uc6c3"})]})]}):(0,aP.jsxs)(oP,{children:[(0,aP.jsx)("div",{children:"\ud648\uc73c\ub85c \uac00\uae30"}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("button",{onClick:function(){t.push("/signup")},children:"\ud68c\uc6d0\uac00\uc785"}),(0,aP.jsx)("button",{onClick:function(){t.push("/login")},children:"\ub85c\uadf8\uc778"})]})]})},sP=n(763),cP=n.n(sP),lP=function(e){var n=e.type,r=e.size,i=e.is_dim;return(0,aP.jsx)(t.Fragment,{children:(0,aP.jsx)(fP,{type:n,is_dim:i,children:(0,aP.jsx)(hP,{size:r})})})};lP.defaultProps={type:"inline",is_dim:!1,size:60};var fP=iP.div(nP||(nP=CN(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px 0;\n  ","\n  ","\n"])),(function(e){return"page"===e.type?"position: fixed;\n        height: 95vh;\n        top: 0;\n        left: 0;\n        padding: 0;\n        zIndex: 9999;":""}),(function(e){return e.is_dim?"\n     background: rgba(0,0,0,0.4); \n     height: 100vh;\n  ":""})),hP=iP.div(rP||(rP=CN(["\n  --size: ","px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin: auto; background: none; display: block; shape-rendering: auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cg transform='rotate(0 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.9166666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(30 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.8333333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(60 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.75s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(90 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.6666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(120 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5833333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(150 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(180 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.4166666666666667s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(210 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.3333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(240 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.25s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(270 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.16666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(300 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.08333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(330 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='0s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\");\n  background-size: var(--size);\n"])),(function(e){return e.size})),dP=lP,pP=function(e){e.children;var n=e.callNext,r=e.is_next,i=e.loading,a=cP().throttle((function(){if(!i){var e=window.innerHeight;document.body.scrollHeight-e-(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)<50&&n()}}),500),o=t.useCallback(a,[i]);return t.useEffect((function(){if(!i)return r?window.addEventListener("scroll",o):window.removeEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}),[r,i]),(0,aP.jsxs)(t.Fragment,{children:[e.children,r&&(0,aP.jsx)(dP,{})]})};pP.defaultProps={children:null,callNext:function(){},is_next:!1,loading:!1};var vP,yP,mP,gP,kP,bP,wP,_P,xP,SP,EP,TP,IP,CP,AP,OP,NP,RP=pP,PP=iP.button(vP||(vP=CN(["\n  background-color: blue;\n  color: white;\n  width: 50px;\n  height: 50px;\n  border: none;\n  border-radius: 9999px;\n  position: fixed;\n  right: 50px;\n  bottom: 50px;\n"]))),DP=iP.div(yP||(yP=CN(["\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 80%;\n  margin: 20px auto;\n  color: black;\n\n  div {\n    &:first-child {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 5px 20px;\n      font-size: 18px;\n      border-bottom: 2px solid aliceblue;\n\n      img {\n        width: 50px;\n        height: 50px;\n        border-radius: 999px;\n      }\n    }\n    &:nth-child(2) {\n      display: flex;\n      flex-direction: column;\n      font-size: 20px;\n      border-bottom: 2px solid aliceblue;\n      padding: 10px 0px;\n      span {\n        margin: 10px;\n        padding: 0px 10px;\n        font-size: 30px;\n      }\n      img {\n        margin: auto;\n        height: 250px;\n        cursor: pointer;\n      }\n    }\n    &:last-child {\n      margin: 10px;\n      padding: 10px 0px;\n      span {\n        margin-right: 30px;\n        padding: 0px 10px;\n        font-size: 20px;\n      }\n    }\n  }\n"]))),MP=function(e){var n=ze(),r=Z(),i=He((function(e){return e.user.is_login})),a=He((function(e){return e.post.list})),o=He((function(e){return e.user.user})),u=He((function(e){return e.post.is_loading})),s=He((function(e){return e.post.paging}));return t.useEffect((function(){a.length<2&&n(pN.getPostFB())}),[]),console.log(a),i?(0,aP.jsxs)("div",{children:[(0,aP.jsx)(RP,{callNext:function(){n(pN.getPostFB(s.next))},is_next:!!s.next,loading:u,children:a.map((function(e,t){return(0,aP.jsxs)(DP,{children:[(0,aP.jsxs)("div",{children:[(0,aP.jsx)("img",{src:e.user_info.user_profile}),(0,aP.jsx)("h3",{children:e.user_info.user_name}),(0,aP.jsx)("span",{children:e.insert_dt}),e.user_info.user_id===o.uid?(0,aP.jsx)("button",{onClick:function(){r.push("/edit/".concat(e.id))},children:"\uc218\uc815"}):null]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:e.contents}),(0,aP.jsx)("img",{onClick:function(){r.push("/detail/".concat(e.id))},src:e.image_url})]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:"\uc88b\uc544\uc694 10\uac1c"}),(0,aP.jsxs)("span",{children:["\ub313\uae00",e.comment_cnt,"\uac1c"]})]})]},e.id)}))}),(0,aP.jsx)(PP,{onClick:function(){r.push("/upload")},children:"\uae00\uc4f0\uae30"})]}):(0,aP.jsx)("div",{children:(0,aP.jsx)(RP,{callNext:function(){console.log("next")},is_next:!!s.next,loading:u,children:a.map((function(e,t){return(0,aP.jsxs)(DP,{children:[(0,aP.jsxs)("div",{children:[(0,aP.jsx)("img",{src:e.user_info.user_profile}),(0,aP.jsx)("h3",{children:e.user_info.user_name}),(0,aP.jsx)("span",{children:e.insert_dt})]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:e.contents}),(0,aP.jsx)("img",{onClick:function(){r.push("/detail/".concat(e.id))},src:e.image_url})]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:"\uc88b\uc544\uc694 10\uac1c"}),(0,aP.jsxs)("span",{children:["\ub313\uae00 ",e.comment_cnt,"\uac1c"]})]})]},e.id)}))})})},LP=function(e){return/^[0-9a-zA-Z]([-_.0-9a-zA-Z])*@[0-9a-zA-Z]([-_.0-9a-zA-z])*.([a-zA-Z])*/.test(e)},FP=iP.div(mP||(mP=CN(["\n  div {\n    &:last-child {\n      display: flex;\n      flex-direction: column;\n      width: 60%;\n      input {\n        height: 30px;\n        font-size: 20px;\n      }\n      button {\n        background-color: black;\n        color: white;\n        height: 30px;\n        margin-top: 20px;\n      }\n    }\n  }\n"]))),jP=function(){var e=ze(),n=(0,t.useRef)(""),r=(0,t.useRef)("");return(0,aP.jsxs)(FP,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("h1",{children:"\ub85c\uadf8\uc778"})}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("label",{htmlFor:"id",children:"\uc544\uc774\ub514"}),(0,aP.jsx)("input",{id:"id",type:"text",ref:n}),(0,aP.jsx)("label",{htmlFor:"pwd",children:"\ud328\uc2a4\uc6cc\ub4dc"}),(0,aP.jsx)("input",{id:"pwd",type:"password",ref:r}),(0,aP.jsx)("button",{onClick:function(){LP(n.current.value)?e(YO(n.current.value,r.current.value)):alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},children:"\ub85c\uadf8\uc778\ud558\uae30"})]})]})},UP=iP.div(gP||(gP=CN(["\n  div {\n    &:last-child {\n      display: flex;\n      flex-direction: column;\n      width: 60%;\n      input {\n        height: 30px;\n        font-size: 20px;\n      }\n      button {\n        background-color: black;\n        color: white;\n        height: 30px;\n        margin-top: 20px;\n      }\n    }\n  }\n"]))),VP=function(){var e=ze(),n=(0,t.useRef)(""),r=(0,t.useRef)(""),i=(0,t.useRef)(""),a=(0,t.useRef)("");return(0,aP.jsxs)(UP,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("h1",{children:"\ud68c\uc6d0\uac00\uc785"})}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("label",{htmlFor:"id",children:"\uc544\uc774\ub514"}),(0,aP.jsx)("input",{id:"id",type:"text",ref:n}),(0,aP.jsx)("label",{htmlFor:"nickname",children:"\ub2c9\ub124\uc784"}),(0,aP.jsx)("input",{id:"nickname",type:"text",ref:i}),(0,aP.jsx)("label",{htmlFor:"pwd",children:"\ud328\uc2a4\uc6cc\ub4dc"}),(0,aP.jsx)("input",{id:"pwd",type:"password",ref:r}),(0,aP.jsx)("label",{htmlFor:"pwdcomfrim",children:"\ud328\uc2a4\uc6cc\ub4dc\ud655\uc778"}),(0,aP.jsx)("input",{id:"pwdcomfrim",type:"password",ref:a}),(0,aP.jsx)("button",{onClick:function(){""!==n.current.value&&""!==r.current.value&&""!==i.current.value?LP(n.current.value)?r.current.value===a.current.value&&e(WO(n.current.value,r.current.value,i.current.value)):alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert("\ud544\uc218\ud56d\ubaa9\uc774 \ube48\uce78\uc785\ub2c8\ub2e4.")},children:"\ud68c\uc6d0\uac00\uc785\ud558\uae30"})]})]})},zP=iP.div(kP||(kP=CN(["\n  border: 1px solid black;\n  width: 90%;\n  margin: auto;\n  div {\n    &:last-child {\n      display: flex;\n      flex-direction: column;\n      width: 90%;\n      margin: auto;\n      textarea {\n        margin: 20px 0px;\n        font-size: 18px;\n      }\n      button {\n        height: 30px;\n        background-color: blue;\n        color: white;\n        border: none;\n      }\n    }\n    &:nth-child(3) {\n      img {\n        width: 80%;\n      }\n    }\n  }\n"]))),BP=function(e){var n=Z(),r=ze(),i=(0,t.useRef)(""),a=(0,t.useRef)(""),o=He((function(e){return e.user.is_login})),u=He((function(e){return e.image.uploading})),s=He((function(e){return e.image.preview}));return o?(0,aP.jsxs)(zP,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("h1",{children:"\uac8c\uc2dc\uae00 \uc791\uc131"})}),(0,aP.jsx)("div",{children:(0,aP.jsx)("input",{type:"file",ref:a,onChange:function(){var e=new FileReader,t=a.current.files[0];e.readAsDataURL(t),e.onloadend=function(){r(nN.setPreview(e.result))}},disabled:u})}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("h2",{children:"\ubbf8\ub9ac\ubcf4\uae30"}),(0,aP.jsx)("img",{src:s||"https://user-images.githubusercontent.com/2351721/31314483-7611c488-ac0e-11e7-97d1-3cfc1c79610e.png"})]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:"\uac8c\uc2dc\uae00\ub0b4\uc6a9"}),(0,aP.jsx)("textarea",{placeholder:"\uac8c\uc2dc\uae00 \uc791\uc131",ref:i}),(0,aP.jsx)("button",{onClick:function(){r(pN.addPostFB(i.current.value))},children:"\uac8c\uc2dc\uae00 \uc62c\ub9ac\uae30"})]})]}):(0,aP.jsxs)("div",{children:[(0,aP.jsx)("h1",{children:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."}),(0,aP.jsx)("button",{onClick:function(){n.replace("/login")},children:"\ub85c\uadf8\uc778 \ud558\ub7ec\uac00\uae30"})]})},qP=iP.div(bP||(bP=CN(["\n  width: 80%;\n  padding: 20px 0px;\n  margin: 20px auto;\n  border-top: 2px solid aliceblue;\n  border-bottom: 2px solid aliceblue;\n  input {\n    font-size: 20px;\n    height: 30px;\n    width: 60%;\n  }\n"]))),WP=function(e){var n=ze(),r=(0,t.useRef)(""),i=e.post_id;return(0,aP.jsxs)(qP,{children:[(0,aP.jsx)("input",{type:"text",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",ref:r}),(0,aP.jsx)("button",{onClick:function(){var e=r.current.value;n(_N(i,e)),r.current.value=""},children:"\uc791\uc131"})]})},HP=iP.div(wP||(wP=CN(["\n  padding: 20px 0px;\n"]))),GP=iP.div(_P||(_P=CN(["\n  background-color: aliceblue;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 80%;\n  margin: auto;\n  margin-bottom: 10px;\n"]))),YP=iP.div(xP||(xP=CN(["\n  display: flex;\n  align-items: center;\n  img {\n    width: 40px;\n    height: 40px;\n    border-radius: 9999px;\n    margin-right: 10px;\n  }\n  p {\n    margin-right: 100px;\n  }\n"]))),KP=iP.div(SP||(SP=CN([""]))),$P=function(e){var n=ze(),r=He((function(e){return e.comment.list})),i=e.post_id;return t.useEffect((function(){r[i]||n(wN(i))}),[]),r[i]&&i?(0,aP.jsx)(HP,{children:r[i].map((function(e){return(0,aP.jsxs)(GP,{children:[(0,aP.jsxs)(YP,{children:[(0,aP.jsx)("img",{src:"https://lh3.googleusercontent.com/a-/AOh14GiGczsi0j9r9PTTgzIwFUU4ACKOWm0-wofOYplHvg=s288-p-rw-no"}),(0,aP.jsx)("span",{style:{marginRight:"30px"},children:e.user_name}),(0,aP.jsx)("p",{children:e.contents}),(0,aP.jsx)("span",{children:e.insert_dt})]}),(0,aP.jsx)(KP,{children:(0,aP.jsx)("button",{children:"\uc0ad\uc81c"})})]},e.id)}))}):null},QP=iP.div(EP||(EP=CN(["\n  background-color: rgba(0, 0, 0, 0.1);\n  padding: 20px;\n  border-radius: 10px;\n  width: 80%;\n  margin: 20px auto;\n"]))),JP=iP.div(TP||(TP=CN(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  img {\n    width: 40px;\n    height: 40px;\n    border-radius: 9999px;\n  }\n"]))),XP=iP.div(IP||(IP=CN(["\n  display: flex;\n  flex-direction: column;\n  span {\n    margin-top: 20px;\n    font-size: 20px;\n  }\n  img {\n    width: 60%;\n    margin: 20px auto;\n  }\n"]))),ZP=iP.div(CP||(CP=CN(["\n  display: flex;\n  span {\n    margin-left: 40px;\n  }\n"]))),eD=function(e){var n=ze(),r=ee().id,i=He((function(e){return e.post.list})),a=i.findIndex((function(e){return e.id===r})),o=i[a];return t.useEffect((function(){o||n(pN.getOnePostFB(r))}),[]),o?(0,aP.jsxs)("div",{children:[(0,aP.jsxs)(QP,{children:[(0,aP.jsxs)(JP,{children:[(0,aP.jsx)("img",{src:o.user_info.user_profile}),(0,aP.jsx)("h3",{children:o.user_info.user_name}),(0,aP.jsx)("span",{children:o.insert_dt})]}),(0,aP.jsxs)(XP,{children:[(0,aP.jsx)("span",{children:o.contents}),(0,aP.jsx)("img",{src:o.image_url})]}),(0,aP.jsxs)(ZP,{children:[(0,aP.jsx)("span",{children:"\uc88b\uc544\uc694 10\uac1c"}),(0,aP.jsxs)("span",{children:["\ub313\uae00 ",o.comment_cnt,"\uac1c"]})]})]}),(0,aP.jsx)(WP,{post_id:r}),(0,aP.jsx)($P,{post_id:r})]}):null},tD=iP.div(AP||(AP=CN(["\n  width: 60%;\n  border: 1px solid black;\n  margin: auto;\n  margin-top: 30px;\n  background-color: aliceblue;\n"]))),nD=iP.div(OP||(OP=CN(["\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n  background-color: white;\n  div {\n    &:first-child {\n      margin-right: 10px;\n      img {\n        width: 80px;\n      }\n    }\n  }\n"]))),rD=function(){var e=Z();return He((function(e){return e.user.is_login}))?(0,aP.jsxs)(tD,{children:[(0,aP.jsxs)(nD,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/sparta-react-basic-975fe.appspot.com/o/images2%2FfgVA7N9jRkgFpXLzHhujyFV53453_1649231630712?alt=media&token=7304bb73-2451-47df-b484-ac69495441a8"})}),(0,aP.jsx)("div",{children:(0,aP.jsx)("span",{children:"someone\ub2d8\uc774 \uac8c\uc2dc\ubb3c\uc5d0 \ub313\uae00\uc744 \ub0a8\uacbc\uc2b5\ub2c8\ub2e4!"})})]}),(0,aP.jsxs)(nD,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("img",{src:"https://firebasestorage.googleapis.com/v0/b/sparta-react-basic-975fe.appspot.com/o/images2%2FfgVA7N9jRkgFpXLzHhujyFV53453_1649231630712?alt=media&token=7304bb73-2451-47df-b484-ac69495441a8"})}),(0,aP.jsx)("div",{children:(0,aP.jsx)("span",{children:"someone\ub2d8\uc774 \uac8c\uc2dc\ubb3c\uc5d0 \ub313\uae00\uc744 \ub0a8\uacbc\uc2b5\ub2c8\ub2e4!"})})]})]}):(0,aP.jsxs)("div",{children:[(0,aP.jsx)("h1",{children:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."}),(0,aP.jsx)("button",{onClick:function(){e.replace("/login")},children:"\ub85c\uadf8\uc778 \ud558\ub7ec\uac00\uae30"})]})},iD=iP.div(NP||(NP=CN(["\n  div {\n    &:last-child {\n      display: flex;\n      flex-direction: column;\n      textarea {\n        height: 100px;\n        font-size: 20px;\n        width: 80%;\n        margin: 15px auto;\n      }\n      button {\n        width: 80%;\n        height: 30px;\n        margin: auto;\n      }\n    }\n    &:nth-child(2) {\n      img {\n        height: 300px;\n      }\n    }\n  }\n"]))),aD=function(){var e=ee(),n=ze(),r=(0,t.useRef)(""),i=e.id,a=He((function(e){return e.post.list})).filter((function(e){return e.id===i}));console.log(a),t.useEffect((function(){n(pN.getPostFB())}),[]);return 0===a.length?null:(0,aP.jsxs)(iD,{children:[(0,aP.jsx)("div",{children:(0,aP.jsx)("h1",{children:"\uac8c\uc2dc\uae00 \uc218\uc815"})}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("h2",{children:"\uac8c\uc2dc\uae00 \uc0ac\uc9c4"}),(0,aP.jsx)("img",{src:a[0].image_url})]}),(0,aP.jsxs)("div",{children:[(0,aP.jsx)("span",{children:"\uac8c\uc2dc\uae00\ub0b4\uc6a9"}),(0,aP.jsx)("textarea",{placeholder:"\uac8c\uc2dc\uae00 \uc791\uc131",defaultValue:a[0].contents,ref:r}),(0,aP.jsx)("button",{onClick:function(){n(pN.editPostFB(i,r.current.value))},children:"\uc218\uc815\ud558\uae30"})]})]})};var oD=function(){var e=ze(),n="firebase:authUser:".concat(MO,":[DEFAULT]");return sessionStorage.getItem(n),(0,t.useEffect)((function(){e(HO())}),[]),(0,aP.jsx)("div",{className:"App",children:(0,aP.jsxs)(pt,{history:xN,children:[(0,aP.jsx)(uP,{}),(0,aP.jsxs)(J,{children:[(0,aP.jsx)(H,{path:"/",exact:!0,children:(0,aP.jsx)(MP,{})}),(0,aP.jsx)(H,{path:"/login",children:(0,aP.jsx)(jP,{})}),(0,aP.jsx)(H,{path:"/signup",children:(0,aP.jsx)(VP,{})}),(0,aP.jsx)(H,{path:"/upload",children:(0,aP.jsx)(BP,{})}),(0,aP.jsx)(H,{path:"/detail/:id",children:(0,aP.jsx)(eD,{})}),(0,aP.jsx)(H,{path:"/notice",children:(0,aP.jsx)(rD,{})}),(0,aP.jsx)(H,{path:"/edit/:id",children:(0,aP.jsx)(aD,{})})]})]})})};r.render((0,aP.jsx)(ue,{store:IN,children:(0,aP.jsx)(oD,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.b98ceb28.js.map